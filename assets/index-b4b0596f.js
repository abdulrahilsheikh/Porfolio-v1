(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Ty(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uE={exports:{}},kp={},cE={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=Symbol.for("react.element"),Kb=Symbol.for("react.portal"),$b=Symbol.for("react.fragment"),eR=Symbol.for("react.strict_mode"),tR=Symbol.for("react.profiler"),nR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),sR=Symbol.for("react.suspense"),oR=Symbol.for("react.memo"),aR=Symbol.for("react.lazy"),rA=Symbol.iterator;function lR(n){return n===null||typeof n!="object"?null:(n=rA&&n[rA]||n["@@iterator"],typeof n=="function"?n:null)}var fE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dE=Object.assign,hE={};function fu(n,e,t){this.props=n,this.context=e,this.refs=hE,this.updater=t||fE}fu.prototype.isReactComponent={};fu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};fu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function pE(){}pE.prototype=fu.prototype;function Cy(n,e,t){this.props=n,this.context=e,this.refs=hE,this.updater=t||fE}var by=Cy.prototype=new pE;by.constructor=Cy;dE(by,fu.prototype);by.isPureReactComponent=!0;var sA=Array.isArray,mE=Object.prototype.hasOwnProperty,Ry={current:null},gE={key:!0,ref:!0,__self:!0,__source:!0};function vE(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mE.call(e,i)&&!gE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var u=Array(a),f=0;f<a;f++)u[f]=arguments[f+2];r.children=u}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:df,type:n,key:s,ref:o,props:r,_owner:Ry.current}}function uR(n,e){return{$$typeof:df,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Py(n){return typeof n=="object"&&n!==null&&n.$$typeof===df}function cR(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var oA=/\/+/g;function Sg(n,e){return typeof n=="object"&&n!==null&&n.key!=null?cR(""+n.key):e.toString(36)}function Gh(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case df:case Kb:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Sg(o,0):i,sA(r)?(t="",n!=null&&(t=n.replace(oA,"$&/")+"/"),Gh(r,e,t,"",function(f){return f})):r!=null&&(Py(r)&&(r=uR(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(oA,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",sA(n))for(var a=0;a<n.length;a++){s=n[a];var u=i+Sg(s,a);o+=Gh(s,e,t,u,r)}else if(u=lR(n),typeof u=="function")for(n=u.call(n),a=0;!(s=n.next()).done;)s=s.value,u=i+Sg(s,a++),o+=Gh(s,e,t,u,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Od(n,e,t){if(n==null)return n;var i=[],r=0;return Gh(n,i,"","",function(s){return e.call(t,s,r++)}),i}function fR(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var li={current:null},Wh={transition:null},dR={ReactCurrentDispatcher:li,ReactCurrentBatchConfig:Wh,ReactCurrentOwner:Ry};Et.Children={map:Od,forEach:function(n,e,t){Od(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Od(n,function(){e++}),e},toArray:function(n){return Od(n,function(e){return e})||[]},only:function(n){if(!Py(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Et.Component=fu;Et.Fragment=$b;Et.Profiler=tR;Et.PureComponent=Cy;Et.StrictMode=eR;Et.Suspense=sR;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;Et.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=dE({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ry.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(u in e)mE.call(e,u)&&!gE.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){a=Array(u);for(var f=0;f<u;f++)a[f]=arguments[f+2];i.children=a}return{$$typeof:df,type:n.type,key:r,ref:s,props:i,_owner:o}};Et.createContext=function(n){return n={$$typeof:iR,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:nR,_context:n},n.Consumer=n};Et.createElement=vE;Et.createFactory=function(n){var e=vE.bind(null,n);return e.type=n,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(n){return{$$typeof:rR,render:n}};Et.isValidElement=Py;Et.lazy=function(n){return{$$typeof:aR,_payload:{_status:-1,_result:n},_init:fR}};Et.memo=function(n,e){return{$$typeof:oR,type:n,compare:e===void 0?null:e}};Et.startTransition=function(n){var e=Wh.transition;Wh.transition={};try{n()}finally{Wh.transition=e}};Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Et.useCallback=function(n,e){return li.current.useCallback(n,e)};Et.useContext=function(n){return li.current.useContext(n)};Et.useDebugValue=function(){};Et.useDeferredValue=function(n){return li.current.useDeferredValue(n)};Et.useEffect=function(n,e){return li.current.useEffect(n,e)};Et.useId=function(){return li.current.useId()};Et.useImperativeHandle=function(n,e,t){return li.current.useImperativeHandle(n,e,t)};Et.useInsertionEffect=function(n,e){return li.current.useInsertionEffect(n,e)};Et.useLayoutEffect=function(n,e){return li.current.useLayoutEffect(n,e)};Et.useMemo=function(n,e){return li.current.useMemo(n,e)};Et.useReducer=function(n,e,t){return li.current.useReducer(n,e,t)};Et.useRef=function(n){return li.current.useRef(n)};Et.useState=function(n){return li.current.useState(n)};Et.useSyncExternalStore=function(n,e,t){return li.current.useSyncExternalStore(n,e,t)};Et.useTransition=function(){return li.current.useTransition()};Et.version="18.2.0";cE.exports=Et;var de=cE.exports;const Si=Ty(de);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR=de,pR=Symbol.for("react.element"),mR=Symbol.for("react.fragment"),gR=Object.prototype.hasOwnProperty,vR=hR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yR={key:!0,ref:!0,__self:!0,__source:!0};function yE(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)gR.call(e,i)&&!yR.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:pR,type:n,key:s,ref:o,props:r,_owner:vR.current}}kp.Fragment=mR;kp.jsx=yE;kp.jsxs=yE;uE.exports=kp;var q=uE.exports,V0={},_E={exports:{}},zi={},xE={exports:{}},AE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,D){var k=N.length;N.push(D);e:for(;0<k;){var te=k-1>>>1,K=N[te];if(0<r(K,D))N[te]=D,N[k]=K,k=te;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var D=N[0],k=N.pop();if(k!==D){N[0]=k;e:for(var te=0,K=N.length,ie=K>>>1;te<ie;){var re=2*(te+1)-1,we=N[re],Z=re+1,U=N[Z];if(0>r(we,k))Z<K&&0>r(U,we)?(N[te]=U,N[Z]=k,te=Z):(N[te]=we,N[re]=k,te=re);else if(Z<K&&0>r(U,k))N[te]=U,N[Z]=k,te=Z;else break e}}return D}function r(N,D){var k=N.sortIndex-D.sortIndex;return k!==0?k:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],d=1,h=null,p=3,m=!1,y=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var D=t(f);D!==null;){if(D.callback===null)i(f);else if(D.startTime<=N)i(f),D.sortIndex=D.expirationTime,e(u,D);else break;D=t(f)}}function E(N){if(S=!1,x(N),!y)if(t(u)!==null)y=!0,ee(T);else{var D=t(f);D!==null&&W(E,D.startTime-N)}}function T(N,D){y=!1,S&&(S=!1,v(L),L=-1),m=!0;var k=p;try{for(x(D),h=t(u);h!==null&&(!(h.expirationTime>D)||N&&!F());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var K=te(h.expirationTime<=D);D=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(u)&&i(u),x(D)}else i(u);h=t(u)}if(h!==null)var ie=!0;else{var re=t(f);re!==null&&W(E,re.startTime-D),ie=!1}return ie}finally{h=null,p=k,m=!1}}var P=!1,R=null,L=-1,C=5,I=-1;function F(){return!(n.unstable_now()-I<C)}function j(){if(R!==null){var N=n.unstable_now();I=N;var D=!0;try{D=R(!0,N)}finally{D?G():(P=!1,R=null)}}else P=!1}var G;if(typeof A=="function")G=function(){A(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=j,G=function(){X.postMessage(null)}}else G=function(){M(j,0)};function ee(N){R=N,P||(P=!0,G())}function W(N,D){L=M(function(){N(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ee(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var k=p;p=D;try{return N()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var k=p;p=N;try{return D()}finally{p=k}},n.unstable_scheduleCallback=function(N,D,k){var te=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?te+k:te):k=te,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=k+K,N={id:d++,callback:D,priorityLevel:N,startTime:k,expirationTime:K,sortIndex:-1},k>te?(N.sortIndex=k,e(f,N),t(u)===null&&N===t(f)&&(S?(v(L),L=-1):S=!0,W(E,k-te))):(N.sortIndex=K,e(u,N),y||m||(y=!0,ee(T))),N},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(N){var D=p;return function(){var k=p;p=D;try{return N.apply(this,arguments)}finally{p=k}}}})(AE);xE.exports=AE;var _R=xE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=de,Bi=_R;function Pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ME=new Set,Dc={};function ba(n,e){Yl(n,e),Yl(n+"Capture",e)}function Yl(n,e){for(Dc[n]=e,n=0;n<e.length;n++)ME.add(e[n])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G0=Object.prototype.hasOwnProperty,xR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aA={},lA={};function AR(n){return G0.call(lA,n)?!0:G0.call(aA,n)?!1:xR.test(n)?lA[n]=!0:(aA[n]=!0,!1)}function SR(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function MR(n,e,t,i){if(e===null||typeof e>"u"||SR(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zn[n]=new ui(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];zn[e]=new ui(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zn[n]=new ui(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zn[n]=new ui(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zn[n]=new ui(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zn[n]=new ui(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zn[n]=new ui(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zn[n]=new ui(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zn[n]=new ui(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ly=/[\-:]([a-z])/g;function Iy(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Ly,Iy);zn[e]=new ui(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Ly,Iy);zn[e]=new ui(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Ly,Iy);zn[e]=new ui(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zn[n]=new ui(n,1,!1,n.toLowerCase(),null,!1,!1)});zn.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zn[n]=new ui(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ny(n,e,t,i){var r=zn.hasOwnProperty(e)?zn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MR(e,t,r,i)&&(t=null),i||r===null?AR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Us=SE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=Symbol.for("react.element"),xl=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),wE=Symbol.for("react.context"),Uy=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),X0=Symbol.for("react.suspense_list"),Oy=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),TE=Symbol.for("react.offscreen"),uA=Symbol.iterator;function Gu(n){return n===null||typeof n!="object"?null:(n=uA&&n[uA]||n["@@iterator"],typeof n=="function"?n:null)}var rn=Object.assign,Mg;function hc(n){if(Mg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Mg=e&&e[1]||""}return`
`+Mg+n}var Eg=!1;function wg(n,e){if(!n||Eg)return"";Eg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var u=`
`+r[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=a);break}}}finally{Eg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?hc(n):""}function ER(n){switch(n.tag){case 5:return hc(n.type);case 16:return hc("Lazy");case 13:return hc("Suspense");case 19:return hc("SuspenseList");case 0:case 2:case 15:return n=wg(n.type,!1),n;case 11:return n=wg(n.type.render,!1),n;case 1:return n=wg(n.type,!0),n;default:return""}}function Y0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Al:return"Fragment";case xl:return"Portal";case W0:return"Profiler";case Dy:return"StrictMode";case j0:return"Suspense";case X0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case wE:return(n.displayName||"Context")+".Consumer";case EE:return(n._context.displayName||"Context")+".Provider";case Uy:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Oy:return e=n.displayName||null,e!==null?e:Y0(n.type)||"Memo";case eo:e=n._payload,n=n._init;try{return Y0(n(e))}catch{}}return null}function wR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y0(e);case 8:return e===Dy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function CE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TR(n){var e=CE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function kd(n){n._valueTracker||(n._valueTracker=TR(n))}function bE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=CE(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function up(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function q0(n,e){var t=e.checked;return rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function cA(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=xo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RE(n,e){e=e.checked,e!=null&&Ny(n,"checked",e,!1)}function J0(n,e){RE(n,e);var t=xo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Q0(n,e.type,t):e.hasOwnProperty("defaultValue")&&Q0(n,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function fA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Q0(n,e,t){(e!=="number"||up(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var pc=Array.isArray;function Fl(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+xo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Z0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return rn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function dA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Pe(92));if(pc(t)){if(1<t.length)throw Error(Pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:xo(t)}}function PE(n,e){var t=xo(e.value),i=xo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function hA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function LE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?LE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Bd,IE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Uc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CR=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(n){CR.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),xc[e]=xc[n]})});function NE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||xc.hasOwnProperty(n)&&xc[n]?(""+e).trim():e+"px"}function DE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=NE(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var bR=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $0(n,e){if(e){if(bR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function ev(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=null;function Fy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nv=null,kl=null,Bl=null;function pA(n){if(n=mf(n)){if(typeof nv!="function")throw Error(Pe(280));var e=n.stateNode;e&&(e=Gp(e),nv(n.stateNode,n.type,e))}}function UE(n){kl?Bl?Bl.push(n):Bl=[n]:kl=n}function OE(){if(kl){var n=kl,e=Bl;if(Bl=kl=null,pA(n),e)for(n=0;n<e.length;n++)pA(e[n])}}function FE(n,e){return n(e)}function kE(){}var Tg=!1;function BE(n,e,t){if(Tg)return n(e,t);Tg=!0;try{return FE(n,e,t)}finally{Tg=!1,(kl!==null||Bl!==null)&&(kE(),OE())}}function Oc(n,e){var t=n.stateNode;if(t===null)return null;var i=Gp(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Pe(231,e,typeof t));return t}var iv=!1;if(bs)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){iv=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{iv=!1}function RR(n,e,t,i,r,s,o,a,u){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(d){this.onError(d)}}var Ac=!1,cp=null,fp=!1,rv=null,PR={onError:function(n){Ac=!0,cp=n}};function LR(n,e,t,i,r,s,o,a,u){Ac=!1,cp=null,RR.apply(PR,arguments)}function IR(n,e,t,i,r,s,o,a,u){if(LR.apply(this,arguments),Ac){if(Ac){var f=cp;Ac=!1,cp=null}else throw Error(Pe(198));fp||(fp=!0,rv=f)}}function Ra(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function zE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function mA(n){if(Ra(n)!==n)throw Error(Pe(188))}function NR(n){var e=n.alternate;if(!e){if(e=Ra(n),e===null)throw Error(Pe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return mA(r),n;if(s===i)return mA(r),e;s=s.sibling}throw Error(Pe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(t.alternate!==i)throw Error(Pe(190))}if(t.tag!==3)throw Error(Pe(188));return t.stateNode.current===t?n:e}function HE(n){return n=NR(n),n!==null?VE(n):null}function VE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=VE(n);if(e!==null)return e;n=n.sibling}return null}var GE=Bi.unstable_scheduleCallback,gA=Bi.unstable_cancelCallback,DR=Bi.unstable_shouldYield,UR=Bi.unstable_requestPaint,dn=Bi.unstable_now,OR=Bi.unstable_getCurrentPriorityLevel,ky=Bi.unstable_ImmediatePriority,WE=Bi.unstable_UserBlockingPriority,dp=Bi.unstable_NormalPriority,FR=Bi.unstable_LowPriority,jE=Bi.unstable_IdlePriority,Bp=null,Zr=null;function kR(n){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Bp,n,void 0,(n.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:HR,BR=Math.log,zR=Math.LN2;function HR(n){return n>>>=0,n===0?32:31-(BR(n)/zR|0)|0}var zd=64,Hd=4194304;function mc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function hp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=mc(a):(s&=o,s!==0&&(i=mc(s)))}else o=t&~r,o!==0?i=mc(o):s!==0&&(i=mc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Tr(e),r=1<<t,i|=n[t],e&=~r;return i}function VR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GR(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Tr(s),a=1<<o,u=r[o];u===-1?(!(a&t)||a&i)&&(r[o]=VR(a,e)):u<=e&&(n.expiredLanes|=a),s&=~a}}function sv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function XE(){var n=zd;return zd<<=1,!(zd&4194240)&&(zd=64),n}function Cg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function hf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Tr(e),n[e]=t}function WR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Tr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function By(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Tr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var kt=0;function YE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var qE,zy,JE,QE,ZE,ov=!1,Vd=[],uo=null,co=null,fo=null,Fc=new Map,kc=new Map,ro=[],jR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vA(n,e){switch(n){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function ju(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=mf(e),e!==null&&zy(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function XR(n,e,t,i,r){switch(e){case"focusin":return uo=ju(uo,n,e,t,i,r),!0;case"dragenter":return co=ju(co,n,e,t,i,r),!0;case"mouseover":return fo=ju(fo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Fc.set(s,ju(Fc.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,kc.set(s,ju(kc.get(s)||null,n,e,t,i,r)),!0}return!1}function KE(n){var e=ra(n.target);if(e!==null){var t=Ra(e);if(t!==null){if(e=t.tag,e===13){if(e=zE(t),e!==null){n.blockedOn=e,ZE(n.priority,function(){JE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jh(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=av(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);tv=i,t.target.dispatchEvent(i),tv=null}else return e=mf(t),e!==null&&zy(e),n.blockedOn=t,!1;e.shift()}return!0}function yA(n,e,t){jh(n)&&t.delete(e)}function YR(){ov=!1,uo!==null&&jh(uo)&&(uo=null),co!==null&&jh(co)&&(co=null),fo!==null&&jh(fo)&&(fo=null),Fc.forEach(yA),kc.forEach(yA)}function Xu(n,e){n.blockedOn===e&&(n.blockedOn=null,ov||(ov=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,YR)))}function Bc(n){function e(r){return Xu(r,n)}if(0<Vd.length){Xu(Vd[0],n);for(var t=1;t<Vd.length;t++){var i=Vd[t];i.blockedOn===n&&(i.blockedOn=null)}}for(uo!==null&&Xu(uo,n),co!==null&&Xu(co,n),fo!==null&&Xu(fo,n),Fc.forEach(e),kc.forEach(e),t=0;t<ro.length;t++)i=ro[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ro.length&&(t=ro[0],t.blockedOn===null);)KE(t),t.blockedOn===null&&ro.shift()}var zl=Us.ReactCurrentBatchConfig,pp=!0;function qR(n,e,t,i){var r=kt,s=zl.transition;zl.transition=null;try{kt=1,Hy(n,e,t,i)}finally{kt=r,zl.transition=s}}function JR(n,e,t,i){var r=kt,s=zl.transition;zl.transition=null;try{kt=4,Hy(n,e,t,i)}finally{kt=r,zl.transition=s}}function Hy(n,e,t,i){if(pp){var r=av(n,e,t,i);if(r===null)Fg(n,e,i,mp,t),vA(n,i);else if(XR(r,n,e,t,i))i.stopPropagation();else if(vA(n,i),e&4&&-1<jR.indexOf(n)){for(;r!==null;){var s=mf(r);if(s!==null&&qE(s),s=av(n,e,t,i),s===null&&Fg(n,e,i,mp,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Fg(n,e,i,null,t)}}var mp=null;function av(n,e,t,i){if(mp=null,n=Fy(i),n=ra(n),n!==null)if(e=Ra(n),e===null)n=null;else if(t=e.tag,t===13){if(n=zE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return mp=n,null}function $E(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OR()){case ky:return 1;case WE:return 4;case dp:case FR:return 16;case jE:return 536870912;default:return 16}default:return 16}}var oo=null,Vy=null,Xh=null;function ew(){if(Xh)return Xh;var n,e=Vy,t=e.length,i,r="value"in oo?oo.value:oo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Xh=r.slice(n,1<i?1-i:void 0)}function Yh(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gd(){return!0}function _A(){return!1}function Hi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gd:_A,this.isPropagationStopped=_A,this}return rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gd)},persist:function(){},isPersistent:Gd}),e}var du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gy=Hi(du),pf=rn({},du,{view:0,detail:0}),QR=Hi(pf),bg,Rg,Yu,zp=rn({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yu&&(Yu&&n.type==="mousemove"?(bg=n.screenX-Yu.screenX,Rg=n.screenY-Yu.screenY):Rg=bg=0,Yu=n),bg)},movementY:function(n){return"movementY"in n?n.movementY:Rg}}),xA=Hi(zp),ZR=rn({},zp,{dataTransfer:0}),KR=Hi(ZR),$R=rn({},pf,{relatedTarget:0}),Pg=Hi($R),eP=rn({},du,{animationName:0,elapsedTime:0,pseudoElement:0}),tP=Hi(eP),nP=rn({},du,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iP=Hi(nP),rP=rn({},du,{data:0}),AA=Hi(rP),sP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lP(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=aP[n])?!!e[n]:!1}function Wy(){return lP}var uP=rn({},pf,{key:function(n){if(n.key){var e=sP[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Yh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wy,charCode:function(n){return n.type==="keypress"?Yh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cP=Hi(uP),fP=rn({},zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SA=Hi(fP),dP=rn({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wy}),hP=Hi(dP),pP=rn({},du,{propertyName:0,elapsedTime:0,pseudoElement:0}),mP=Hi(pP),gP=rn({},zp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vP=Hi(gP),yP=[9,13,27,32],jy=bs&&"CompositionEvent"in window,Sc=null;bs&&"documentMode"in document&&(Sc=document.documentMode);var _P=bs&&"TextEvent"in window&&!Sc,tw=bs&&(!jy||Sc&&8<Sc&&11>=Sc),MA=String.fromCharCode(32),EA=!1;function nw(n,e){switch(n){case"keyup":return yP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Sl=!1;function xP(n,e){switch(n){case"compositionend":return iw(e);case"keypress":return e.which!==32?null:(EA=!0,MA);case"textInput":return n=e.data,n===MA&&EA?null:n;default:return null}}function AP(n,e){if(Sl)return n==="compositionend"||!jy&&nw(n,e)?(n=ew(),Xh=Vy=oo=null,Sl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tw&&e.locale!=="ko"?null:e.data;default:return null}}var SP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SP[n.type]:e==="textarea"}function rw(n,e,t,i){UE(i),e=gp(e,"onChange"),0<e.length&&(t=new Gy("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Mc=null,zc=null;function MP(n){mw(n,0)}function Hp(n){var e=wl(n);if(bE(e))return n}function EP(n,e){if(n==="change")return e}var sw=!1;if(bs){var Lg;if(bs){var Ig="oninput"in document;if(!Ig){var TA=document.createElement("div");TA.setAttribute("oninput","return;"),Ig=typeof TA.oninput=="function"}Lg=Ig}else Lg=!1;sw=Lg&&(!document.documentMode||9<document.documentMode)}function CA(){Mc&&(Mc.detachEvent("onpropertychange",ow),zc=Mc=null)}function ow(n){if(n.propertyName==="value"&&Hp(zc)){var e=[];rw(e,zc,n,Fy(n)),BE(MP,e)}}function wP(n,e,t){n==="focusin"?(CA(),Mc=e,zc=t,Mc.attachEvent("onpropertychange",ow)):n==="focusout"&&CA()}function TP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hp(zc)}function CP(n,e){if(n==="click")return Hp(e)}function bP(n,e){if(n==="input"||n==="change")return Hp(e)}function RP(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Pr=typeof Object.is=="function"?Object.is:RP;function Hc(n,e){if(Pr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!G0.call(e,r)||!Pr(n[r],e[r]))return!1}return!0}function bA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function RA(n,e){var t=bA(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=bA(t)}}function aw(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?aw(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function lw(){for(var n=window,e=up();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=up(n.document)}return e}function Xy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function PP(n){var e=lw(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&aw(t.ownerDocument.documentElement,t)){if(i!==null&&Xy(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=RA(t,s);var o=RA(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var LP=bs&&"documentMode"in document&&11>=document.documentMode,Ml=null,lv=null,Ec=null,uv=!1;function PA(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;uv||Ml==null||Ml!==up(i)||(i=Ml,"selectionStart"in i&&Xy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ec&&Hc(Ec,i)||(Ec=i,i=gp(lv,"onSelect"),0<i.length&&(e=new Gy("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ml)))}function Wd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var El={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},Ng={},uw={};bs&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function Vp(n){if(Ng[n])return Ng[n];if(!El[n])return n;var e=El[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in uw)return Ng[n]=e[t];return n}var cw=Vp("animationend"),fw=Vp("animationiteration"),dw=Vp("animationstart"),hw=Vp("transitionend"),pw=new Map,LA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(n,e){pw.set(n,e),ba(e,[n])}for(var Dg=0;Dg<LA.length;Dg++){var Ug=LA[Dg],IP=Ug.toLowerCase(),NP=Ug[0].toUpperCase()+Ug.slice(1);To(IP,"on"+NP)}To(cw,"onAnimationEnd");To(fw,"onAnimationIteration");To(dw,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(hw,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DP=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function IA(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,IR(i,e,void 0,n),n.currentTarget=null}function mw(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],u=a.instance,f=a.currentTarget;if(a=a.listener,u!==s&&r.isPropagationStopped())break e;IA(r,a,f),s=u}else for(o=0;o<i.length;o++){if(a=i[o],u=a.instance,f=a.currentTarget,a=a.listener,u!==s&&r.isPropagationStopped())break e;IA(r,a,f),s=u}}}if(fp)throw n=rv,fp=!1,rv=null,n}function jt(n,e){var t=e[pv];t===void 0&&(t=e[pv]=new Set);var i=n+"__bubble";t.has(i)||(gw(e,n,2,!1),t.add(i))}function Og(n,e,t){var i=0;e&&(i|=4),gw(t,n,i,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Vc(n){if(!n[jd]){n[jd]=!0,ME.forEach(function(t){t!=="selectionchange"&&(DP.has(t)||Og(t,!1,n),Og(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jd]||(e[jd]=!0,Og("selectionchange",!1,e))}}function gw(n,e,t,i){switch($E(e)){case 1:var r=qR;break;case 4:r=JR;break;default:r=Hy}t=r.bind(null,e,t,n),r=void 0,!iv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Fg(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ra(a),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}a=a.parentNode}}i=i.return}BE(function(){var f=s,d=Fy(t),h=[];e:{var p=pw.get(n);if(p!==void 0){var m=Gy,y=n;switch(n){case"keypress":if(Yh(t)===0)break e;case"keydown":case"keyup":m=cP;break;case"focusin":y="focus",m=Pg;break;case"focusout":y="blur",m=Pg;break;case"beforeblur":case"afterblur":m=Pg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=KR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hP;break;case cw:case fw:case dw:m=tP;break;case hw:m=mP;break;case"scroll":m=QR;break;case"wheel":m=vP;break;case"copy":case"cut":case"paste":m=iP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=SA}var S=(e&4)!==0,M=!S&&n==="scroll",v=S?p!==null?p+"Capture":null:p;S=[];for(var A=f,x;A!==null;){x=A;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,v!==null&&(E=Oc(A,v),E!=null&&S.push(Gc(A,E,x)))),M)break;A=A.return}0<S.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==tv&&(y=t.relatedTarget||t.fromElement)&&(ra(y)||y[Rs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=f,y=y?ra(y):null,y!==null&&(M=Ra(y),y!==M||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=f),m!==y)){if(S=xA,E="onMouseLeave",v="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(S=SA,E="onPointerLeave",v="onPointerEnter",A="pointer"),M=m==null?p:wl(m),x=y==null?p:wl(y),p=new S(E,A+"leave",m,t,d),p.target=M,p.relatedTarget=x,E=null,ra(d)===f&&(S=new S(v,A+"enter",y,t,d),S.target=x,S.relatedTarget=M,E=S),M=E,m&&y)t:{for(S=m,v=y,A=0,x=S;x;x=Ya(x))A++;for(x=0,E=v;E;E=Ya(E))x++;for(;0<A-x;)S=Ya(S),A--;for(;0<x-A;)v=Ya(v),x--;for(;A--;){if(S===v||v!==null&&S===v.alternate)break t;S=Ya(S),v=Ya(v)}S=null}else S=null;m!==null&&NA(h,p,m,S,!1),y!==null&&M!==null&&NA(h,M,y,S,!0)}}e:{if(p=f?wl(f):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=EP;else if(wA(p))if(sw)T=bP;else{T=TP;var P=wP}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=CP);if(T&&(T=T(n,f))){rw(h,T,t,d);break e}P&&P(n,p,f),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Q0(p,"number",p.value)}switch(P=f?wl(f):window,n){case"focusin":(wA(P)||P.contentEditable==="true")&&(Ml=P,lv=f,Ec=null);break;case"focusout":Ec=lv=Ml=null;break;case"mousedown":uv=!0;break;case"contextmenu":case"mouseup":case"dragend":uv=!1,PA(h,t,d);break;case"selectionchange":if(LP)break;case"keydown":case"keyup":PA(h,t,d)}var R;if(jy)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Sl?nw(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(tw&&t.locale!=="ko"&&(Sl||L!=="onCompositionStart"?L==="onCompositionEnd"&&Sl&&(R=ew()):(oo=d,Vy="value"in oo?oo.value:oo.textContent,Sl=!0)),P=gp(f,L),0<P.length&&(L=new AA(L,n,null,t,d),h.push({event:L,listeners:P}),R?L.data=R:(R=iw(t),R!==null&&(L.data=R)))),(R=_P?xP(n,t):AP(n,t))&&(f=gp(f,"onBeforeInput"),0<f.length&&(d=new AA("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:f}),d.data=R))}mw(h,e)})}function Gc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function gp(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Oc(n,t),s!=null&&i.unshift(Gc(n,s,r)),s=Oc(n,e),s!=null&&i.push(Gc(n,s,r))),n=n.return}return i}function Ya(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function NA(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,u=a.alternate,f=a.stateNode;if(u!==null&&u===i)break;a.tag===5&&f!==null&&(a=f,r?(u=Oc(t,s),u!=null&&o.unshift(Gc(t,u,a))):r||(u=Oc(t,s),u!=null&&o.push(Gc(t,u,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var UP=/\r\n?/g,OP=/\u0000|\uFFFD/g;function DA(n){return(typeof n=="string"?n:""+n).replace(UP,`
`).replace(OP,"")}function Xd(n,e,t){if(e=DA(e),DA(n)!==e&&t)throw Error(Pe(425))}function vp(){}var cv=null,fv=null;function dv(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hv=typeof setTimeout=="function"?setTimeout:void 0,FP=typeof clearTimeout=="function"?clearTimeout:void 0,UA=typeof Promise=="function"?Promise:void 0,kP=typeof queueMicrotask=="function"?queueMicrotask:typeof UA<"u"?function(n){return UA.resolve(null).then(n).catch(BP)}:hv;function BP(n){setTimeout(function(){throw n})}function kg(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Bc(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Bc(e)}function ho(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function OA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var hu=Math.random().toString(36).slice(2),Qr="__reactFiber$"+hu,Wc="__reactProps$"+hu,Rs="__reactContainer$"+hu,pv="__reactEvents$"+hu,zP="__reactListeners$"+hu,HP="__reactHandles$"+hu;function ra(n){var e=n[Qr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Rs]||t[Qr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=OA(n);n!==null;){if(t=n[Qr])return t;n=OA(n)}return e}n=t,t=n.parentNode}return null}function mf(n){return n=n[Qr]||n[Rs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function wl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Pe(33))}function Gp(n){return n[Wc]||null}var mv=[],Tl=-1;function Co(n){return{current:n}}function qt(n){0>Tl||(n.current=mv[Tl],mv[Tl]=null,Tl--)}function Wt(n,e){Tl++,mv[Tl]=n.current,n.current=e}var Ao={},Kn=Co(Ao),_i=Co(!1),ya=Ao;function ql(n,e){var t=n.type.contextTypes;if(!t)return Ao;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function xi(n){return n=n.childContextTypes,n!=null}function yp(){qt(_i),qt(Kn)}function FA(n,e,t){if(Kn.current!==Ao)throw Error(Pe(168));Wt(Kn,e),Wt(_i,t)}function vw(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Pe(108,wR(n)||"Unknown",r));return rn({},t,i)}function _p(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ao,ya=Kn.current,Wt(Kn,n),Wt(_i,_i.current),!0}function kA(n,e,t){var i=n.stateNode;if(!i)throw Error(Pe(169));t?(n=vw(n,e,ya),i.__reactInternalMemoizedMergedChildContext=n,qt(_i),qt(Kn),Wt(Kn,n)):qt(_i),Wt(_i,t)}var _s=null,Wp=!1,Bg=!1;function yw(n){_s===null?_s=[n]:_s.push(n)}function VP(n){Wp=!0,yw(n)}function bo(){if(!Bg&&_s!==null){Bg=!0;var n=0,e=kt;try{var t=_s;for(kt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}_s=null,Wp=!1}catch(r){throw _s!==null&&(_s=_s.slice(n+1)),GE(ky,bo),r}finally{kt=e,Bg=!1}}return null}var Cl=[],bl=0,xp=null,Ap=0,nr=[],ir=0,_a=null,Ss=1,Ms="";function Qo(n,e){Cl[bl++]=Ap,Cl[bl++]=xp,xp=n,Ap=e}function _w(n,e,t){nr[ir++]=Ss,nr[ir++]=Ms,nr[ir++]=_a,_a=n;var i=Ss;n=Ms;var r=32-Tr(i)-1;i&=~(1<<r),t+=1;var s=32-Tr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ss=1<<32-Tr(e)+r|t<<r|i,Ms=s+n}else Ss=1<<s|t<<r|i,Ms=n}function Yy(n){n.return!==null&&(Qo(n,1),_w(n,1,0))}function qy(n){for(;n===xp;)xp=Cl[--bl],Cl[bl]=null,Ap=Cl[--bl],Cl[bl]=null;for(;n===_a;)_a=nr[--ir],nr[ir]=null,Ms=nr[--ir],nr[ir]=null,Ss=nr[--ir],nr[ir]=null}var Fi=null,Di=null,Zt=!1,Mr=null;function xw(n,e){var t=rr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function BA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Fi=n,Di=ho(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Fi=n,Di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=_a!==null?{id:Ss,overflow:Ms}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=rr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Fi=n,Di=null,!0):!1;default:return!1}}function gv(n){return(n.mode&1)!==0&&(n.flags&128)===0}function vv(n){if(Zt){var e=Di;if(e){var t=e;if(!BA(n,e)){if(gv(n))throw Error(Pe(418));e=ho(t.nextSibling);var i=Fi;e&&BA(n,e)?xw(i,t):(n.flags=n.flags&-4097|2,Zt=!1,Fi=n)}}else{if(gv(n))throw Error(Pe(418));n.flags=n.flags&-4097|2,Zt=!1,Fi=n}}}function zA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Fi=n}function Yd(n){if(n!==Fi)return!1;if(!Zt)return zA(n),Zt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!dv(n.type,n.memoizedProps)),e&&(e=Di)){if(gv(n))throw Aw(),Error(Pe(418));for(;e;)xw(n,e),e=ho(e.nextSibling)}if(zA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Di=ho(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Di=null}}else Di=Fi?ho(n.stateNode.nextSibling):null;return!0}function Aw(){for(var n=Di;n;)n=ho(n.nextSibling)}function Jl(){Di=Fi=null,Zt=!1}function Jy(n){Mr===null?Mr=[n]:Mr.push(n)}var GP=Us.ReactCurrentBatchConfig;function xr(n,e){if(n&&n.defaultProps){e=rn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Sp=Co(null),Mp=null,Rl=null,Qy=null;function Zy(){Qy=Rl=Mp=null}function Ky(n){var e=Sp.current;qt(Sp),n._currentValue=e}function yv(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Hl(n,e){Mp=n,Qy=Rl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(yi=!0),n.firstContext=null)}function ar(n){var e=n._currentValue;if(Qy!==n)if(n={context:n,memoizedValue:e,next:null},Rl===null){if(Mp===null)throw Error(Pe(308));Rl=n,Mp.dependencies={lanes:0,firstContext:n}}else Rl=Rl.next=n;return e}var sa=null;function $y(n){sa===null?sa=[n]:sa.push(n)}function Sw(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,$y(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ps(n,i)}function Ps(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var to=!1;function e_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mw(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ws(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function po(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,bt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ps(n,t)}return r=i.interleaved,r===null?(e.next=e,$y(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ps(n,t)}function qh(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,By(n,t)}}function HA(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ep(n,e,t,i){var r=n.updateQueue;to=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var u=a,f=u.next;u.next=null,o===null?s=f:o.next=f,o=u;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=u))}if(s!==null){var h=r.baseState;o=0,d=f=u=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,S=a;switch(p=e,m=t,S.tag){case 1:if(y=S.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=rn({},h,p);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=m,u=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(u=h),r.baseState=u,r.firstBaseUpdate=f,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Aa|=o,n.lanes=o,n.memoizedState=h}}function VA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Pe(191,r));r.call(i)}}}var Ew=new SE.Component().refs;function _v(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:rn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var jp={isMounted:function(n){return(n=n._reactInternals)?Ra(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=oi(),r=go(n),s=ws(i,r);s.payload=e,t!=null&&(s.callback=t),e=po(n,s,r),e!==null&&(Cr(e,n,r,i),qh(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=oi(),r=go(n),s=ws(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=po(n,s,r),e!==null&&(Cr(e,n,r,i),qh(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=oi(),i=go(n),r=ws(t,i);r.tag=2,e!=null&&(r.callback=e),e=po(n,r,i),e!==null&&(Cr(e,n,i,t),qh(e,n,i))}};function GA(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hc(t,i)||!Hc(r,s):!0}function ww(n,e,t){var i=!1,r=Ao,s=e.contextType;return typeof s=="object"&&s!==null?s=ar(s):(r=xi(e)?ya:Kn.current,i=e.contextTypes,s=(i=i!=null)?ql(n,r):Ao),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jp,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function WA(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&jp.enqueueReplaceState(e,e.state,null)}function xv(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=Ew,e_(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ar(s):(s=xi(e)?ya:Kn.current,r.context=ql(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_v(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&jp.enqueueReplaceState(r,r.state,null),Ep(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function qu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Pe(309));var i=t.stateNode}if(!i)throw Error(Pe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===Ew&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Pe(284));if(!t._owner)throw Error(Pe(290,n))}return n}function qd(n,e){throw n=Object.prototype.toString.call(e),Error(Pe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function jA(n){var e=n._init;return e(n._payload)}function Tw(n){function e(v,A){if(n){var x=v.deletions;x===null?(v.deletions=[A],v.flags|=16):x.push(A)}}function t(v,A){if(!n)return null;for(;A!==null;)e(v,A),A=A.sibling;return null}function i(v,A){for(v=new Map;A!==null;)A.key!==null?v.set(A.key,A):v.set(A.index,A),A=A.sibling;return v}function r(v,A){return v=vo(v,A),v.index=0,v.sibling=null,v}function s(v,A,x){return v.index=x,n?(x=v.alternate,x!==null?(x=x.index,x<A?(v.flags|=2,A):x):(v.flags|=2,A)):(v.flags|=1048576,A)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,A,x,E){return A===null||A.tag!==6?(A=Xg(x,v.mode,E),A.return=v,A):(A=r(A,x),A.return=v,A)}function u(v,A,x,E){var T=x.type;return T===Al?d(v,A,x.props.children,E,x.key):A!==null&&(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===eo&&jA(T)===A.type)?(E=r(A,x.props),E.ref=qu(v,A,x),E.return=v,E):(E=ep(x.type,x.key,x.props,null,v.mode,E),E.ref=qu(v,A,x),E.return=v,E)}function f(v,A,x,E){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=Yg(x,v.mode,E),A.return=v,A):(A=r(A,x.children||[]),A.return=v,A)}function d(v,A,x,E,T){return A===null||A.tag!==7?(A=da(x,v.mode,E,T),A.return=v,A):(A=r(A,x),A.return=v,A)}function h(v,A,x){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Xg(""+A,v.mode,x),A.return=v,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Fd:return x=ep(A.type,A.key,A.props,null,v.mode,x),x.ref=qu(v,null,A),x.return=v,x;case xl:return A=Yg(A,v.mode,x),A.return=v,A;case eo:var E=A._init;return h(v,E(A._payload),x)}if(pc(A)||Gu(A))return A=da(A,v.mode,x,null),A.return=v,A;qd(v,A)}return null}function p(v,A,x,E){var T=A!==null?A.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(v,A,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fd:return x.key===T?u(v,A,x,E):null;case xl:return x.key===T?f(v,A,x,E):null;case eo:return T=x._init,p(v,A,T(x._payload),E)}if(pc(x)||Gu(x))return T!==null?null:d(v,A,x,E,null);qd(v,x)}return null}function m(v,A,x,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(x)||null,a(A,v,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fd:return v=v.get(E.key===null?x:E.key)||null,u(A,v,E,T);case xl:return v=v.get(E.key===null?x:E.key)||null,f(A,v,E,T);case eo:var P=E._init;return m(v,A,x,P(E._payload),T)}if(pc(E)||Gu(E))return v=v.get(x)||null,d(A,v,E,T,null);qd(A,E)}return null}function y(v,A,x,E){for(var T=null,P=null,R=A,L=A=0,C=null;R!==null&&L<x.length;L++){R.index>L?(C=R,R=null):C=R.sibling;var I=p(v,R,x[L],E);if(I===null){R===null&&(R=C);break}n&&R&&I.alternate===null&&e(v,R),A=s(I,A,L),P===null?T=I:P.sibling=I,P=I,R=C}if(L===x.length)return t(v,R),Zt&&Qo(v,L),T;if(R===null){for(;L<x.length;L++)R=h(v,x[L],E),R!==null&&(A=s(R,A,L),P===null?T=R:P.sibling=R,P=R);return Zt&&Qo(v,L),T}for(R=i(v,R);L<x.length;L++)C=m(R,v,L,x[L],E),C!==null&&(n&&C.alternate!==null&&R.delete(C.key===null?L:C.key),A=s(C,A,L),P===null?T=C:P.sibling=C,P=C);return n&&R.forEach(function(F){return e(v,F)}),Zt&&Qo(v,L),T}function S(v,A,x,E){var T=Gu(x);if(typeof T!="function")throw Error(Pe(150));if(x=T.call(x),x==null)throw Error(Pe(151));for(var P=T=null,R=A,L=A=0,C=null,I=x.next();R!==null&&!I.done;L++,I=x.next()){R.index>L?(C=R,R=null):C=R.sibling;var F=p(v,R,I.value,E);if(F===null){R===null&&(R=C);break}n&&R&&F.alternate===null&&e(v,R),A=s(F,A,L),P===null?T=F:P.sibling=F,P=F,R=C}if(I.done)return t(v,R),Zt&&Qo(v,L),T;if(R===null){for(;!I.done;L++,I=x.next())I=h(v,I.value,E),I!==null&&(A=s(I,A,L),P===null?T=I:P.sibling=I,P=I);return Zt&&Qo(v,L),T}for(R=i(v,R);!I.done;L++,I=x.next())I=m(R,v,L,I.value,E),I!==null&&(n&&I.alternate!==null&&R.delete(I.key===null?L:I.key),A=s(I,A,L),P===null?T=I:P.sibling=I,P=I);return n&&R.forEach(function(j){return e(v,j)}),Zt&&Qo(v,L),T}function M(v,A,x,E){if(typeof x=="object"&&x!==null&&x.type===Al&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Fd:e:{for(var T=x.key,P=A;P!==null;){if(P.key===T){if(T=x.type,T===Al){if(P.tag===7){t(v,P.sibling),A=r(P,x.props.children),A.return=v,v=A;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===eo&&jA(T)===P.type){t(v,P.sibling),A=r(P,x.props),A.ref=qu(v,P,x),A.return=v,v=A;break e}t(v,P);break}else e(v,P);P=P.sibling}x.type===Al?(A=da(x.props.children,v.mode,E,x.key),A.return=v,v=A):(E=ep(x.type,x.key,x.props,null,v.mode,E),E.ref=qu(v,A,x),E.return=v,v=E)}return o(v);case xl:e:{for(P=x.key;A!==null;){if(A.key===P)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){t(v,A.sibling),A=r(A,x.children||[]),A.return=v,v=A;break e}else{t(v,A);break}else e(v,A);A=A.sibling}A=Yg(x,v.mode,E),A.return=v,v=A}return o(v);case eo:return P=x._init,M(v,A,P(x._payload),E)}if(pc(x))return y(v,A,x,E);if(Gu(x))return S(v,A,x,E);qd(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,A!==null&&A.tag===6?(t(v,A.sibling),A=r(A,x),A.return=v,v=A):(t(v,A),A=Xg(x,v.mode,E),A.return=v,v=A),o(v)):t(v,A)}return M}var Ql=Tw(!0),Cw=Tw(!1),gf={},Kr=Co(gf),jc=Co(gf),Xc=Co(gf);function oa(n){if(n===gf)throw Error(Pe(174));return n}function t_(n,e){switch(Wt(Xc,e),Wt(jc,n),Wt(Kr,gf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=K0(e,n)}qt(Kr),Wt(Kr,e)}function Zl(){qt(Kr),qt(jc),qt(Xc)}function bw(n){oa(Xc.current);var e=oa(Kr.current),t=K0(e,n.type);e!==t&&(Wt(jc,n),Wt(Kr,t))}function n_(n){jc.current===n&&(qt(Kr),qt(jc))}var en=Co(0);function wp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zg=[];function i_(){for(var n=0;n<zg.length;n++)zg[n]._workInProgressVersionPrimary=null;zg.length=0}var Jh=Us.ReactCurrentDispatcher,Hg=Us.ReactCurrentBatchConfig,xa=0,nn=null,An=null,Ln=null,Tp=!1,wc=!1,Yc=0,WP=0;function Xn(){throw Error(Pe(321))}function r_(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Pr(n[t],e[t]))return!1;return!0}function s_(n,e,t,i,r,s){if(xa=s,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jh.current=n===null||n.memoizedState===null?qP:JP,n=t(i,r),wc){s=0;do{if(wc=!1,Yc=0,25<=s)throw Error(Pe(301));s+=1,Ln=An=null,e.updateQueue=null,Jh.current=QP,n=t(i,r)}while(wc)}if(Jh.current=Cp,e=An!==null&&An.next!==null,xa=0,Ln=An=nn=null,Tp=!1,e)throw Error(Pe(300));return n}function o_(){var n=Yc!==0;return Yc=0,n}function Jr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?nn.memoizedState=Ln=n:Ln=Ln.next=n,Ln}function lr(){if(An===null){var n=nn.alternate;n=n!==null?n.memoizedState:null}else n=An.next;var e=Ln===null?nn.memoizedState:Ln.next;if(e!==null)Ln=e,An=n;else{if(n===null)throw Error(Pe(310));An=n,n={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Ln===null?nn.memoizedState=Ln=n:Ln=Ln.next=n}return Ln}function qc(n,e){return typeof e=="function"?e(n):e}function Vg(n){var e=lr(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=An,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,u=null,f=s;do{var d=f.lane;if((xa&d)===d)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var h={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(a=u=h,o=i):u=u.next=h,nn.lanes|=d,Aa|=d}f=f.next}while(f!==null&&f!==s);u===null?o=i:u.next=a,Pr(i,e.memoizedState)||(yi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,nn.lanes|=s,Aa|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Gg(n){var e=lr(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Pr(s,e.memoizedState)||(yi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Rw(){}function Pw(n,e){var t=nn,i=lr(),r=e(),s=!Pr(i.memoizedState,r);if(s&&(i.memoizedState=r,yi=!0),i=i.queue,a_(Nw.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Ln!==null&&Ln.memoizedState.tag&1){if(t.flags|=2048,Jc(9,Iw.bind(null,t,i,r,e),void 0,null),In===null)throw Error(Pe(349));xa&30||Lw(t,e,r)}return r}function Lw(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Iw(n,e,t,i){e.value=t,e.getSnapshot=i,Dw(e)&&Uw(n)}function Nw(n,e,t){return t(function(){Dw(e)&&Uw(n)})}function Dw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Pr(n,t)}catch{return!0}}function Uw(n){var e=Ps(n,1);e!==null&&Cr(e,n,1,-1)}function XA(n){var e=Jr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:n},e.queue=n,n=n.dispatch=YP.bind(null,nn,n),[e.memoizedState,n]}function Jc(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Ow(){return lr().memoizedState}function Qh(n,e,t,i){var r=Jr();nn.flags|=n,r.memoizedState=Jc(1|e,t,void 0,i===void 0?null:i)}function Xp(n,e,t,i){var r=lr();i=i===void 0?null:i;var s=void 0;if(An!==null){var o=An.memoizedState;if(s=o.destroy,i!==null&&r_(i,o.deps)){r.memoizedState=Jc(e,t,s,i);return}}nn.flags|=n,r.memoizedState=Jc(1|e,t,s,i)}function YA(n,e){return Qh(8390656,8,n,e)}function a_(n,e){return Xp(2048,8,n,e)}function Fw(n,e){return Xp(4,2,n,e)}function kw(n,e){return Xp(4,4,n,e)}function Bw(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zw(n,e,t){return t=t!=null?t.concat([n]):null,Xp(4,4,Bw.bind(null,e,n),t)}function l_(){}function Hw(n,e){var t=lr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&r_(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Vw(n,e){var t=lr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&r_(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Gw(n,e,t){return xa&21?(Pr(t,e)||(t=XE(),nn.lanes|=t,Aa|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,yi=!0),n.memoizedState=t)}function jP(n,e){var t=kt;kt=t!==0&&4>t?t:4,n(!0);var i=Hg.transition;Hg.transition={};try{n(!1),e()}finally{kt=t,Hg.transition=i}}function Ww(){return lr().memoizedState}function XP(n,e,t){var i=go(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},jw(n))Xw(e,t);else if(t=Sw(n,e,t,i),t!==null){var r=oi();Cr(t,n,i,r),Yw(t,e,i)}}function YP(n,e,t){var i=go(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(jw(n))Xw(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Pr(a,o)){var u=e.interleaved;u===null?(r.next=r,$y(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}t=Sw(n,e,r,i),t!==null&&(r=oi(),Cr(t,n,i,r),Yw(t,e,i))}}function jw(n){var e=n.alternate;return n===nn||e!==null&&e===nn}function Xw(n,e){wc=Tp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Yw(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,By(n,t)}}var Cp={readContext:ar,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},qP={readContext:ar,useCallback:function(n,e){return Jr().memoizedState=[n,e===void 0?null:e],n},useContext:ar,useEffect:YA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Qh(4194308,4,Bw.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Qh(4194308,4,n,e)},useInsertionEffect:function(n,e){return Qh(4,2,n,e)},useMemo:function(n,e){var t=Jr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Jr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=XP.bind(null,nn,n),[i.memoizedState,n]},useRef:function(n){var e=Jr();return n={current:n},e.memoizedState=n},useState:XA,useDebugValue:l_,useDeferredValue:function(n){return Jr().memoizedState=n},useTransition:function(){var n=XA(!1),e=n[0];return n=jP.bind(null,n[1]),Jr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=nn,r=Jr();if(Zt){if(t===void 0)throw Error(Pe(407));t=t()}else{if(t=e(),In===null)throw Error(Pe(349));xa&30||Lw(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,YA(Nw.bind(null,i,s,n),[n]),i.flags|=2048,Jc(9,Iw.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Jr(),e=In.identifierPrefix;if(Zt){var t=Ms,i=Ss;t=(i&~(1<<32-Tr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Yc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=WP++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},JP={readContext:ar,useCallback:Hw,useContext:ar,useEffect:a_,useImperativeHandle:zw,useInsertionEffect:Fw,useLayoutEffect:kw,useMemo:Vw,useReducer:Vg,useRef:Ow,useState:function(){return Vg(qc)},useDebugValue:l_,useDeferredValue:function(n){var e=lr();return Gw(e,An.memoizedState,n)},useTransition:function(){var n=Vg(qc)[0],e=lr().memoizedState;return[n,e]},useMutableSource:Rw,useSyncExternalStore:Pw,useId:Ww,unstable_isNewReconciler:!1},QP={readContext:ar,useCallback:Hw,useContext:ar,useEffect:a_,useImperativeHandle:zw,useInsertionEffect:Fw,useLayoutEffect:kw,useMemo:Vw,useReducer:Gg,useRef:Ow,useState:function(){return Gg(qc)},useDebugValue:l_,useDeferredValue:function(n){var e=lr();return An===null?e.memoizedState=n:Gw(e,An.memoizedState,n)},useTransition:function(){var n=Gg(qc)[0],e=lr().memoizedState;return[n,e]},useMutableSource:Rw,useSyncExternalStore:Pw,useId:Ww,unstable_isNewReconciler:!1};function Kl(n,e){try{var t="",i=e;do t+=ER(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Wg(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Av(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var ZP=typeof WeakMap=="function"?WeakMap:Map;function qw(n,e,t){t=ws(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Rp||(Rp=!0,Lv=i),Av(n,e)},t}function Jw(n,e,t){t=ws(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Av(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Av(n,e),typeof i!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function qA(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new ZP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=fL.bind(null,n,e,t),e.then(n,n))}function JA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function QA(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ws(-1,1),e.tag=2,po(t,e,1))),t.lanes|=1),n)}var KP=Us.ReactCurrentOwner,yi=!1;function si(n,e,t,i){e.child=n===null?Cw(e,null,t,i):Ql(e,n.child,t,i)}function ZA(n,e,t,i,r){t=t.render;var s=e.ref;return Hl(e,r),i=s_(n,e,t,i,s,r),t=o_(),n!==null&&!yi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ls(n,e,r)):(Zt&&t&&Yy(e),e.flags|=1,si(n,e,i,r),e.child)}function KA(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!g_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Qw(n,e,s,i,r)):(n=ep(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Hc,t(o,i)&&n.ref===e.ref)return Ls(n,e,r)}return e.flags|=1,n=vo(s,i),n.ref=e.ref,n.return=e,e.child=n}function Qw(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Hc(s,i)&&n.ref===e.ref)if(yi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(yi=!0);else return e.lanes=n.lanes,Ls(n,e,r)}return Sv(n,e,t,i,r)}function Zw(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Ll,Ii),Ii|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Wt(Ll,Ii),Ii|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Wt(Ll,Ii),Ii|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Wt(Ll,Ii),Ii|=i;return si(n,e,r,t),e.child}function Kw(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Sv(n,e,t,i,r){var s=xi(t)?ya:Kn.current;return s=ql(e,s),Hl(e,r),t=s_(n,e,t,i,s,r),i=o_(),n!==null&&!yi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ls(n,e,r)):(Zt&&i&&Yy(e),e.flags|=1,si(n,e,t,r),e.child)}function $A(n,e,t,i,r){if(xi(t)){var s=!0;_p(e)}else s=!1;if(Hl(e,r),e.stateNode===null)Zh(n,e),ww(e,t,i),xv(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=ar(f):(f=xi(t)?ya:Kn.current,f=ql(e,f));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||u!==f)&&WA(e,o,i,f),to=!1;var p=e.memoizedState;o.state=p,Ep(e,i,o,r),u=e.memoizedState,a!==i||p!==u||_i.current||to?(typeof d=="function"&&(_v(e,t,d,i),u=e.memoizedState),(a=to||GA(e,t,a,i,p,u,f))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=f,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Mw(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:xr(e.type,a),o.props=f,h=e.pendingProps,p=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=ar(u):(u=xi(t)?ya:Kn.current,u=ql(e,u));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==u)&&WA(e,o,i,u),to=!1,p=e.memoizedState,o.state=p,Ep(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||_i.current||to?(typeof m=="function"&&(_v(e,t,m,i),y=e.memoizedState),(f=to||GA(e,t,f,i,p,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=u,i=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Mv(n,e,t,i,s,r)}function Mv(n,e,t,i,r,s){Kw(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&kA(e,t,!1),Ls(n,e,s);i=e.stateNode,KP.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Ql(e,n.child,null,s),e.child=Ql(e,null,a,s)):si(n,e,a,s),e.memoizedState=i.state,r&&kA(e,t,!0),e.child}function $w(n){var e=n.stateNode;e.pendingContext?FA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&FA(n,e.context,!1),t_(n,e.containerInfo)}function eS(n,e,t,i,r){return Jl(),Jy(r),e.flags|=256,si(n,e,t,i),e.child}var Ev={dehydrated:null,treeContext:null,retryLane:0};function wv(n){return{baseLanes:n,cachePool:null,transitions:null}}function eT(n,e,t){var i=e.pendingProps,r=en.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Wt(en,r&1),n===null)return vv(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jp(o,i,0,null),n=da(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=wv(t),e.memoizedState=Ev,n):u_(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return $P(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=vo(r,u),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=vo(a,s):(s=da(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?wv(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Ev,i}return s=n.child,n=s.sibling,i=vo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function u_(n,e){return e=Jp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Jd(n,e,t,i){return i!==null&&Jy(i),Ql(e,n.child,null,t),n=u_(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $P(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Wg(Error(Pe(422))),Jd(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Jp({mode:"visible",children:i.children},r,0,null),s=da(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ql(e,n.child,null,o),e.child.memoizedState=wv(o),e.memoizedState=Ev,s);if(!(e.mode&1))return Jd(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Pe(419)),i=Wg(s,i,void 0),Jd(n,e,o,i)}if(a=(o&n.childLanes)!==0,yi||a){if(i=In,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ps(n,r),Cr(i,n,r,-1))}return m_(),i=Wg(Error(Pe(421))),Jd(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=dL.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Di=ho(r.nextSibling),Fi=e,Zt=!0,Mr=null,n!==null&&(nr[ir++]=Ss,nr[ir++]=Ms,nr[ir++]=_a,Ss=n.id,Ms=n.overflow,_a=e),e=u_(e,i.children),e.flags|=4096,e)}function tS(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),yv(n.return,e,t)}function jg(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function tT(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(si(n,e,i.children,t),i=en.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tS(n,t,e);else if(n.tag===19)tS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Wt(en,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&wp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),jg(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&wp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}jg(e,!0,t,null,s);break;case"together":jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zh(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ls(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Aa|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Pe(153));if(e.child!==null){for(n=e.child,t=vo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=vo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function eL(n,e,t){switch(e.tag){case 3:$w(e),Jl();break;case 5:bw(e);break;case 1:xi(e.type)&&_p(e);break;case 4:t_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Wt(Sp,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wt(en,en.current&1),e.flags|=128,null):t&e.child.childLanes?eT(n,e,t):(Wt(en,en.current&1),n=Ls(n,e,t),n!==null?n.sibling:null);Wt(en,en.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return tT(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Wt(en,en.current),i)break;return null;case 22:case 23:return e.lanes=0,Zw(n,e,t)}return Ls(n,e,t)}var nT,Tv,iT,rT;nT=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Tv=function(){};iT=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,oa(Kr.current);var s=null;switch(t){case"input":r=q0(n,r),i=q0(n,i),s=[];break;case"select":r=rn({},r,{value:void 0}),i=rn({},i,{value:void 0}),s=[];break;case"textarea":r=Z0(n,r),i=Z0(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=vp)}$0(t,i);var o;t=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var a=r[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Dc.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in i){var u=i[f];if(a=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&u!==a&&(u!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(f,t)),t=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Dc.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&jt("scroll",n),s||a===u||(s=[])):(s=s||[]).push(f,u))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};rT=function(n,e,t,i){t!==i&&(e.flags|=4)};function Ju(n,e){if(!Zt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Yn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function tL(n,e,t){var i=e.pendingProps;switch(qy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return xi(e.type)&&yp(),Yn(e),null;case 3:return i=e.stateNode,Zl(),qt(_i),qt(Kn),i_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Yd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(Dv(Mr),Mr=null))),Tv(n,e),Yn(e),null;case 5:n_(e);var r=oa(Xc.current);if(t=e.type,n!==null&&e.stateNode!=null)iT(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Pe(166));return Yn(e),null}if(n=oa(Kr.current),Yd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Qr]=e,i[Wc]=s,n=(e.mode&1)!==0,t){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(r=0;r<gc.length;r++)jt(gc[r],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":cA(i,s),jt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},jt("invalid",i);break;case"textarea":dA(i,s),jt("invalid",i)}$0(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xd(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xd(i.textContent,a,n),r=["children",""+a]):Dc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",i)}switch(t){case"input":kd(i),fA(i,s,!0);break;case"textarea":kd(i),hA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=vp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=LE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Qr]=e,n[Wc]=i,nT(n,e,!1,!1),e.stateNode=n;e:{switch(o=ev(t,i),t){case"dialog":jt("cancel",n),jt("close",n),r=i;break;case"iframe":case"object":case"embed":jt("load",n),r=i;break;case"video":case"audio":for(r=0;r<gc.length;r++)jt(gc[r],n);r=i;break;case"source":jt("error",n),r=i;break;case"img":case"image":case"link":jt("error",n),jt("load",n),r=i;break;case"details":jt("toggle",n),r=i;break;case"input":cA(n,i),r=q0(n,i),jt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=rn({},i,{value:void 0}),jt("invalid",n);break;case"textarea":dA(n,i),r=Z0(n,i),jt("invalid",n);break;default:r=i}$0(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?DE(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&IE(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&Uc(n,u):typeof u=="number"&&Uc(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&jt("scroll",n):u!=null&&Ny(n,s,u,o))}switch(t){case"input":kd(n),fA(n,i,!1);break;case"textarea":kd(n),hA(n);break;case"option":i.value!=null&&n.setAttribute("value",""+xo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Fl(n,!!i.multiple,s,!1):i.defaultValue!=null&&Fl(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=vp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(n&&e.stateNode!=null)rT(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Pe(166));if(t=oa(Xc.current),oa(Kr.current),Yd(e)){if(i=e.stateNode,t=e.memoizedProps,i[Qr]=e,(s=i.nodeValue!==t)&&(n=Fi,n!==null))switch(n.tag){case 3:Xd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Qr]=e,e.stateNode=i}return Yn(e),null;case 13:if(qt(en),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Zt&&Di!==null&&e.mode&1&&!(e.flags&128))Aw(),Jl(),e.flags|=98560,s=!1;else if(s=Yd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[Qr]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),s=!1}else Mr!==null&&(Dv(Mr),Mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||en.current&1?Sn===0&&(Sn=3):m_())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return Zl(),Tv(n,e),n===null&&Vc(e.stateNode.containerInfo),Yn(e),null;case 10:return Ky(e.type._context),Yn(e),null;case 17:return xi(e.type)&&yp(),Yn(e),null;case 19:if(qt(en),s=e.memoizedState,s===null)return Yn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ju(s,!1);else{if(Sn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=wp(n),o!==null){for(e.flags|=128,Ju(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Wt(en,en.current&1|2),e.child}n=n.sibling}s.tail!==null&&dn()>$l&&(e.flags|=128,i=!0,Ju(s,!1),e.lanes=4194304)}else{if(!i)if(n=wp(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ju(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Zt)return Yn(e),null}else 2*dn()-s.renderingStartTime>$l&&t!==1073741824&&(e.flags|=128,i=!0,Ju(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dn(),e.sibling=null,t=en.current,Wt(en,i?t&1|2:t&1),e):(Yn(e),null);case 22:case 23:return p_(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ii&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function nL(n,e){switch(qy(e),e.tag){case 1:return xi(e.type)&&yp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Zl(),qt(_i),qt(Kn),i_(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return n_(e),null;case 13:if(qt(en),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));Jl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return qt(en),null;case 4:return Zl(),null;case 10:return Ky(e.type._context),null;case 22:case 23:return p_(),null;case 24:return null;default:return null}}var Qd=!1,Zn=!1,iL=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Pl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){an(n,e,i)}else t.current=null}function Cv(n,e,t){try{t()}catch(i){an(n,e,i)}}var nS=!1;function rL(n,e){if(cv=pp,n=lw(),Xy(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,f=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(u=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++f===r&&(a=o),p===s&&++d===i&&(u=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(fv={focusedElem:n,selectionRange:t},pp=!1,Ge=e;Ge!==null;)if(e=Ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ge=n;else for(;Ge!==null;){e=Ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,M=y.memoizedState,v=e.stateNode,A=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:xr(e.type,S),M);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(E){an(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}return y=nS,nS=!1,y}function Tc(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Cv(e,t,s)}r=r.next}while(r!==i)}}function Yp(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function bv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function sT(n){var e=n.alternate;e!==null&&(n.alternate=null,sT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Qr],delete e[Wc],delete e[pv],delete e[zP],delete e[HP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function oT(n){return n.tag===5||n.tag===3||n.tag===4}function iS(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||oT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=vp));else if(i!==4&&(n=n.child,n!==null))for(Rv(n,e,t),n=n.sibling;n!==null;)Rv(n,e,t),n=n.sibling}function Pv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Pv(n,e,t),n=n.sibling;n!==null;)Pv(n,e,t),n=n.sibling}var Fn=null,Sr=!1;function Ys(n,e,t){for(t=t.child;t!==null;)aT(n,e,t),t=t.sibling}function aT(n,e,t){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Bp,t)}catch{}switch(t.tag){case 5:Zn||Pl(t,e);case 6:var i=Fn,r=Sr;Fn=null,Ys(n,e,t),Fn=i,Sr=r,Fn!==null&&(Sr?(n=Fn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Fn.removeChild(t.stateNode));break;case 18:Fn!==null&&(Sr?(n=Fn,t=t.stateNode,n.nodeType===8?kg(n.parentNode,t):n.nodeType===1&&kg(n,t),Bc(n)):kg(Fn,t.stateNode));break;case 4:i=Fn,r=Sr,Fn=t.stateNode.containerInfo,Sr=!0,Ys(n,e,t),Fn=i,Sr=r;break;case 0:case 11:case 14:case 15:if(!Zn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cv(t,e,o),r=r.next}while(r!==i)}Ys(n,e,t);break;case 1:if(!Zn&&(Pl(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){an(t,e,a)}Ys(n,e,t);break;case 21:Ys(n,e,t);break;case 22:t.mode&1?(Zn=(i=Zn)||t.memoizedState!==null,Ys(n,e,t),Zn=i):Ys(n,e,t);break;default:Ys(n,e,t)}}function rS(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new iL),e.forEach(function(i){var r=hL.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function gr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,Sr=!1;break e;case 3:Fn=a.stateNode.containerInfo,Sr=!0;break e;case 4:Fn=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(Fn===null)throw Error(Pe(160));aT(s,o,r),Fn=null,Sr=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(f){an(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lT(e,n),e=e.sibling}function lT(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gr(e,n),Yr(n),i&4){try{Tc(3,n,n.return),Yp(3,n)}catch(S){an(n,n.return,S)}try{Tc(5,n,n.return)}catch(S){an(n,n.return,S)}}break;case 1:gr(e,n),Yr(n),i&512&&t!==null&&Pl(t,t.return);break;case 5:if(gr(e,n),Yr(n),i&512&&t!==null&&Pl(t,t.return),n.flags&32){var r=n.stateNode;try{Uc(r,"")}catch(S){an(n,n.return,S)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RE(r,s),ev(a,o);var f=ev(a,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?DE(r,h):d==="dangerouslySetInnerHTML"?IE(r,h):d==="children"?Uc(r,h):Ny(r,d,h,f)}switch(a){case"input":J0(r,s);break;case"textarea":PE(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Fl(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Fl(r,!!s.multiple,s.defaultValue,!0):Fl(r,!!s.multiple,s.multiple?[]:"",!1))}r[Wc]=s}catch(S){an(n,n.return,S)}}break;case 6:if(gr(e,n),Yr(n),i&4){if(n.stateNode===null)throw Error(Pe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(S){an(n,n.return,S)}}break;case 3:if(gr(e,n),Yr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Bc(e.containerInfo)}catch(S){an(n,n.return,S)}break;case 4:gr(e,n),Yr(n);break;case 13:gr(e,n),Yr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(d_=dn())),i&4&&rS(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Zn=(f=Zn)||d,gr(e,n),Zn=f):gr(e,n),Yr(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!d&&n.mode&1)for(Ge=n,d=n.child;d!==null;){for(h=Ge=d;Ge!==null;){switch(p=Ge,m=p.child,p.tag){case 0:case 11:case 14:case 15:Tc(4,p,p.return);break;case 1:Pl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(S){an(i,t,S)}}break;case 5:Pl(p,p.return);break;case 22:if(p.memoizedState!==null){oS(h);continue}}m!==null?(m.return=p,Ge=m):oS(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=NE("display",o))}catch(S){an(n,n.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(S){an(n,n.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gr(e,n),Yr(n),i&4&&rS(n);break;case 21:break;default:gr(e,n),Yr(n)}}function Yr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(oT(t)){var i=t;break e}t=t.return}throw Error(Pe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Uc(r,""),i.flags&=-33);var s=iS(n);Pv(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=iS(n);Rv(n,a,o);break;default:throw Error(Pe(161))}}catch(u){an(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function sL(n,e,t){Ge=n,uT(n)}function uT(n,e,t){for(var i=(n.mode&1)!==0;Ge!==null;){var r=Ge,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Qd;if(!o){var a=r.alternate,u=a!==null&&a.memoizedState!==null||Zn;a=Qd;var f=Zn;if(Qd=o,(Zn=u)&&!f)for(Ge=r;Ge!==null;)o=Ge,u=o.child,o.tag===22&&o.memoizedState!==null?aS(r):u!==null?(u.return=o,Ge=u):aS(r);for(;s!==null;)Ge=s,uT(s),s=s.sibling;Ge=r,Qd=a,Zn=f}sS(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ge=s):sS(n)}}function sS(n){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||Yp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Zn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:xr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VA(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}VA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Zn||e.flags&512&&bv(e)}catch(p){an(e,e.return,p)}}if(e===n){Ge=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function oS(n){for(;Ge!==null;){var e=Ge;if(e===n){Ge=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function aS(n){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Yp(4,e)}catch(u){an(e,t,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){an(e,r,u)}}var s=e.return;try{bv(e)}catch(u){an(e,s,u)}break;case 5:var o=e.return;try{bv(e)}catch(u){an(e,o,u)}}}catch(u){an(e,e.return,u)}if(e===n){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var oL=Math.ceil,bp=Us.ReactCurrentDispatcher,c_=Us.ReactCurrentOwner,or=Us.ReactCurrentBatchConfig,bt=0,In=null,yn=null,Bn=0,Ii=0,Ll=Co(0),Sn=0,Qc=null,Aa=0,qp=0,f_=0,Cc=null,mi=null,d_=0,$l=1/0,ys=null,Rp=!1,Lv=null,mo=null,Zd=!1,ao=null,Pp=0,bc=0,Iv=null,Kh=-1,$h=0;function oi(){return bt&6?dn():Kh!==-1?Kh:Kh=dn()}function go(n){return n.mode&1?bt&2&&Bn!==0?Bn&-Bn:GP.transition!==null?($h===0&&($h=XE()),$h):(n=kt,n!==0||(n=window.event,n=n===void 0?16:$E(n.type)),n):1}function Cr(n,e,t,i){if(50<bc)throw bc=0,Iv=null,Error(Pe(185));hf(n,t,i),(!(bt&2)||n!==In)&&(n===In&&(!(bt&2)&&(qp|=t),Sn===4&&so(n,Bn)),Ai(n,i),t===1&&bt===0&&!(e.mode&1)&&($l=dn()+500,Wp&&bo()))}function Ai(n,e){var t=n.callbackNode;GR(n,e);var i=hp(n,n===In?Bn:0);if(i===0)t!==null&&gA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&gA(t),e===1)n.tag===0?VP(lS.bind(null,n)):yw(lS.bind(null,n)),kP(function(){!(bt&6)&&bo()}),t=null;else{switch(YE(i)){case 1:t=ky;break;case 4:t=WE;break;case 16:t=dp;break;case 536870912:t=jE;break;default:t=dp}t=vT(t,cT.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function cT(n,e){if(Kh=-1,$h=0,bt&6)throw Error(Pe(327));var t=n.callbackNode;if(Vl()&&n.callbackNode!==t)return null;var i=hp(n,n===In?Bn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Lp(n,i);else{e=i;var r=bt;bt|=2;var s=dT();(In!==n||Bn!==e)&&(ys=null,$l=dn()+500,fa(n,e));do try{uL();break}catch(a){fT(n,a)}while(1);Zy(),bp.current=s,bt=r,yn!==null?e=0:(In=null,Bn=0,e=Sn)}if(e!==0){if(e===2&&(r=sv(n),r!==0&&(i=r,e=Nv(n,r))),e===1)throw t=Qc,fa(n,0),so(n,i),Ai(n,dn()),t;if(e===6)so(n,i);else{if(r=n.current.alternate,!(i&30)&&!aL(r)&&(e=Lp(n,i),e===2&&(s=sv(n),s!==0&&(i=s,e=Nv(n,s))),e===1))throw t=Qc,fa(n,0),so(n,i),Ai(n,dn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Pe(345));case 2:Zo(n,mi,ys);break;case 3:if(so(n,i),(i&130023424)===i&&(e=d_+500-dn(),10<e)){if(hp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){oi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=hv(Zo.bind(null,n,mi,ys),e);break}Zo(n,mi,ys);break;case 4:if(so(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Tr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=dn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*oL(i/1960))-i,10<i){n.timeoutHandle=hv(Zo.bind(null,n,mi,ys),i);break}Zo(n,mi,ys);break;case 5:Zo(n,mi,ys);break;default:throw Error(Pe(329))}}}return Ai(n,dn()),n.callbackNode===t?cT.bind(null,n):null}function Nv(n,e){var t=Cc;return n.current.memoizedState.isDehydrated&&(fa(n,e).flags|=256),n=Lp(n,e),n!==2&&(e=mi,mi=t,e!==null&&Dv(e)),n}function Dv(n){mi===null?mi=n:mi.push.apply(mi,n)}function aL(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Pr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(n,e){for(e&=~f_,e&=~qp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Tr(e),i=1<<t;n[t]=-1,e&=~i}}function lS(n){if(bt&6)throw Error(Pe(327));Vl();var e=hp(n,0);if(!(e&1))return Ai(n,dn()),null;var t=Lp(n,e);if(n.tag!==0&&t===2){var i=sv(n);i!==0&&(e=i,t=Nv(n,i))}if(t===1)throw t=Qc,fa(n,0),so(n,e),Ai(n,dn()),t;if(t===6)throw Error(Pe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Zo(n,mi,ys),Ai(n,dn()),null}function h_(n,e){var t=bt;bt|=1;try{return n(e)}finally{bt=t,bt===0&&($l=dn()+500,Wp&&bo())}}function Sa(n){ao!==null&&ao.tag===0&&!(bt&6)&&Vl();var e=bt;bt|=1;var t=or.transition,i=kt;try{if(or.transition=null,kt=1,n)return n()}finally{kt=i,or.transition=t,bt=e,!(bt&6)&&bo()}}function p_(){Ii=Ll.current,qt(Ll)}function fa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,FP(t)),yn!==null)for(t=yn.return;t!==null;){var i=t;switch(qy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yp();break;case 3:Zl(),qt(_i),qt(Kn),i_();break;case 5:n_(i);break;case 4:Zl();break;case 13:qt(en);break;case 19:qt(en);break;case 10:Ky(i.type._context);break;case 22:case 23:p_()}t=t.return}if(In=n,yn=n=vo(n.current,null),Bn=Ii=e,Sn=0,Qc=null,f_=qp=Aa=0,mi=Cc=null,sa!==null){for(e=0;e<sa.length;e++)if(t=sa[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}sa=null}return n}function fT(n,e){do{var t=yn;try{if(Zy(),Jh.current=Cp,Tp){for(var i=nn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Tp=!1}if(xa=0,Ln=An=nn=null,wc=!1,Yc=0,c_.current=null,t===null||t.return===null){Sn=1,Qc=e,yn=null;break}e:{var s=n,o=t.return,a=t,u=e;if(e=Bn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=JA(o);if(m!==null){m.flags&=-257,QA(m,o,a,s,e),m.mode&1&&qA(s,f,e),e=m,u=f;var y=e.updateQueue;if(y===null){var S=new Set;S.add(u),e.updateQueue=S}else y.add(u);break e}else{if(!(e&1)){qA(s,f,e),m_();break e}u=Error(Pe(426))}}else if(Zt&&a.mode&1){var M=JA(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),QA(M,o,a,s,e),Jy(Kl(u,a));break e}}s=u=Kl(u,a),Sn!==4&&(Sn=2),Cc===null?Cc=[s]:Cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=qw(s,u,e);HA(s,v);break e;case 1:a=u;var A=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mo===null||!mo.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Jw(s,a,e);HA(s,E);break e}}s=s.return}while(s!==null)}pT(t)}catch(T){e=T,yn===t&&t!==null&&(yn=t=t.return);continue}break}while(1)}function dT(){var n=bp.current;return bp.current=Cp,n===null?Cp:n}function m_(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),In===null||!(Aa&268435455)&&!(qp&268435455)||so(In,Bn)}function Lp(n,e){var t=bt;bt|=2;var i=dT();(In!==n||Bn!==e)&&(ys=null,fa(n,e));do try{lL();break}catch(r){fT(n,r)}while(1);if(Zy(),bt=t,bp.current=i,yn!==null)throw Error(Pe(261));return In=null,Bn=0,Sn}function lL(){for(;yn!==null;)hT(yn)}function uL(){for(;yn!==null&&!DR();)hT(yn)}function hT(n){var e=gT(n.alternate,n,Ii);n.memoizedProps=n.pendingProps,e===null?pT(n):yn=e,c_.current=null}function pT(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=nL(t,e),t!==null){t.flags&=32767,yn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Sn=6,yn=null;return}}else if(t=tL(t,e,Ii),t!==null){yn=t;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=n}while(e!==null);Sn===0&&(Sn=5)}function Zo(n,e,t){var i=kt,r=or.transition;try{or.transition=null,kt=1,cL(n,e,t,i)}finally{or.transition=r,kt=i}return null}function cL(n,e,t,i){do Vl();while(ao!==null);if(bt&6)throw Error(Pe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Pe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(WR(n,s),n===In&&(yn=In=null,Bn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Zd||(Zd=!0,vT(dp,function(){return Vl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=or.transition,or.transition=null;var o=kt;kt=1;var a=bt;bt|=4,c_.current=null,rL(n,t),lT(t,n),PP(fv),pp=!!cv,fv=cv=null,n.current=t,sL(t),UR(),bt=a,kt=o,or.transition=s}else n.current=t;if(Zd&&(Zd=!1,ao=n,Pp=r),s=n.pendingLanes,s===0&&(mo=null),kR(t.stateNode),Ai(n,dn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Rp)throw Rp=!1,n=Lv,Lv=null,n;return Pp&1&&n.tag!==0&&Vl(),s=n.pendingLanes,s&1?n===Iv?bc++:(bc=0,Iv=n):bc=0,bo(),null}function Vl(){if(ao!==null){var n=YE(Pp),e=or.transition,t=kt;try{if(or.transition=null,kt=16>n?16:n,ao===null)var i=!1;else{if(n=ao,ao=null,Pp=0,bt&6)throw Error(Pe(331));var r=bt;for(bt|=4,Ge=n.current;Ge!==null;){var s=Ge,o=s.child;if(Ge.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var f=a[u];for(Ge=f;Ge!==null;){var d=Ge;switch(d.tag){case 0:case 11:case 15:Tc(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ge=h;else for(;Ge!==null;){d=Ge;var p=d.sibling,m=d.return;if(sT(d),d===f){Ge=null;break}if(p!==null){p.return=m,Ge=p;break}Ge=m}}}var y=s.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var M=S.sibling;S.sibling=null,S=M}while(S!==null)}}Ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Ge=v;break e}Ge=s.return}}var A=n.current;for(Ge=A;Ge!==null;){o=Ge;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ge=x;else e:for(o=A;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yp(9,a)}}catch(T){an(a,a.return,T)}if(a===o){Ge=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ge=E;break e}Ge=a.return}}if(bt=r,bo(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Bp,n)}catch{}i=!0}return i}finally{kt=t,or.transition=e}}return!1}function uS(n,e,t){e=Kl(t,e),e=qw(n,e,1),n=po(n,e,1),e=oi(),n!==null&&(hf(n,1,e),Ai(n,e))}function an(n,e,t){if(n.tag===3)uS(n,n,t);else for(;e!==null;){if(e.tag===3){uS(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mo===null||!mo.has(i))){n=Kl(t,n),n=Jw(e,n,1),e=po(e,n,1),n=oi(),e!==null&&(hf(e,1,n),Ai(e,n));break}}e=e.return}}function fL(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=oi(),n.pingedLanes|=n.suspendedLanes&t,In===n&&(Bn&t)===t&&(Sn===4||Sn===3&&(Bn&130023424)===Bn&&500>dn()-d_?fa(n,0):f_|=t),Ai(n,e)}function mT(n,e){e===0&&(n.mode&1?(e=Hd,Hd<<=1,!(Hd&130023424)&&(Hd=4194304)):e=1);var t=oi();n=Ps(n,e),n!==null&&(hf(n,e,t),Ai(n,t))}function dL(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),mT(n,t)}function hL(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Pe(314))}i!==null&&i.delete(e),mT(n,t)}var gT;gT=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||_i.current)yi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return yi=!1,eL(n,e,t);yi=!!(n.flags&131072)}else yi=!1,Zt&&e.flags&1048576&&_w(e,Ap,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Zh(n,e),n=e.pendingProps;var r=ql(e,Kn.current);Hl(e,t),r=s_(null,e,i,n,r,t);var s=o_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xi(i)?(s=!0,_p(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,e_(e),r.updater=jp,e.stateNode=r,r._reactInternals=e,xv(e,i,n,t),e=Mv(null,e,i,!0,s,t)):(e.tag=0,Zt&&s&&Yy(e),si(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Zh(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=mL(i),n=xr(i,n),r){case 0:e=Sv(null,e,i,n,t);break e;case 1:e=$A(null,e,i,n,t);break e;case 11:e=ZA(null,e,i,n,t);break e;case 14:e=KA(null,e,i,xr(i.type,n),t);break e}throw Error(Pe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),Sv(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),$A(n,e,i,r,t);case 3:e:{if($w(e),n===null)throw Error(Pe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Mw(n,e),Ep(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Kl(Error(Pe(423)),e),e=eS(n,e,i,t,r);break e}else if(i!==r){r=Kl(Error(Pe(424)),e),e=eS(n,e,i,t,r);break e}else for(Di=ho(e.stateNode.containerInfo.firstChild),Fi=e,Zt=!0,Mr=null,t=Cw(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Jl(),i===r){e=Ls(n,e,t);break e}si(n,e,i,t)}e=e.child}return e;case 5:return bw(e),n===null&&vv(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,dv(i,r)?o=null:s!==null&&dv(i,s)&&(e.flags|=32),Kw(n,e),si(n,e,o,t),e.child;case 6:return n===null&&vv(e),null;case 13:return eT(n,e,t);case 4:return t_(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Ql(e,null,i,t):si(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),ZA(n,e,i,r,t);case 7:return si(n,e,e.pendingProps,t),e.child;case 8:return si(n,e,e.pendingProps.children,t),e.child;case 12:return si(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Wt(Sp,i._currentValue),i._currentValue=o,s!==null)if(Pr(s.value,o)){if(s.children===r.children&&!_i.current){e=Ls(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=ws(-1,t&-t),u.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?u.next=u:(u.next=d.next,d.next=u),f.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),yv(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),yv(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}si(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Hl(e,t),r=ar(r),i=i(r),e.flags|=1,si(n,e,i,t),e.child;case 14:return i=e.type,r=xr(i,e.pendingProps),r=xr(i.type,r),KA(n,e,i,r,t);case 15:return Qw(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),Zh(n,e),e.tag=1,xi(i)?(n=!0,_p(e)):n=!1,Hl(e,t),ww(e,i,r),xv(e,i,r,t),Mv(null,e,i,!0,n,t);case 19:return tT(n,e,t);case 22:return Zw(n,e,t)}throw Error(Pe(156,e.tag))};function vT(n,e){return GE(n,e)}function pL(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(n,e,t,i){return new pL(n,e,t,i)}function g_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mL(n){if(typeof n=="function")return g_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Uy)return 11;if(n===Oy)return 14}return 2}function vo(n,e){var t=n.alternate;return t===null?(t=rr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ep(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")g_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Al:return da(t.children,r,s,e);case Dy:o=8,r|=8;break;case W0:return n=rr(12,t,e,r|2),n.elementType=W0,n.lanes=s,n;case j0:return n=rr(13,t,e,r),n.elementType=j0,n.lanes=s,n;case X0:return n=rr(19,t,e,r),n.elementType=X0,n.lanes=s,n;case TE:return Jp(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case EE:o=10;break e;case wE:o=9;break e;case Uy:o=11;break e;case Oy:o=14;break e;case eo:o=16,i=null;break e}throw Error(Pe(130,n==null?n:typeof n,""))}return e=rr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function da(n,e,t,i){return n=rr(7,n,i,e),n.lanes=t,n}function Jp(n,e,t,i){return n=rr(22,n,i,e),n.elementType=TE,n.lanes=t,n.stateNode={isHidden:!1},n}function Xg(n,e,t){return n=rr(6,n,null,e),n.lanes=t,n}function Yg(n,e,t){return e=rr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function gL(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cg(0),this.expirationTimes=Cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function v_(n,e,t,i,r,s,o,a,u){return n=new gL(n,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},e_(s),n}function vL(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xl,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function yT(n){if(!n)return Ao;n=n._reactInternals;e:{if(Ra(n)!==n||n.tag!==1)throw Error(Pe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(n.tag===1){var t=n.type;if(xi(t))return vw(n,t,e)}return e}function _T(n,e,t,i,r,s,o,a,u){return n=v_(t,i,!0,n,r,s,o,a,u),n.context=yT(null),t=n.current,i=oi(),r=go(t),s=ws(i,r),s.callback=e??null,po(t,s,r),n.current.lanes=r,hf(n,r,i),Ai(n,i),n}function Qp(n,e,t,i){var r=e.current,s=oi(),o=go(r);return t=yT(t),e.context===null?e.context=t:e.pendingContext=t,e=ws(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=po(r,e,o),n!==null&&(Cr(n,r,o,s),qh(n,r,o)),o}function Ip(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function cS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function y_(n,e){cS(n,e),(n=n.alternate)&&cS(n,e)}function yL(){return null}var xT=typeof reportError=="function"?reportError:function(n){console.error(n)};function __(n){this._internalRoot=n}Zp.prototype.render=__.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Qp(n,e,null,null)};Zp.prototype.unmount=__.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Sa(function(){Qp(null,n,null,null)}),e[Rs]=null}};function Zp(n){this._internalRoot=n}Zp.prototype.unstable_scheduleHydration=function(n){if(n){var e=QE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ro.length&&e!==0&&e<ro[t].priority;t++);ro.splice(t,0,n),t===0&&KE(n)}};function x_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Kp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fS(){}function _L(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var f=Ip(o);s.call(f)}}var o=_T(e,i,n,0,null,!1,!1,"",fS);return n._reactRootContainer=o,n[Rs]=o.current,Vc(n.nodeType===8?n.parentNode:n),Sa(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var f=Ip(u);a.call(f)}}var u=v_(n,0,!1,null,null,!1,!1,"",fS);return n._reactRootContainer=u,n[Rs]=u.current,Vc(n.nodeType===8?n.parentNode:n),Sa(function(){Qp(e,u,t,i)}),u}function $p(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var u=Ip(o);a.call(u)}}Qp(e,o,n,r)}else o=_L(t,e,n,r,i);return Ip(o)}qE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=mc(e.pendingLanes);t!==0&&(By(e,t|1),Ai(e,dn()),!(bt&6)&&($l=dn()+500,bo()))}break;case 13:Sa(function(){var i=Ps(n,1);if(i!==null){var r=oi();Cr(i,n,1,r)}}),y_(n,1)}};zy=function(n){if(n.tag===13){var e=Ps(n,134217728);if(e!==null){var t=oi();Cr(e,n,134217728,t)}y_(n,134217728)}};JE=function(n){if(n.tag===13){var e=go(n),t=Ps(n,e);if(t!==null){var i=oi();Cr(t,n,e,i)}y_(n,e)}};QE=function(){return kt};ZE=function(n,e){var t=kt;try{return kt=n,e()}finally{kt=t}};nv=function(n,e,t){switch(e){case"input":if(J0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Gp(i);if(!r)throw Error(Pe(90));bE(i),J0(i,r)}}}break;case"textarea":PE(n,t);break;case"select":e=t.value,e!=null&&Fl(n,!!t.multiple,e,!1)}};FE=h_;kE=Sa;var xL={usingClientEntryPoint:!1,Events:[mf,wl,Gp,UE,OE,h_]},Qu={findFiberByHostInstance:ra,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},AL={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Us.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=HE(n),n===null?null:n.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||yL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{Bp=Kd.inject(AL),Zr=Kd}catch{}}zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xL;zi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x_(e))throw Error(Pe(200));return vL(n,e,null,t)};zi.createRoot=function(n,e){if(!x_(n))throw Error(Pe(299));var t=!1,i="",r=xT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=v_(n,1,!1,null,null,t,!1,i,r),n[Rs]=e.current,Vc(n.nodeType===8?n.parentNode:n),new __(e)};zi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Pe(188)):(n=Object.keys(n).join(","),Error(Pe(268,n)));return n=HE(e),n=n===null?null:n.stateNode,n};zi.flushSync=function(n){return Sa(n)};zi.hydrate=function(n,e,t){if(!Kp(e))throw Error(Pe(200));return $p(null,n,e,!0,t)};zi.hydrateRoot=function(n,e,t){if(!x_(n))throw Error(Pe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=xT;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=_T(e,null,n,1,t??null,r,!1,s,o),n[Rs]=e.current,Vc(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Zp(e)};zi.render=function(n,e,t){if(!Kp(e))throw Error(Pe(200));return $p(null,n,e,!1,t)};zi.unmountComponentAtNode=function(n){if(!Kp(n))throw Error(Pe(40));return n._reactRootContainer?(Sa(function(){$p(null,null,n,!1,function(){n._reactRootContainer=null,n[Rs]=null})}),!0):!1};zi.unstable_batchedUpdates=h_;zi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Kp(t))throw Error(Pe(200));if(n==null||n._reactInternals===void 0)throw Error(Pe(38));return $p(n,e,t,!1,i)};zi.version="18.2.0-next-9e3b772b8-20220608";function AT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AT)}catch(n){console.error(n)}}AT(),_E.exports=zi;var SL=_E.exports,ST,dS=SL;ST=V0.createRoot=dS.createRoot,V0.hydrateRoot=dS.hydrateRoot;const ML="/Portfolio-v1/assets/samurai-c9d8b69f.jpg",EL="_nameJumpAnimation_14tr5_2",wL="_subtleJump_14tr5_1",TL="_mask1_14tr5_12",CL="_cardsContainer_14tr5_22",qg={nameJumpAnimation:EL,subtleJump:wL,mask1:TL,cardsContainer:CL},bL=q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:q.jsx("path",{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM4 5V19H20V5H4ZM20 12L16.4645 15.5355L15.0503 14.1213L17.1716 12L15.0503 9.87868L16.4645 8.46447L20 12ZM6.82843 12L8.94975 14.1213L7.53553 15.5355L4 12L7.53553 8.46447L8.94975 9.87868L6.82843 12ZM11.2443 17H9.11597L12.7557 7H14.884L11.2443 17Z"})}),RL=q.jsx("svg",{fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})}),PL=q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:q.jsx("path",{d:"M17 4C20.3137 4 23 6.68629 23 10V14C23 17.3137 20.3137 20 17 20H7C3.68629 20 1 17.3137 1 14V10C1 6.68629 3.68629 4 7 4H17ZM17 6H7C4.8578 6 3.10892 7.68397 3.0049 9.80036L3 10V14C3 16.1422 4.68397 17.8911 6.80036 17.9951L7 18H17C19.1422 18 20.8911 16.316 20.9951 14.1996L21 14V10C21 7.8578 19.316 6.10892 17.1996 6.0049L17 6ZM10 9V11H12V13H9.999L10 15H8L7.999 13H6V11H8V9H10ZM18 13V15H16V13H18ZM16 9V11H14V9H16Z"})}),LL=q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:q.jsx("path",{d:"M18.3292 4.25604L16.9062 5.67921C13.7678 3.23734 9.22861 3.45865 6.34412 6.34315C3.97034 8.71692 3.40017 12.2113 4.63361 15.1234L7.0508 12.7061C6.83751 11.2027 7.30906 9.62085 8.46544 8.46447C10.1757 6.75423 12.8166 6.54193 14.7579 7.82757L13.2937 9.2919C12.1787 8.75967 10.8031 8.95526 9.87966 9.87868C8.95624 10.8021 8.76065 12.1777 9.29288 13.2927L2.8428 19.7424C2.80859 16.2426 2.25158 14.931 2.05494 13.0406C1.75392 10.1467 2.71224 7.1466 4.92991 4.92893C8.59624 1.2626 14.4012 1.03831 18.3292 4.25604ZM21.1592 4.25759C21.1934 7.75736 21.7504 9.06895 21.947 10.9594C22.248 13.8533 21.2897 16.8534 19.072 19.0711C15.4057 22.7374 9.60078 22.9617 5.67278 19.744L7.09575 18.3208C10.2342 20.7627 14.7733 20.5413 17.6578 17.6569C20.0316 15.2831 20.6018 11.7887 19.3683 8.87656L16.9512 11.2939C17.1644 12.7973 16.6929 14.3792 15.5365 15.5355C13.8263 17.2458 11.1853 17.4581 9.24404 16.1724L10.7083 14.7081C11.8233 15.2403 13.1989 15.0447 14.1223 14.1213C15.0457 13.1979 15.2413 11.8223 14.7091 10.7073L21.1592 4.25759Z"})}),$d=({icon:n,content:e,title:t,subTitle:i})=>q.jsxs("div",{className:"bg-white  w-80 shadow-lg  rounded-xl p-4 transition-all hover:shadow-2xl",children:[q.jsxs("p",{className:"text-gray-600  text-xl",children:[q.jsx("span",{className:"text-lg md:text-xl font-bold text-indigo-500",children:""}),e,q.jsx("span",{className:"md:text-lg font-bold text-indigo-500",children:""})]}),q.jsxs("div",{className:"flex items-center mt-4 gap-2",children:[q.jsx("div",{className:"w-10 shadow p-1 bg-yellow-100 rounded-full aspect-square",children:n}),q.jsxs("div",{className:"flex flex-col justify-between ml-2",children:[q.jsx("span",{className:"text-lg md:text-2xl font-semibold text-[#4a4e69]",children:t}),q.jsx("span",{className:"flex items-center text-lg dark:text-gray-400",children:i})]})]})]}),IL=({})=>q.jsxs("div",{className:"min-h-screen pt-4 pb-20",children:[q.jsxs("div",{className:" text-center font-bold text-3xl md:text-6xl text-[#4a4e69] w-full ",children:[q.jsx("div",{className:`text-red-400 ${qg.nameJumpAnimation}`,children:"."}),"/about-me"]}),q.jsxs("div",{className:"h-full flex items-center ",children:[q.jsx("div",{className:"w-1/2 h-full hidden md:block",children:q.jsx("div",{className:`${qg.mask1} w-full h-full overflow-hidden`,children:q.jsx("img",{src:ML,className:"object-cover h-full relative top-0"})})}),q.jsxs("div",{className:`w-full md:w-1/2 items-center flex flex-col pt-8 px-8 gap-4 ${qg.cardsContainer}`,children:[q.jsx($d,{icon:bL,content:"Mechanical Engineer by chance and a software devloper by choice.",title:"Software Engineer",subTitle:"JS devloper"}),q.jsx($d,{icon:RL,content:"A passionate coder having love for coding and is very keen to learn new stuffs in web devlopment and programming",title:"Passionate Coder",subTitle:"Coding enthusiast"}),q.jsx($d,{icon:PL,content:"A hardcore video gamer. Like to play games like Call Of Duty , Battlefield, PUBG etc..",title:"Hadrcore Gamer",subTitle:"FPS Game lover"}),q.jsx($d,{icon:LL,content:"An altrenate believer. Who believe that there is always more than one solution for a problem.",title:"Alternate Believer",subTitle:"Believe in multiple solutions"})]})]})]});var hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},A_=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},S_=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),NL=function(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n},MT=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},M_=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},E_=function(n,e){var t={};for(var i in n)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},Zc=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n};/*!
 * ScrollMagic v2.0.7 (2019-05-07)
 * The javascript library for magical scroll interactions.
 * (c) 2019 Jan Paepke (@janpaepke)
 * Project Website: http://scrollmagic.io
 * 
 * @version 2.0.7
 * @license Dual licensed under MIT license and GPL.
 * @author Jan Paepke - e-mail@janpaepke.de
 *
 * @file ScrollMagic main library.
 */var ET={};ET.addEventListener=function(){};var w_=function(n,e){var t=function(){o.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};t.version="2.0.7",n.addEventListener("mousewheel",function(){});var i="data-scrollmagic-pin-spacer";t.Controller=function(a){var u="ScrollMagic.Controller",f="FORWARD",d="REVERSE",h="PAUSED",p=r.defaults,m=this,y=o.extend({},p,a),S=[],M=!1,v=0,A=h,x=!0,E=0,T=!0,P,R,L=function(){for(var k in y)p.hasOwnProperty(k)||(W(2,'WARNING: Unknown option "'+k+'"'),delete y[k]);if(y.container=o.get.elements(y.container)[0],!y.container)throw W(1,"ERROR creating object "+u+": No valid scroll container supplied"),u+" init failed.";x=y.container===n||y.container===e.body||!e.body.contains(y.container),x&&(y.container=n),E=F(),y.container.addEventListener("resize",X),y.container.addEventListener("scroll",X);var te=parseInt(y.refreshInterval,10);y.refreshInterval=o.type.Number(te)?te:p.refreshInterval,C(),W(3,"added new "+u+" controller (v"+t.version+")")},C=function(){y.refreshInterval>0&&(R=n.setTimeout(ee,y.refreshInterval))},I=function(){return y.vertical?o.get.scrollTop(y.container):o.get.scrollLeft(y.container)},F=function(){return y.vertical?o.get.height(y.container):o.get.width(y.container)},j=this._setScrollPos=function(D){y.vertical?x?n.scrollTo(o.get.scrollLeft(),D):y.container.scrollTop=D:x?n.scrollTo(D,o.get.scrollTop()):y.container.scrollLeft=D},G=function(){if(T&&M){var k=o.type.Array(M)?M:S.slice(0);M=!1;var te=v;v=m.scrollPos();var K=v-te;K!==0&&(A=K>0?f:d),A===d&&k.reverse(),k.forEach(function(ie,re){W(3,"updating Scene "+(re+1)+"/"+k.length+" ("+S.length+" total)"),ie.update(!0)}),k.length===0&&y.loglevel>=3&&W(3,"updating 0 Scenes (nothing added to controller)")}},J=function(){P=o.rAF(G)},X=function(k){W(3,"event fired causing an update:",k.type),k.type=="resize"&&(E=F(),A=h),M!==!0&&(M=!0,J())},ee=function(){if(!x&&E!=F()){var k;try{k=new Event("resize",{bubbles:!1,cancelable:!1})}catch{k=e.createEvent("Event"),k.initEvent("resize",!1,!1)}y.container.dispatchEvent(k)}S.forEach(function(te,K){te.refresh()}),C()},W=this._log=function(D,k){y.loglevel>=D&&(Array.prototype.splice.call(arguments,1,0,"("+u+") ->"),o.log.apply(n,arguments))};this._options=y;var N=function(k){if(k.length<=1)return k;var te=k.slice(0);return te.sort(function(K,ie){return K.scrollOffset()>ie.scrollOffset()?1:-1}),te};return this.addScene=function(D){if(o.type.Array(D))D.forEach(function(te,K){m.addScene(te)});else if(D instanceof t.Scene){if(D.controller()!==m)D.addTo(m);else if(S.indexOf(D)<0){S.push(D),S=N(S),D.on("shift.controller_sort",function(){S=N(S)});for(var k in y.globalSceneOptions)D[k]&&D[k].call(D,y.globalSceneOptions[k]);W(3,"adding Scene (now "+S.length+" total)")}}else W(1,"ERROR: invalid argument supplied for '.addScene()'");return m},this.removeScene=function(D){if(o.type.Array(D))D.forEach(function(te,K){m.removeScene(te)});else{var k=S.indexOf(D);k>-1&&(D.off("shift.controller_sort"),S.splice(k,1),W(3,"removing Scene (now "+S.length+" left)"),D.remove())}return m},this.updateScene=function(D,k){return o.type.Array(D)?D.forEach(function(te,K){m.updateScene(te,k)}):k?D.update(!0):M!==!0&&D instanceof t.Scene&&(M=M||[],M.indexOf(D)==-1&&M.push(D),M=N(M),J()),m},this.update=function(D){return X({type:"resize"}),D&&G(),m},this.scrollTo=function(D,k){if(o.type.Number(D))j.call(y.container,D,k);else if(D instanceof t.Scene)D.controller()===m?m.scrollTo(D.scrollOffset(),k):W(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",D);else if(o.type.Function(D))j=D;else{var te=o.get.elements(D)[0];if(te){for(;te.parentNode.hasAttribute(i);)te=te.parentNode;var K=y.vertical?"top":"left",ie=o.get.offset(y.container),re=o.get.offset(te);x||(ie[K]-=m.scrollPos()),m.scrollTo(re[K]-ie[K],k)}else W(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",D)}return m},this.scrollPos=function(D){if(arguments.length)o.type.Function(D)?I=D:W(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'.");else return I.call(m);return m},this.info=function(D){var k={size:E,vertical:y.vertical,scrollPos:v,scrollDirection:A,container:y.container,isDocument:x};if(arguments.length){if(k[D]!==void 0)return k[D];W(1,'ERROR: option "'+D+'" is not available');return}else return k},this.loglevel=function(D){if(arguments.length)y.loglevel!=D&&(y.loglevel=D);else return y.loglevel;return m},this.enabled=function(D){if(arguments.length)T!=D&&(T=!!D,m.updateScene(S,!0));else return T;return m},this.destroy=function(D){n.clearTimeout(R);for(var k=S.length;k--;)S[k].destroy(D);return y.container.removeEventListener("resize",X),y.container.removeEventListener("scroll",X),o.cAF(P),W(3,"destroyed "+u+" (reset: "+(D?"true":"false")+")"),null},L(),m};var r={defaults:{container:n,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};t.Controller.addOption=function(a,u){r.defaults[a]=u},t.Controller.extend=function(a){var u=this;t.Controller=function(){return u.apply(this,arguments),this.$super=o.extend({},this),a.apply(this,arguments)||this},o.extend(t.Controller,u),t.Controller.prototype=u.prototype,t.Controller.prototype.constructor=t.Controller},t.Scene=function(a){var u="ScrollMagic.Scene",f="BEFORE",d="DURING",h="AFTER",p=s.defaults,m=this,y=o.extend({},p,a),S=f,M=0,v={start:0,end:0},A=0,x=!0,E,T,P=function(){for(var U in y)p.hasOwnProperty(U)||(L(2,'WARNING: Unknown option "'+U+'"'),delete y[U]);for(var Me in p)ee(Me);J()},R={};this.on=function(Z,U){return o.type.Function(U)?(Z=Z.trim().split(" "),Z.forEach(function(Me){var Re=Me.split("."),ce=Re[0],he=Re[1];ce!="*"&&(R[ce]||(R[ce]=[]),R[ce].push({namespace:he||"",callback:U}))})):L(1,"ERROR when calling '.on()': Supplied callback for '"+Z+"' is not a valid function!"),m},this.off=function(Z,U){return Z?(Z=Z.trim().split(" "),Z.forEach(function(Me,Re){var ce=Me.split("."),he=ce[0],ue=ce[1]||"",se=he==="*"?Object.keys(R):[he];se.forEach(function(xe){for(var De=R[xe]||[],Ie=De.length;Ie--;){var Ve=De[Ie];Ve&&(ue===Ve.namespace||ue==="*")&&(!U||U==Ve.callback)&&De.splice(Ie,1)}De.length||delete R[xe]})}),m):(L(1,"ERROR: Invalid event name supplied."),m)},this.trigger=function(Z,U){if(Z){var Me=Z.trim().split("."),Re=Me[0],ce=Me[1],he=R[Re];L(3,"event fired:",Re,U?"->":"",U||""),he&&he.forEach(function(ue,se){(!ce||ce===ue.namespace)&&ue.callback.call(m,new t.Event(Re,ue.namespace,m,U))})}else L(1,"ERROR: Invalid event name supplied.");return m},m.on("change.internal",function(Z){Z.what!=="loglevel"&&Z.what!=="tweenChanges"&&(Z.what==="triggerElement"?F():Z.what==="reverse"&&m.update())}).on("shift.internal",function(Z){C(),m.update()});var L=this._log=function(Z,U){y.loglevel>=Z&&(Array.prototype.splice.call(arguments,1,0,"("+u+") ->"),o.log.apply(n,arguments))};this.addTo=function(Z){return Z instanceof t.Controller?T!=Z&&(T&&T.removeScene(m),T=Z,J(),I(!0),F(!0),C(),T.info("container").addEventListener("resize",j),Z.addScene(m),m.trigger("add",{controller:T}),L(3,"added "+u+" to controller"),m.update()):L(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),m},this.enabled=function(Z){if(arguments.length)x!=Z&&(x=!!Z,m.update(!0));else return x;return m},this.remove=function(){if(T){T.info("container").removeEventListener("resize",j);var Z=T;T=void 0,Z.removeScene(m),m.trigger("remove"),L(3,"removed "+u+" from controller")}return m},this.destroy=function(Z){return m.trigger("destroy",{reset:Z}),m.remove(),m.off("*.*"),L(3,"destroyed "+u+" (reset: "+(Z?"true":"false")+")"),null},this.update=function(Z){if(T)if(Z)if(T.enabled()&&x){var U=T.info("scrollPos"),Me;y.duration>0?Me=(U-v.start)/(v.end-v.start):Me=U>=v.start?1:0,m.trigger("update",{startPos:v.start,endPos:v.end,scrollPos:U}),m.progress(Me)}else W&&S===d&&D(!0);else T.updateScene(m,!1);return m},this.refresh=function(){return I(),F(),m},this.progress=function(Z){if(arguments.length){var U=!1,Me=S,Re=T?T.info("scrollDirection"):"PAUSED",ce=y.reverse||Z>=M;if(y.duration===0?(U=M!=Z,M=Z<1&&ce?0:1,S=M===0?f:d):Z<0&&S!==f&&ce?(M=0,S=f,U=!0):Z>=0&&Z<1&&ce?(M=Z,S=d,U=!0):Z>=1&&S!==h?(M=1,S=h,U=!0):S===d&&!ce&&D(),U){var he={progress:M,state:S,scrollDirection:Re},ue=S!=Me,se=function(De){m.trigger(De,he)};ue&&Me!==d&&(se("enter"),se(Me===f?"start":"end")),se("progress"),ue&&S!==d&&(se(S===f?"start":"end"),se("leave"))}return m}else return M};var C=function(){v={start:A+y.offset},T&&y.triggerElement&&(v.start-=T.info("size")*y.triggerHook),v.end=v.start+y.duration},I=function(U){if(E){var Me="duration";X(Me,E.call(m))&&!U&&(m.trigger("change",{what:Me,newval:y[Me]}),m.trigger("shift",{reason:Me}))}},F=function(U){var Me=0,Re=y.triggerElement;if(T&&(Re||A>0)){if(Re)if(Re.parentNode){for(var ce=T.info(),he=o.get.offset(ce.container),ue=ce.vertical?"top":"left";Re.parentNode.hasAttribute(i);)Re=Re.parentNode;var se=o.get.offset(Re);ce.isDocument||(he[ue]-=T.scrollPos()),Me=se[ue]-he[ue]}else L(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),m.triggerElement(void 0);var xe=Me!=A;A=Me,xe&&!U&&m.trigger("shift",{reason:"triggerElementPosition"})}},j=function(U){y.triggerHook>0&&m.trigger("shift",{reason:"containerResize"})},G=o.extend(s.validate,{duration:function(U){if(o.type.String(U)&&U.match(/^(\.|\d)*\d+%$/)){var Me=parseFloat(U)/100;U=function(){return T?T.info("size")*Me:0}}if(o.type.Function(U)){E=U;try{U=parseFloat(E.call(m))}catch{U=-1}}if(U=parseFloat(U),!o.type.Number(U)||U<0)throw E?(E=void 0,['Invalid return value of supplied function for option "duration":',U]):['Invalid value for option "duration":',U];return U}}),J=function(U){U=arguments.length?[U]:Object.keys(G),U.forEach(function(Me,Re){var ce;if(G[Me])try{ce=G[Me](y[Me])}catch(ue){ce=p[Me];var he=o.type.String(ue)?[ue]:ue;o.type.Array(he)?(he[0]="ERROR: "+he[0],he.unshift(1),L.apply(this,he)):L(1,"ERROR: Problem executing validation callback for option '"+Me+"':",ue.message)}finally{y[Me]=ce}})},X=function(U,Me){var Re=!1,ce=y[U];return y[U]!=Me&&(y[U]=Me,J(U),Re=ce!=y[U]),Re},ee=function(U){m[U]||(m[U]=function(Me){if(arguments.length)U==="duration"&&(E=void 0),X(U,Me)&&(m.trigger("change",{what:U,newval:y[U]}),s.shifts.indexOf(U)>-1&&m.trigger("shift",{reason:U}));else return y[U];return m})};this.controller=function(){return T},this.state=function(){return S},this.scrollOffset=function(){return v.start},this.triggerPosition=function(){var Z=y.offset;return T&&(y.triggerElement?Z+=A:Z+=T.info("size")*m.triggerHook()),Z};var W,N;m.on("shift.internal",function(Z){var U=Z.reason==="duration";(S===h&&U||S===d&&y.duration===0)&&D(),U&&k()}).on("progress.internal",function(Z){D()}).on("add.internal",function(Z){k()}).on("destroy.internal",function(Z){m.removePin(Z.reset)});var D=function(U){if(W&&T){var Me=T.info(),Re=N.spacer.firstChild;if(!U&&S===d){o.css(Re,"position")!="fixed"&&(o.css(Re,{position:"fixed"}),k());var ce=o.get.offset(N.spacer,!0),he=y.reverse||y.duration===0?Me.scrollPos-v.start:Math.round(M*y.duration*10)/10;ce[Me.vertical?"top":"left"]+=he,o.css(N.spacer.firstChild,{top:ce.top,left:ce.left})}else{var ue={position:N.inFlow?"relative":"absolute",top:0,left:0},se=o.css(Re,"position")!=ue.position;N.pushFollowers?y.duration>0&&(S===h&&parseFloat(o.css(N.spacer,"padding-top"))===0||S===f&&parseFloat(o.css(N.spacer,"padding-bottom"))===0)&&(se=!0):ue[Me.vertical?"top":"left"]=y.duration*M,o.css(Re,ue),se&&k()}}},k=function(){if(W&&T&&N.inFlow){var U=S===d,Me=T.info("vertical"),Re=N.spacer.firstChild,ce=o.isMarginCollapseType(o.css(N.spacer,"display")),he={};N.relSize.width||N.relSize.autoFullWidth?U?o.css(W,{width:o.get.width(N.spacer)}):o.css(W,{width:"100%"}):(he["min-width"]=o.get.width(Me?W:Re,!0,!0),he.width=U?he["min-width"]:"auto"),N.relSize.height?U?o.css(W,{height:o.get.height(N.spacer)-(N.pushFollowers?y.duration:0)}):o.css(W,{height:"100%"}):(he["min-height"]=o.get.height(Me?Re:W,!0,!ce),he.height=U?he["min-height"]:"auto"),N.pushFollowers&&(he["padding"+(Me?"Top":"Left")]=y.duration*M,he["padding"+(Me?"Bottom":"Right")]=y.duration*(1-M)),o.css(N.spacer,he)}},te=function(){T&&W&&S===d&&!T.info("isDocument")&&D()},K=function(){T&&W&&S===d&&((N.relSize.width||N.relSize.autoFullWidth)&&o.get.width(n)!=o.get.width(N.spacer.parentNode)||N.relSize.height&&o.get.height(n)!=o.get.height(N.spacer.parentNode))&&k()},ie=function(U){T&&W&&S===d&&!T.info("isDocument")&&(U.preventDefault(),T._setScrollPos(T.info("scrollPos")-((U.wheelDelta||U[T.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||-U.detail*30)))};this.setPin=function(Z,U){var Me={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},Re=U&&U.hasOwnProperty("pushFollowers");if(U=o.extend({},Me,U),Z=o.get.elements(Z)[0],Z){if(o.css(Z,"position")==="fixed")return L(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),m}else return L(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),m;if(W){if(W===Z)return m;m.removePin()}W=Z;var ce=W.parentNode.style.display,he=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];W.parentNode.style.display="none";var ue=o.css(W,"position")!="absolute",se=o.css(W,he.concat(["display"])),xe=o.css(W,["width","height"]);W.parentNode.style.display=ce,!ue&&U.pushFollowers&&(L(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),U.pushFollowers=!1),n.setTimeout(function(){W&&y.duration===0&&Re&&U.pushFollowers&&L(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")},0);var De=W.parentNode.insertBefore(e.createElement("div"),W),Ie=o.extend(se,{position:ue?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(ue||o.extend(Ie,o.css(W,["width","height"])),o.css(De,Ie),De.setAttribute(i,""),o.addClass(De,U.spacerClass),N={spacer:De,relSize:{width:xe.width.slice(-1)==="%",height:xe.height.slice(-1)==="%",autoFullWidth:xe.width==="auto"&&ue&&o.isMarginCollapseType(se.display)},pushFollowers:U.pushFollowers,inFlow:ue},!W.___origStyle){W.___origStyle={};var Ve=W.style,qe=he.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);qe.forEach(function(We){W.___origStyle[We]=Ve[We]||""})}return N.relSize.width&&o.css(De,{width:xe.width}),N.relSize.height&&o.css(De,{height:xe.height}),De.appendChild(W),o.css(W,{position:ue?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(N.relSize.width||N.relSize.autoFullWidth)&&o.css(W,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),n.addEventListener("scroll",te),n.addEventListener("resize",te),n.addEventListener("resize",K),W.addEventListener("mousewheel",ie),W.addEventListener("DOMMouseScroll",ie),L(3,"added pin"),D(),m},this.removePin=function(Z){if(W){if(S===d&&D(!0),Z||!T){var U=N.spacer.firstChild;if(U.hasAttribute(i)){var Me=N.spacer.style,Re=["margin","marginLeft","marginRight","marginTop","marginBottom"],ce={};Re.forEach(function(he){ce[he]=Me[he]||""}),o.css(U,ce)}N.spacer.parentNode.insertBefore(U,N.spacer),N.spacer.parentNode.removeChild(N.spacer),W.parentNode.hasAttribute(i)||(o.css(W,W.___origStyle),delete W.___origStyle)}n.removeEventListener("scroll",te),n.removeEventListener("resize",te),n.removeEventListener("resize",K),W.removeEventListener("mousewheel",ie),W.removeEventListener("DOMMouseScroll",ie),W=void 0,L(3,"removed pin (reset: "+(Z?"true":"false")+")")}return m};var re,we=[];return m.on("destroy.internal",function(Z){m.removeClassToggle(Z.reset)}),this.setClassToggle=function(Z,U){var Me=o.get.elements(Z);return Me.length===0||!o.type.String(U)?(L(1,"ERROR calling method 'setClassToggle()': Invalid "+(Me.length===0?"element":"classes")+" supplied."),m):(we.length>0&&m.removeClassToggle(),re=U,we=Me,m.on("enter.internal_class leave.internal_class",function(Re){var ce=Re.type==="enter"?o.addClass:o.removeClass;we.forEach(function(he,ue){ce(he,re)})}),m)},this.removeClassToggle=function(Z){return Z&&we.forEach(function(U,Me){o.removeClass(U,re)}),m.off("start.internal_class end.internal_class"),re=void 0,we=[],m},P(),m};var s={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(u){if(u=parseFloat(u),!o.type.Number(u))throw['Invalid value for option "offset":',u];return u},triggerElement:function(u){if(u=u||void 0,u){var f=o.get.elements(u)[0];if(f&&f.parentNode)u=f;else throw['Element defined in option "triggerElement" was not found:',u]}return u},triggerHook:function(u){var f={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(u))u=Math.max(0,Math.min(parseFloat(u),1));else if(u in f)u=f[u];else throw['Invalid value for option "triggerHook": ',u];return u},reverse:function(u){return!!u},loglevel:function(u){if(u=parseInt(u),!o.type.Number(u)||u<0||u>3)throw['Invalid value for option "loglevel":',u];return u}},shifts:["duration","offset","triggerHook"]};t.Scene.addOption=function(a,u,f,d){a in s.defaults?t._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+a+"', because it already exists."):(s.defaults[a]=u,s.validate[a]=f,d&&s.shifts.push(a))},t.Scene.extend=function(a){var u=this;t.Scene=function(){return u.apply(this,arguments),this.$super=o.extend({},this),a.apply(this,arguments)||this},o.extend(t.Scene,u),t.Scene.prototype=u.prototype,t.Scene.prototype.constructor=t.Scene},t.Event=function(a,u,f,d){d=d||{};for(var h in d)this[h]=d[h];return this.type=a,this.target=this.currentTarget=f,this.namespace=u||"",this.timeStamp=this.timestamp=Date.now(),this};var o=t._util=function(a){var u={},f,d=function(L){return parseFloat(L)||0},h=function(L){return L.currentStyle?L.currentStyle:a.getComputedStyle(L)},p=function(L,C,I,F){if(C=C===e?a:C,C===a)F=!1;else if(!T.DomElement(C))return 0;L=L.charAt(0).toUpperCase()+L.substr(1).toLowerCase();var j=(I?C["offset"+L]||C["outer"+L]:C["client"+L]||C["inner"+L])||0;if(I&&F){var G=h(C);j+=L==="Height"?d(G.marginTop)+d(G.marginBottom):d(G.marginLeft)+d(G.marginRight)}return j},m=function(L){return L.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(C){return C[1].toUpperCase()})};u.extend=function(R){for(R=R||{},f=1;f<arguments.length;f++)if(arguments[f])for(var L in arguments[f])arguments[f].hasOwnProperty(L)&&(R[L]=arguments[f][L]);return R},u.isMarginCollapseType=function(R){return["block","flex","list-item","table","-webkit-box"].indexOf(R)>-1};var y=0,S=["ms","moz","webkit","o"],M=a.requestAnimationFrame,v=a.cancelAnimationFrame;for(f=0;!M&&f<S.length;++f)M=a[S[f]+"RequestAnimationFrame"],v=a[S[f]+"CancelAnimationFrame"]||a[S[f]+"CancelRequestAnimationFrame"];M||(M=function(L){var C=new Date().getTime(),I=Math.max(0,16-(C-y)),F=a.setTimeout(function(){L(C+I)},I);return y=C+I,F}),v||(v=function(L){a.clearTimeout(L)}),u.rAF=M.bind(a),u.cAF=v.bind(a);var A=["error","warn","log"],x=a.console||{};for(x.log=x.log||function(){},f=0;f<A.length;f++){var E=A[f];x[E]||(x[E]=x.log)}u.log=function(R){(R>A.length||R<=0)&&(R=A.length);var L=new Date,C=("0"+L.getHours()).slice(-2)+":"+("0"+L.getMinutes()).slice(-2)+":"+("0"+L.getSeconds()).slice(-2)+":"+("00"+L.getMilliseconds()).slice(-3),I=A[R-1],F=Array.prototype.splice.call(arguments,1),j=Function.prototype.bind.call(x[I],x);F.unshift(C),j.apply(x,F)};var T=u.type=function(R){return Object.prototype.toString.call(R).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};T.String=function(R){return T(R)==="string"},T.Function=function(R){return T(R)==="function"},T.Array=function(R){return Array.isArray(R)},T.Number=function(R){return!T.Array(R)&&R-parseFloat(R)+1>=0},T.DomElement=function(R){return(typeof HTMLElement>"u"?"undefined":hS(HTMLElement))==="object"||typeof HTMLElement=="function"?R instanceof HTMLElement||R instanceof SVGElement:R&&(typeof R>"u"?"undefined":hS(R))==="object"&&R!==null&&R.nodeType===1&&typeof R.nodeName=="string"};var P=u.get={};return P.elements=function(R){var L=[];if(T.String(R))try{R=e.querySelectorAll(R)}catch{return L}if(T(R)==="nodelist"||T.Array(R)||R instanceof NodeList)for(var C=0,I=L.length=R.length;C<I;C++){var F=R[C];L[C]=T.DomElement(F)?F:P.elements(F)}else(T.DomElement(R)||R===e||R===a)&&(L=[R]);return L},P.scrollTop=function(R){return R&&typeof R.scrollTop=="number"?R.scrollTop:a.pageYOffset||0},P.scrollLeft=function(R){return R&&typeof R.scrollLeft=="number"?R.scrollLeft:a.pageXOffset||0},P.width=function(R,L,C){return p("width",R,L,C)},P.height=function(R,L,C){return p("height",R,L,C)},P.offset=function(R,L){var C={top:0,left:0};if(R&&R.getBoundingClientRect){var I=R.getBoundingClientRect();C.top=I.top,C.left=I.left,L||(C.top+=P.scrollTop(),C.left+=P.scrollLeft())}return C},u.addClass=function(R,L){L&&(R.classList?R.classList.add(L):R.className+=" "+L)},u.removeClass=function(R,L){L&&(R.classList?R.classList.remove(L):R.className=R.className.replace(new RegExp("(^|\\b)"+L.split(" ").join("|")+"(\\b|$)","gi")," "))},u.css=function(R,L){if(T.String(L))return h(R)[m(L)];if(T.Array(L)){var C={},I=h(R);return L.forEach(function(G,J){C[G]=I[m(G)]}),C}else for(var F in L){var j=L[F];j==parseFloat(j)&&(j+="px"),R.style[m(F)]=j}},u}(n||{});return t}(typeof window>"u"?ET:window,typeof document>"u"?{}:document),wT=Si.createContext(null),Np=function(n){M_(e,n);function e(){var t,i,r,s;A_(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(i=(r=Zc(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r),r.state={controller:null},i),Zc(r,s)}return S_(e,[{key:"componentDidMount",value:function(){var i=this.props;i.children;var r=E_(i,["children"]);this.setState({controller:new w_.Controller(r)})}},{key:"componentWillUnmount",value:function(){this.controller=null}},{key:"render",value:function(){var i=this.props.children,r=this.state.controller;return r?Si.createElement(wT.Provider,{value:r},i):i}}]),e}(Si.Component);/*!
 * ScrollMagic v2.0.7 (2019-05-07)
 * The javascript library for magical scroll interactions.
 * (c) 2019 Jan Paepke (@janpaepke)
 * Project Website: http://scrollmagic.io
 * 
 * @version 2.0.7
 * @license Dual licensed under MIT license and GPL.
 * @author Jan Paepke - e-mail@janpaepke.de
 *
 * @file Debug Extension for ScrollMagic.
 */function DL(n){var e="debug.addIndicators";if(typeof t>"u"){var t={};t.addEventListener=function(){}}var i=t.console||{},r=Function.prototype.bind.call(i.error||i.log||function(){},i);n||r("("+e+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");var s="0.85em",o="9999",a=15,u=n._util,f=0;n.Scene.extend(function(){var p=this,m;p.addIndicators=function(y){if(!m){var S={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};y=u.extend({},S,y),f++,m=new d(p,y),p.on("add.plugin_addIndicators",m.add),p.on("remove.plugin_addIndicators",m.remove),p.on("destroy.plugin_addIndicators",p.removeIndicators),p.controller()&&m.add()}return p},p.removeIndicators=function(){return m&&(m.remove(),this.off("*.plugin_addIndicators"),m=void 0),p}}),n.Controller.addOption("addIndicators",!1),n.Controller.extend(function(){var p=this,m=p.info(),y=m.container,S=m.isDocument,M=m.vertical,v={groups:[]},A=function(){p._log&&(Array.prototype.splice.call(arguments,1,0,"("+e+")","->"),p._log.apply(this,arguments))};p._indicators&&A(2,"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin."),this._indicators=v;var x=function(){v.updateBoundsPositions()},E=function(){v.updateTriggerGroupPositions()};return y.addEventListener("resize",E),S||(t.addEventListener("resize",E),t.addEventListener("scroll",E)),y.addEventListener("resize",x),y.addEventListener("scroll",x),this._indicators.updateBoundsPositions=function(T){for(var P=T?[u.extend({},T.triggerGroup,{members:[T]})]:v.groups,R=P.length,L={},C=M?"left":"top",I=M?"width":"height",F=M?u.get.scrollLeft(y)+u.get.width(y)-a:u.get.scrollTop(y)+u.get.height(y)-a,j,G,J;R--;)for(J=P[R],j=J.members.length,G=u.get[I](J.element.firstChild);j--;)L[C]=F-G,u.css(J.members[j].bounds,L)},this._indicators.updateTriggerGroupPositions=function(T){for(var P=T?[T]:v.groups,R=P.length,L=S?document.body:y,C=S?{top:0,left:0}:u.get.offset(L,!0),I=M?u.get.width(y)-a:u.get.height(y)-a,F=M?"width":"height",j=M?"Y":"X",G,J,X,ee,W;R--;)G=P[R],J=G.element,X=G.triggerHook*p.info("size"),ee=u.get[F](J.firstChild.firstChild),W=X>ee?"translate"+j+"(-100%)":"",u.css(J,{top:C.top+(M?X:I-G.members[0].options.indent),left:C.left+(M?I-G.members[0].options.indent:X)}),u.css(J.firstChild.firstChild,{"-ms-transform":W,"-webkit-transform":W,transform:W})},this._indicators.updateTriggerGroupLabel=function(T){var P="trigger"+(T.members.length>1?"":" "+T.members[0].options.name),R=T.element.firstChild.firstChild,L=R.textContent!==P;L&&(R.textContent=P,M&&v.updateBoundsPositions())},this.addScene=function(T){this._options.addIndicators&&T instanceof n.Scene&&T.controller()===p&&T.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){y.removeEventListener("resize",E),S||(t.removeEventListener("resize",E),t.removeEventListener("scroll",E)),y.removeEventListener("resize",x),y.removeEventListener("scroll",x),this.$super.destroy.apply(this,arguments)},p});var d=function(m,y){var S=this,M=h.bounds(),v=h.start(y.colorStart),A=h.end(y.colorEnd),x=y.parent&&u.get.elements(y.parent)[0],E,T,P=function(){m._log&&(Array.prototype.splice.call(arguments,1,0,"("+e+")","->"),m._log.apply(this,arguments))};y.name=y.name||f,v.firstChild.textContent+=" "+y.name,A.textContent+=" "+y.name,M.appendChild(v),M.appendChild(A),S.options=y,S.bounds=M,S.triggerGroup=void 0,this.add=function(){T=m.controller(),E=T.info("vertical");var X=T.info("isDocument");x||(x=X?document.body:T.info("container")),!X&&u.css(x,"position")==="static"&&u.css(x,{position:"relative"}),m.on("change.plugin_addIndicators",L),m.on("shift.plugin_addIndicators",R),J(),F(),setTimeout(function(){T._indicators.updateBoundsPositions(S)},0),P(3,"added indicators")},this.remove=function(){if(S.triggerGroup){if(m.off("change.plugin_addIndicators",L),m.off("shift.plugin_addIndicators",R),S.triggerGroup.members.length>1){var X=S.triggerGroup;X.members.splice(X.members.indexOf(S),1),T._indicators.updateTriggerGroupLabel(X),T._indicators.updateTriggerGroupPositions(X),S.triggerGroup=void 0}else G();I(),P(3,"removed indicators")}};var R=function(){F()},L=function(ee){ee.what==="triggerHook"&&J()},C=function(){var ee=T.info("vertical");u.css(v.firstChild,{"border-bottom-width":ee?1:0,"border-right-width":ee?0:1,bottom:ee?-1:y.indent,right:ee?y.indent:-1,padding:ee?"0 8px":"2px 4px"}),u.css(A,{"border-top-width":ee?1:0,"border-left-width":ee?0:1,top:ee?"100%":"",right:ee?y.indent:"",bottom:ee?"":y.indent,left:ee?"":"100%",padding:ee?"0 8px":"2px 4px"}),x.appendChild(M)},I=function(){M.parentNode.removeChild(M)},F=function(){M.parentNode!==x&&C();var ee={};ee[E?"top":"left"]=m.triggerPosition(),ee[E?"height":"width"]=m.duration(),u.css(M,ee),u.css(A,{display:m.duration()>0?"":"none"})},j=function(){var ee=h.trigger(y.colorTrigger),W={};W[E?"right":"bottom"]=0,W[E?"border-top-width":"border-left-width"]=1,u.css(ee.firstChild,W),u.css(ee.firstChild.firstChild,{padding:E?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(ee);var N={triggerHook:m.triggerHook(),element:ee,members:[S]};T._indicators.groups.push(N),S.triggerGroup=N,T._indicators.updateTriggerGroupLabel(N),T._indicators.updateTriggerGroupPositions(N)},G=function(){T._indicators.groups.splice(T._indicators.groups.indexOf(S.triggerGroup),1),S.triggerGroup.element.parentNode.removeChild(S.triggerGroup.element),S.triggerGroup=void 0},J=function(){var ee=m.triggerHook(),W=1e-4;if(!(S.triggerGroup&&Math.abs(S.triggerGroup.triggerHook-ee)<W)){for(var N=T._indicators.groups,D,k=N.length;k--;)if(D=N[k],Math.abs(D.triggerHook-ee)<W){S.triggerGroup&&(S.triggerGroup.members.length===1?G():(S.triggerGroup.members.splice(S.triggerGroup.members.indexOf(S),1),T._indicators.updateTriggerGroupLabel(S.triggerGroup),T._indicators.updateTriggerGroupPositions(S.triggerGroup))),D.members.push(S),S.triggerGroup=D,T._indicators.updateTriggerGroupLabel(D);return}if(S.triggerGroup)if(S.triggerGroup.members.length===1){S.triggerGroup.triggerHook=ee,T._indicators.updateTriggerGroupPositions(S.triggerGroup);return}else S.triggerGroup.members.splice(S.triggerGroup.members.indexOf(S),1),T._indicators.updateTriggerGroupLabel(S.triggerGroup),T._indicators.updateTriggerGroupPositions(S.triggerGroup),S.triggerGroup=void 0;j()}}},h={start:function(m){var y=document.createElement("div");y.textContent="start",u.css(y,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:m,"border-color":m});var S=document.createElement("div");return u.css(S,{position:"absolute",overflow:"visible",width:0,height:0}),S.appendChild(y),S},end:function(m){var y=document.createElement("div");return y.textContent="end",u.css(y,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:m,"border-color":m}),y},bounds:function(){var m=document.createElement("div");return u.css(m,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":s}),m.style.zIndex=o,m},trigger:function(m){var y=document.createElement("div");y.textContent="trigger",u.css(y,{position:"relative"});var S=document.createElement("div");u.css(S,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:m,"border-color":m}),S.appendChild(y);var M=document.createElement("div");return u.css(M,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":s}),M.style.zIndex=o,M.appendChild(S),M}}}DL(w_);var UL=function(e){return e.type&&e.type.$$typeof&&e.type.$$typeof.toString()==="Symbol(react.forward_ref)"?"ref":e.type&&e.type.styledComponentId?"innerRef":"ref"},TT=function(e){return!!(Si.Children.count(e)===1&&e.type&&(e.type.displayName==="Tween"||e.type.displayName==="Timeline"))},OL=function(e,t,i){if(TT(e)){var r=MT({},e.props,{totalProgress:t,paused:!0});return Si.createElement("div",null,Si.createElement(e.type,r))}return e},CT=function(e,t,i){return e&&typeof e=="function"?e(t,i):e},bT=function(e,t,i){return e=OL(e,t),e=CT(e,t,i),Si.Children.only(e)},FL=function(e){return typeof e=="string"||e instanceof String},kL=function(n){M_(e,n);function e(){var t,i,r,s;A_(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(i=(r=Zc(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r),r.state={event:"init",progress:0},i),Zc(r,s)}return S_(e,[{key:"componentDidMount",value:function(){var i=this.props;i.children;var r=i.controller,s=i.classToggle,o=i.pin,a=i.pinSettings,u=i.indicators,f=i.enabled,d=E_(i,["children","controller","classToggle","pin","pinSettings","indicators","enabled"]),h=this.ref;d.triggerElement=d.triggerElement===null?null:d.triggerElement||h,this.scene=new w_.Scene(d),this.initEventHandlers(),s&&this.setClassToggle(this.scene,h,s),(o||a)&&this.setPin(this.scene,h,o,a),u&&this.scene.addIndicators({name:" "}),f!==void 0&&this.scene.enabled(f),this.scene.addTo(r)}},{key:"componentDidUpdate",value:function(i){var r=this.props,s=r.duration,o=r.offset,a=r.triggerElement,u=r.triggerHook,f=r.reverse,d=r.enabled;s!==void 0&&s!==i.duration&&this.scene.duration(s),o!==void 0&&o!==i.offset&&this.scene.offset(o),a!==void 0&&i.triggerElement,u!==void 0&&u!==i.triggerHook&&this.scene.triggerHook(u),f!==void 0&&f!==i.reverse&&this.scene.reverse(f),d!==void 0&&d!==i.enabled&&this.scene.enabled(d)}},{key:"componentWillUnmount",value:function(){this.scene.destroy()}},{key:"setClassToggle",value:function(i,r,s){Array.isArray(s)&&s.length===2?i.setClassToggle(s[0],s[1]):i.setClassToggle(r,s)}},{key:"setPin",value:function(i,r,s,o){r=FL(s)?s:r,i.setPin(r,o)}},{key:"initEventHandlers",value:function(){var i=this,r=this.props,s=r.children,o=r.progressEvents,a=o===void 0?!0:o;typeof s!="function"&&!TT(CT(s,0,"init"))||(this.scene.on("start end enter leave",function(u){i.setState({event:u})}),a&&this.scene.on("progress",function(u){i.setState({progress:u.progress})}))}},{key:"render",value:function(){var i=this,r=this.props.children,s=this.state,o=s.progress,a=s.event,u=bT(r,o,a);return Si.cloneElement(u,NL({},UL(u),function(f){return i.ref=f}))}}]),e}(Si.PureComponent),RT=function(n){M_(e,n);function e(){return A_(this,e),Zc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S_(e,[{key:"render",value:function(){if(!this.props.controller){var i=this.props.children,r=0,s="init";return bT(i,r,s)}return Si.createElement(kL,this.props)}}]),e}(Si.PureComponent);RT.displayName="Scene";var Dp=function(e){var t=e.children,i=E_(e,["children"]);return Si.createElement(wT.Consumer,null,function(r){return Si.createElement(RT,MT({controller:r},i),t)})};const Jg="/Portfolio-v1/assets/4250475-87732666.png",BL="/Portfolio-v1/assets/c4316f2a68f195d1b9c7b929e11cd108(1)-c36c5b26.png",zL="/Portfolio-v1/assets/the-last-samurai-minimal-5k-zz-1024x768-cbfa858f.jpg",HL="_nameJumpAnimation_w22x5_2",VL="_subtleJump_w22x5_1",GL="_timelineContainer_w22x5_12",WL="_borderConatainer_w22x5_47",jL="_contentContainer_w22x5_64",XL="_mask1_w22x5_150",YL="_scrollMagicDefault_w22x5_159",Ri={nameJumpAnimation:HL,subtleJump:VL,timelineContainer:GL,borderConatainer:WL,contentContainer:jL,mask1:XL,scrollMagicDefault:YL},qL=({})=>{const n=de.useRef(null),[e,t]=de.useState(!1);return q.jsxs("div",{className:" flex flex-col gap-4 p-4 border-t-[1px]  md:pt-20 relative",ref:n,children:[q.jsxs("div",{className:"md:hidden text-center font-bold text-3xl md:text-6xl text-[#4a4e69] w-full ",children:[q.jsx("div",{className:`text-red-400 ${Ri.nameJumpAnimation}`,children:"."}),"/my-journey"]}),!e&&q.jsx(Np,{children:q.jsx("div",{className:"hidden md:block w-full absolute top-0 left-0 right-0 h-fit",children:q.jsx(Dp,{duration:0,pin:{pushFollowers:!0},triggerHook:0,offset:0,children:i=>q.jsx("div",{className:"w-full",children:q.jsxs("div",{className:`transition-all ${i>0?"relative left-full right-0 -translate-x-full":"relative left-1/2 -translate-x-1/2"}  font-bold text-6xl text-[#4a4e69] w-fit `,children:[q.jsx("div",{className:`text-red-400 ${Ri.nameJumpAnimation}`,children:"."}),"/my-journey"]})})})})}),q.jsxs("div",{className:"w-full flex-1 flex ",children:[q.jsxs("div",{className:`md:w-[50%] h-fit   ${Ri.timelineContainer}`,children:[q.jsxs("div",{className:"bg-yellow-100 relative ",children:[q.jsx("img",{src:BL,className:"absolute w-24 right-[1.2rem] top-0 translate-x-1/2 -translate-y-1/2"}),q.jsx("div",{className:Ri.borderConatainer,children:q.jsx("div",{className:Ri.contentContainer,children:q.jsxs("div",{className:"py-4 pr-2",children:[q.jsx("div",{className:" font-bold underline underline-offset-2",children:"High School"}),q.jsx("div",{children:"2015-2016"}),q.jsx("p",{children:"Completed my high school from SFS High School, Nagpur Maharashtra. It was the first time when i encounter coding bt didnt really emphasize on learning it."})]})})})]}),q.jsxs("div",{className:"bg-yellow-100 relative",children:[q.jsx("img",{src:Jg,className:"absolute w-24 left-[1.2rem] top-8 -translate-x-1/2 translate-y-1/2"}),q.jsx("div",{className:Ri.borderConatainer,children:q.jsx("div",{className:Ri.contentContainer,children:q.jsxs("div",{className:"py-4 pl-12",children:[q.jsx("div",{className:" font-bold underline underline-offset-2",children:"Dipoma in Mechanical Engineering"}),q.jsx("div",{children:"2016-2019"}),q.jsx("p",{children:"Completed my Diploma in Mechanical Engineering Anjuman Polytechnic, Nagpur Maharashtra. It was the Second time when i encounter coding but this time i fell in love coding. We had made a CNC Embroidery Machine for our final year project. And it took a lot of coding."})]})})})]}),q.jsxs("div",{className:"bg-yellow-100 relative",children:[q.jsx("img",{src:Jg,className:"absolute w-24 right-[1.2rem] top-8 translate-x-1/2 translate-y-1/2"}),q.jsx("div",{className:Ri.borderConatainer,children:q.jsx("div",{className:Ri.contentContainer,children:q.jsxs("div",{className:"py-4 pr-2",children:[q.jsx("div",{className:" font-bold underline underline-offset-2",children:"Bachelor in Mechanical Engineering"}),q.jsx("div",{children:"2019-2021"}),q.jsx("p",{children:"Completed my Bachelor in Mechanical Engineering from Abha Gaikwad Patil College of Engineering, Nagpur Maharashtra. At this time i was playing a lot with Arduino UNO and Arduino Mega. Which requires programming in C/C++. Ive made may stuffs like a Mini Drum Machine using Arduino UNO, a CNC Router, a CNC Plasma Cutter etc."})]})})})]}),q.jsxs("div",{className:"bg-yellow-100 relative",children:[q.jsx("img",{src:Jg,className:"absolute w-24 left-[1.2rem] top-8 -translate-x-1/2 translate-y-1/2"}),q.jsx("div",{className:Ri.borderConatainer,children:q.jsx("div",{className:Ri.contentContainer,children:q.jsxs("div",{className:"py-4 pl-12",children:[q.jsx("div",{className:" font-bold underline underline-offset-2",children:"First Tech Job - Coditas"}),q.jsx("div",{children:"2021-Present"}),q.jsx("p",{children:"Altough i am a Mechanical Enginner by heart but my love for coding and skills helped me to get into Tech as a front-end developer in React.JS and Next.JS"})]})})})]})]}),q.jsx("div",{className:"relative w-[50%] hidden md:block ",children:q.jsx(Np,{children:q.jsx("div",{className:`h-full ${Ri.scrollMagicDefault}`,children:q.jsx(Dp,{duration:600,pin:{pushFollowers:!1},triggerHook:0,offset:-100,children:i=>(!e&&i==1&&t(!0),e&&i<1&&t(!1),q.jsx("div",{className:`${Ri.mask1} w-full`,children:q.jsx("img",{src:zL,className:"w-full"})}))})})})})]})]})};function Ma(){return Ma=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ma.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const em="152",Ko={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},$o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},PT=0,Uv=1,LT=2,JL=3,IT=0,tm=1,Rc=2,Ar=3,es=0,ai=1,Ni=2,QL=2,Ts=0,ha=1,Ov=2,Fv=3,kv=4,NT=5,na=100,DT=101,UT=102,Bv=103,zv=104,OT=200,FT=201,kT=202,BT=203,T_=204,C_=205,zT=206,HT=207,VT=208,GT=209,WT=210,jT=0,XT=1,YT=2,Up=3,qT=4,JT=5,QT=6,ZT=7,vf=0,KT=1,$T=2,br=0,eC=1,tC=2,nC=3,b_=4,iC=5,nm=300,Is=301,So=302,eu=303,Kc=304,pu=306,Mo=1e3,kn=1001,tu=1002,ln=1003,$c=1004,ZL=1004,Gl=1005,KL=1005,Yt=1006,im=1007,$L=1007,ts=1008,e3=1008,Ns=1009,rC=1010,sC=1011,R_=1012,oC=1013,lo=1014,sr=1015,wr=1016,aC=1017,lC=1018,pa=1020,uC=1021,vi=1023,cC=1024,fC=1025,yo=1026,Ea=1027,dC=1028,hC=1029,pC=1030,mC=1031,gC=1033,tp=33776,np=33777,ip=33778,rp=33779,Hv=35840,Vv=35841,Gv=35842,Wv=35843,vC=36196,jv=37492,Xv=37496,Yv=37808,qv=37809,Jv=37810,Qv=37811,Zv=37812,Kv=37813,$v=37814,ey=37815,ty=37816,ny=37817,iy=37818,ry=37819,sy=37820,oy=37821,sp=36492,yC=36283,ay=36284,ly=36285,uy=36286,_C=2200,xC=2201,AC=2202,nu=2300,wa=2301,op=2302,aa=2400,la=2401,ef=2402,rm=2500,P_=2501,SC=0,L_=1,Op=2,yf=3e3,Cs=3001,MC=3200,EC=3201,Ro=0,wC=1,_o="",st="srgb",Lr="srgb-linear",I_="display-p3",t3=0,ap=7680,n3=7681,i3=7682,r3=7683,s3=34055,o3=34056,a3=5386,l3=512,u3=513,c3=514,f3=515,d3=516,h3=517,p3=518,TC=519,tf=35044,m3=35048,g3=35040,v3=35045,y3=35049,_3=35041,x3=35046,A3=35050,S3=35042,M3="100",cy="300 es",Fp=1035;class ns{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const qn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let pS=1234567;const ma=Math.PI/180,iu=180/Math.PI;function ki(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(qn[n&255]+qn[n>>8&255]+qn[n>>16&255]+qn[n>>24&255]+"-"+qn[e&255]+qn[e>>8&255]+"-"+qn[e>>16&15|64]+qn[e>>24&255]+"-"+qn[t&63|128]+qn[t>>8&255]+"-"+qn[t>>16&255]+qn[t>>24&255]+qn[i&255]+qn[i>>8&255]+qn[i>>16&255]+qn[i>>24&255]).toLowerCase()}function un(n,e,t){return Math.max(e,Math.min(t,n))}function N_(n,e){return(n%e+e)%e}function E3(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function w3(n,e,t){return n!==e?(t-n)/(e-n):0}function Pc(n,e,t){return(1-t)*n+t*e}function T3(n,e,t,i){return Pc(n,e,1-Math.exp(-t*i))}function C3(n,e=1){return e-Math.abs(N_(n,e*2)-e)}function b3(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function R3(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function P3(n,e){return n+Math.floor(Math.random()*(e-n+1))}function L3(n,e){return n+Math.random()*(e-n)}function I3(n){return n*(.5-Math.random())}function N3(n){n!==void 0&&(pS=n);let e=pS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function D3(n){return n*ma}function U3(n){return n*iu}function fy(n){return(n&n-1)===0&&n!==0}function CC(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function bC(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function O3(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),u=o(t/2),f=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,u*h,u*p,a*f);break;case"YZY":n.set(u*p,a*d,u*h,a*f);break;case"ZXZ":n.set(u*h,u*p,a*d,a*f);break;case"XZX":n.set(a*d,u*y,u*m,a*f);break;case"YXY":n.set(u*m,a*d,u*y,a*f);break;case"ZYZ":n.set(u*y,u*m,a*d,a*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ui(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function gt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const RC={DEG2RAD:ma,RAD2DEG:iu,generateUUID:ki,clamp:un,euclideanModulo:N_,mapLinear:E3,inverseLerp:w3,lerp:Pc,damp:T3,pingpong:C3,smoothstep:b3,smootherstep:R3,randInt:P3,randFloat:L3,randFloatSpread:I3,seededRandom:N3,degToRad:D3,radToDeg:U3,isPowerOfTwo:fy,ceilPowerOfTwo:CC,floorPowerOfTwo:bC,setQuaternionFromProperEuler:O3,normalize:gt,denormalize:Ui};class Se{constructor(e=0,t=0){Se.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(un(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Mt{constructor(){Mt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,u,f){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=u,d[6]=i,d[7]=o,d[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],u=i[6],f=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],S=r[0],M=r[3],v=r[6],A=r[1],x=r[4],E=r[7],T=r[2],P=r[5],R=r[8];return s[0]=o*S+a*A+u*T,s[3]=o*M+a*x+u*P,s[6]=o*v+a*E+u*R,s[1]=f*S+d*A+h*T,s[4]=f*M+d*x+h*P,s[7]=f*v+d*E+h*R,s[2]=p*S+m*A+y*T,s[5]=p*M+m*x+y*P,s[8]=p*v+m*E+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],d=e[8];return t*o*d-t*a*f-i*s*d+i*a*u+r*s*f-r*o*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],d=e[8],h=d*o-a*f,p=a*u-d*s,m=f*s-o*u,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/y;return e[0]=h*S,e[1]=(r*f-d*i)*S,e[2]=(a*i-r*o)*S,e[3]=p*S,e[4]=(d*t-r*u)*S,e[5]=(r*s-a*t)*S,e[6]=m*S,e[7]=(i*u-f*t)*S,e[8]=(o*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const u=Math.cos(s),f=Math.sin(s);return this.set(i*u,i*f,-i*(u*o+f*a)+o+e,-r*f,r*u,-r*(-f*o+u*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Qg.makeScale(e,t)),this}rotate(e){return this.premultiply(Qg.makeRotation(-e)),this}translate(e,t){return this.premultiply(Qg.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Qg=new Mt;function PC(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const F3={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Il(n,e){return new F3[n](e)}function nf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const mS={};function Lc(n){n in mS||(mS[n]=!0,console.warn(n))}function Wl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Zg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const k3=new Mt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),B3=new Mt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function z3(n){return n.convertSRGBToLinear().applyMatrix3(B3)}function H3(n){return n.applyMatrix3(k3).convertLinearToSRGB()}const V3={[Lr]:n=>n,[st]:n=>n.convertSRGBToLinear(),[I_]:z3},G3={[Lr]:n=>n,[st]:n=>n.convertLinearToSRGB(),[I_]:H3},$i={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Lr},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=V3[e],r=G3[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let qa;class D_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{qa===void 0&&(qa=nf("canvas")),qa.width=e.width,qa.height=e.height;const i=qa.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=qa}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=nf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Wl(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Wl(t[i]/255)*255):t[i]=Wl(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class ua{constructor(e=null){this.isSource=!0,this.uuid=ki(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Kg(r[o].image)):s.push(Kg(r[o]))}else s=Kg(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Kg(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?D_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let W3=0;class Kt extends ns{constructor(e=Kt.DEFAULT_IMAGE,t=Kt.DEFAULT_MAPPING,i=kn,r=kn,s=Yt,o=ts,a=vi,u=Ns,f=Kt.DEFAULT_ANISOTROPY,d=_o){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:W3++}),this.uuid=ki(),this.name="",this.source=new ua(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=u,this.offset=new Se(0,0),this.repeat=new Se(1,1),this.center=new Se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(Lc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Cs?st:_o),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==nm)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mo:e.x=e.x-Math.floor(e.x);break;case kn:e.x=e.x<0?0:1;break;case tu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mo:e.y=e.y-Math.floor(e.y);break;case kn:e.y=e.y<0?0:1;break;case tu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Lc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===st?Cs:yf}set encoding(e){Lc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Cs?st:_o}}Kt.DEFAULT_IMAGE=null;Kt.DEFAULT_MAPPING=nm;Kt.DEFAULT_ANISOTROPY=1;class Ft{constructor(e=0,t=0,i=0,r=1){Ft.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const u=e.elements,f=u[0],d=u[4],h=u[8],p=u[1],m=u[5],y=u[9],S=u[2],M=u[6],v=u[10];if(Math.abs(d-p)<.01&&Math.abs(h-S)<.01&&Math.abs(y-M)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+S)<.1&&Math.abs(y+M)<.1&&Math.abs(f+m+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(f+1)/2,E=(m+1)/2,T=(v+1)/2,P=(d+p)/4,R=(h+S)/4,L=(y+M)/4;return x>E&&x>T?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=P/i,s=R/i):E>T?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=P/r,s=L/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=R/s,r=L/s),this.set(i,r,s,t),this}let A=Math.sqrt((M-y)*(M-y)+(h-S)*(h-S)+(p-d)*(p-d));return Math.abs(A)<.001&&(A=1),this.x=(M-y)/A,this.y=(h-S)/A,this.z=(p-d)/A,this.w=Math.acos((f+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ir extends ns{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ft(0,0,e,t),this.scissorTest=!1,this.viewport=new Ft(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(Lc("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Cs?st:_o),this.texture=new Kt(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Yt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ua(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class sm extends Kt{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ln,this.minFilter=ln,this.wrapR=kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class j3 extends Ir{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new sm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class U_ extends Kt{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ln,this.minFilter=ln,this.wrapR=kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class X3 extends Ir{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new U_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Y3 extends Ir{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Nn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let u=i[r+0],f=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],S=s[o+3];if(a===0){e[t+0]=u,e[t+1]=f,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=S;return}if(h!==S||u!==p||f!==m||d!==y){let M=1-a;const v=u*p+f*m+d*y+h*S,A=v>=0?1:-1,x=1-v*v;if(x>Number.EPSILON){const T=Math.sqrt(x),P=Math.atan2(T,v*A);M=Math.sin(M*P)/T,a=Math.sin(a*P)/T}const E=a*A;if(u=u*M+p*E,f=f*M+m*E,d=d*M+y*E,h=h*M+S*E,M===1-a){const T=1/Math.sqrt(u*u+f*f+d*d+h*h);u*=T,f*=T,d*=T,h*=T}}e[t]=u,e[t+1]=f,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],u=i[r+1],f=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+u*m-f*p,e[t+1]=u*y+d*p+f*h-a*m,e[t+2]=f*y+d*m+a*p-u*h,e[t+3]=d*y-a*h-u*p-f*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,u=Math.sin,f=a(i/2),d=a(r/2),h=a(s/2),p=u(i/2),m=u(r/2),y=u(s/2);switch(o){case"XYZ":this._x=p*d*h+f*m*y,this._y=f*m*h-p*d*y,this._z=f*d*y+p*m*h,this._w=f*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+f*m*y,this._y=f*m*h-p*d*y,this._z=f*d*y-p*m*h,this._w=f*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-f*m*y,this._y=f*m*h+p*d*y,this._z=f*d*y+p*m*h,this._w=f*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-f*m*y,this._y=f*m*h+p*d*y,this._z=f*d*y-p*m*h,this._w=f*d*h+p*m*y;break;case"YZX":this._x=p*d*h+f*m*y,this._y=f*m*h+p*d*y,this._z=f*d*y-p*m*h,this._w=f*d*h-p*m*y;break;case"XZY":this._x=p*d*h-f*m*y,this._y=f*m*h-p*d*y,this._z=f*d*y+p*m*h,this._w=f*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],u=t[9],f=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-u)*m,this._y=(s-f)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-u)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+f)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-f)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(u+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+f)/m,this._y=(u+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(un(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,u=t._y,f=t._z,d=t._w;return this._x=i*d+o*a+r*f-s*u,this._y=r*d+o*u+s*a-i*f,this._z=s*d+o*f+i*u-r*a,this._w=o*d-i*a-r*u-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const u=1-a*a;if(u<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(u),d=Math.atan2(f,a),h=Math.sin((1-t)*d)/f,p=Math.sin(t*d)/f;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class B{constructor(e=0,t=0,i=0){B.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(gS.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(gS.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,u=e.w,f=u*t+o*r-a*i,d=u*i+a*t-s*r,h=u*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=f*u+p*-s+d*-a-h*-o,this.y=d*u+p*-o+h*-s-f*-a,this.z=h*u+p*-a+f*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,u=t.z;return this.x=r*u-s*a,this.y=s*o-i*u,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return $g.copy(this).projectOnVector(e),this.sub($g)}reflect(e){return this.sub($g.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(un(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $g=new B,gS=new Nn;class Ur{constructor(e=new B(1/0,1/0,1/0),t=new B(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(fs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(fs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=fs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Ja.copy(e.boundingBox),Ja.applyMatrix4(e.matrixWorld),this.union(Ja);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)fs.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fs)}else r.boundingBox===null&&r.computeBoundingBox(),Ja.copy(r.boundingBox),Ja.applyMatrix4(e.matrixWorld),this.union(Ja)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fs),fs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Zu),eh.subVectors(this.max,Zu),Qa.subVectors(e.a,Zu),Za.subVectors(e.b,Zu),Ka.subVectors(e.c,Zu),qs.subVectors(Za,Qa),Js.subVectors(Ka,Za),Vo.subVectors(Qa,Ka);let t=[0,-qs.z,qs.y,0,-Js.z,Js.y,0,-Vo.z,Vo.y,qs.z,0,-qs.x,Js.z,0,-Js.x,Vo.z,0,-Vo.x,-qs.y,qs.x,0,-Js.y,Js.x,0,-Vo.y,Vo.x,0];return!e0(t,Qa,Za,Ka,eh)||(t=[1,0,0,0,1,0,0,0,1],!e0(t,Qa,Za,Ka,eh))?!1:(th.crossVectors(qs,Js),t=[th.x,th.y,th.z],e0(t,Qa,Za,Ka,eh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(fs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(cs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),cs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),cs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),cs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),cs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),cs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),cs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),cs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(cs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const cs=[new B,new B,new B,new B,new B,new B,new B,new B],fs=new B,Ja=new Ur,Qa=new B,Za=new B,Ka=new B,qs=new B,Js=new B,Vo=new B,Zu=new B,eh=new B,th=new B,Go=new B;function e0(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Go.fromArray(n,s);const a=r.x*Math.abs(Go.x)+r.y*Math.abs(Go.y)+r.z*Math.abs(Go.z),u=e.dot(Go),f=t.dot(Go),d=i.dot(Go);if(Math.max(-Math.max(u,f,d),Math.min(u,f,d))>a)return!1}return!0}const q3=new Ur,Ku=new B,t0=new B;class Or{constructor(e=new B,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):q3.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ku.subVectors(e,this.center);const t=Ku.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Ku,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(t0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ku.copy(e.center).add(t0)),this.expandByPoint(Ku.copy(e.center).sub(t0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ds=new B,n0=new B,nh=new B,Qs=new B,i0=new B,ih=new B,r0=new B;class _f{constructor(e=new B,t=new B(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ds)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ds.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ds.copy(this.origin).addScaledVector(this.direction,t),ds.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){n0.copy(e).add(t).multiplyScalar(.5),nh.copy(t).sub(e).normalize(),Qs.copy(this.origin).sub(n0);const s=e.distanceTo(t)*.5,o=-this.direction.dot(nh),a=Qs.dot(this.direction),u=-Qs.dot(nh),f=Qs.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*u-a,p=o*a-u,y=s*d,h>=0)if(p>=-y)if(p<=y){const S=1/d;h*=S,p*=S,m=h*(h+o*p+2*a)+p*(o*h+p+2*u)+f}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*u)+f;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*u)+f;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-u),s),m=-h*h+p*(p+2*u)+f):p<=y?(h=0,p=Math.min(Math.max(-s,-u),s),m=p*(p+2*u)+f):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-u),s),m=-h*h+p*(p+2*u)+f);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*u)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(n0).addScaledVector(nh,p),m}intersectSphere(e,t){ds.subVectors(e.center,this.origin);const i=ds.dot(this.direction),r=ds.dot(ds)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,u=i+o;return u<0?null:a<0?this.at(u,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,u;const f=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return f>=0?(i=(e.min.x-p.x)*f,r=(e.max.x-p.x)*f):(i=(e.max.x-p.x)*f,r=(e.min.x-p.x)*f),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,u=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,u=(e.min.z-p.z)*h),i>u||a>r)||((a>i||i!==i)&&(i=a),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ds)!==null}intersectTriangle(e,t,i,r,s){i0.subVectors(t,e),ih.subVectors(i,e),r0.crossVectors(i0,ih);let o=this.direction.dot(r0),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Qs.subVectors(this.origin,e);const u=a*this.direction.dot(ih.crossVectors(Qs,ih));if(u<0)return null;const f=a*this.direction.dot(i0.cross(Qs));if(f<0||u+f>o)return null;const d=-a*Qs.dot(r0);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ot{constructor(){ot.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,u,f,d,h,p,m,y,S,M){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=u,v[2]=f,v[6]=d,v[10]=h,v[14]=p,v[3]=m,v[7]=y,v[11]=S,v[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ot().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/$a.setFromMatrixColumn(e,0).length(),s=1/$a.setFromMatrixColumn(e,1).length(),o=1/$a.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),u=Math.cos(r),f=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,S=a*h;t[0]=u*d,t[4]=-u*h,t[8]=f,t[1]=m+y*f,t[5]=p-S*f,t[9]=-a*u,t[2]=S-p*f,t[6]=y+m*f,t[10]=o*u}else if(e.order==="YXZ"){const p=u*d,m=u*h,y=f*d,S=f*h;t[0]=p+S*a,t[4]=y*a-m,t[8]=o*f,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=S+p*a,t[10]=o*u}else if(e.order==="ZXY"){const p=u*d,m=u*h,y=f*d,S=f*h;t[0]=p-S*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=S-p*a,t[2]=-o*f,t[6]=a,t[10]=o*u}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,S=a*h;t[0]=u*d,t[4]=y*f-m,t[8]=p*f+S,t[1]=u*h,t[5]=S*f+p,t[9]=m*f-y,t[2]=-f,t[6]=a*u,t[10]=o*u}else if(e.order==="YZX"){const p=o*u,m=o*f,y=a*u,S=a*f;t[0]=u*d,t[4]=S-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-f*d,t[6]=m*h+y,t[10]=p-S*h}else if(e.order==="XZY"){const p=o*u,m=o*f,y=a*u,S=a*f;t[0]=u*d,t[4]=-h,t[8]=f*d,t[1]=p*h+S,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=S*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(J3,e,Q3)}lookAt(e,t,i){const r=this.elements;return Pi.subVectors(e,t),Pi.lengthSq()===0&&(Pi.z=1),Pi.normalize(),Zs.crossVectors(i,Pi),Zs.lengthSq()===0&&(Math.abs(i.z)===1?Pi.x+=1e-4:Pi.z+=1e-4,Pi.normalize(),Zs.crossVectors(i,Pi)),Zs.normalize(),rh.crossVectors(Pi,Zs),r[0]=Zs.x,r[4]=rh.x,r[8]=Pi.x,r[1]=Zs.y,r[5]=rh.y,r[9]=Pi.y,r[2]=Zs.z,r[6]=rh.z,r[10]=Pi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],u=i[8],f=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],S=i[6],M=i[10],v=i[14],A=i[3],x=i[7],E=i[11],T=i[15],P=r[0],R=r[4],L=r[8],C=r[12],I=r[1],F=r[5],j=r[9],G=r[13],J=r[2],X=r[6],ee=r[10],W=r[14],N=r[3],D=r[7],k=r[11],te=r[15];return s[0]=o*P+a*I+u*J+f*N,s[4]=o*R+a*F+u*X+f*D,s[8]=o*L+a*j+u*ee+f*k,s[12]=o*C+a*G+u*W+f*te,s[1]=d*P+h*I+p*J+m*N,s[5]=d*R+h*F+p*X+m*D,s[9]=d*L+h*j+p*ee+m*k,s[13]=d*C+h*G+p*W+m*te,s[2]=y*P+S*I+M*J+v*N,s[6]=y*R+S*F+M*X+v*D,s[10]=y*L+S*j+M*ee+v*k,s[14]=y*C+S*G+M*W+v*te,s[3]=A*P+x*I+E*J+T*N,s[7]=A*R+x*F+E*X+T*D,s[11]=A*L+x*j+E*ee+T*k,s[15]=A*C+x*G+E*W+T*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],u=e[9],f=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],S=e[7],M=e[11],v=e[15];return y*(+s*u*h-r*f*h-s*a*p+i*f*p+r*a*m-i*u*m)+S*(+t*u*m-t*f*p+s*o*p-r*o*m+r*f*d-s*u*d)+M*(+t*f*h-t*a*m-s*o*h+i*o*m+s*a*d-i*f*d)+v*(-r*a*d-t*u*h+t*a*p+r*o*h-i*o*p+i*u*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],S=e[13],M=e[14],v=e[15],A=h*M*f-S*p*f+S*u*m-a*M*m-h*u*v+a*p*v,x=y*p*f-d*M*f-y*u*m+o*M*m+d*u*v-o*p*v,E=d*S*f-y*h*f+y*a*m-o*S*m-d*a*v+o*h*v,T=y*h*u-d*S*u-y*a*p+o*S*p+d*a*M-o*h*M,P=t*A+i*x+r*E+s*T;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=A*R,e[1]=(S*p*s-h*M*s-S*r*m+i*M*m+h*r*v-i*p*v)*R,e[2]=(a*M*s-S*u*s+S*r*f-i*M*f-a*r*v+i*u*v)*R,e[3]=(h*u*s-a*p*s-h*r*f+i*p*f+a*r*m-i*u*m)*R,e[4]=x*R,e[5]=(d*M*s-y*p*s+y*r*m-t*M*m-d*r*v+t*p*v)*R,e[6]=(y*u*s-o*M*s-y*r*f+t*M*f+o*r*v-t*u*v)*R,e[7]=(o*p*s-d*u*s+d*r*f-t*p*f-o*r*m+t*u*m)*R,e[8]=E*R,e[9]=(y*h*s-d*S*s-y*i*m+t*S*m+d*i*v-t*h*v)*R,e[10]=(o*S*s-y*a*s+y*i*f-t*S*f-o*i*v+t*a*v)*R,e[11]=(d*a*s-o*h*s-d*i*f+t*h*f+o*i*m-t*a*m)*R,e[12]=T*R,e[13]=(d*S*r-y*h*r+y*i*p-t*S*p-d*i*M+t*h*M)*R,e[14]=(y*a*r-o*S*r-y*i*u+t*S*u+o*i*M-t*a*M)*R,e[15]=(o*h*r-d*a*r+d*i*u-t*h*u-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,u=e.z,f=s*o,d=s*a;return this.set(f*o+i,f*a-r*u,f*u+r*a,0,f*a+r*u,d*a+i,d*u-r*o,0,f*u-r*a,d*u+r*o,s*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,u=t._w,f=s+s,d=o+o,h=a+a,p=s*f,m=s*d,y=s*h,S=o*d,M=o*h,v=a*h,A=u*f,x=u*d,E=u*h,T=i.x,P=i.y,R=i.z;return r[0]=(1-(S+v))*T,r[1]=(m+E)*T,r[2]=(y-x)*T,r[3]=0,r[4]=(m-E)*P,r[5]=(1-(p+v))*P,r[6]=(M+A)*P,r[7]=0,r[8]=(y+x)*R,r[9]=(M-A)*R,r[10]=(1-(p+S))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=$a.set(r[0],r[1],r[2]).length();const o=$a.set(r[4],r[5],r[6]).length(),a=$a.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],vr.copy(this);const f=1/s,d=1/o,h=1/a;return vr.elements[0]*=f,vr.elements[1]*=f,vr.elements[2]*=f,vr.elements[4]*=d,vr.elements[5]*=d,vr.elements[6]*=d,vr.elements[8]*=h,vr.elements[9]*=h,vr.elements[10]*=h,t.setFromRotationMatrix(vr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,u=2*s/(t-e),f=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=u,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=f,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,u=1/(t-e),f=1/(i-r),d=1/(o-s),h=(t+e)*u,p=(i+r)*f,m=(o+s)*d;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*f,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const $a=new B,vr=new ot,J3=new B(0,0,0),Q3=new B(1,1,1),Zs=new B,rh=new B,Pi=new B,vS=new ot,yS=new Nn;class xf{constructor(e=0,t=0,i=0,r=xf.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],u=r[1],f=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(un(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,f),this._z=0);break;case"YXZ":this._x=Math.asin(-un(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(un(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-un(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(un(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-un(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,f),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return vS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(vS,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return yS.setFromEuler(this),this.setFromQuaternion(yS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xf.DEFAULT_ORDER="XYZ";class ga{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Z3=0;const _S=new B,el=new Nn,hs=new ot,sh=new B,$u=new B,K3=new B,$3=new Nn,xS=new B(1,0,0),AS=new B(0,1,0),SS=new B(0,0,1),eI={type:"added"},MS={type:"removed"};class Ct extends ns{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Z3++}),this.uuid=ki(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ct.DEFAULT_UP.clone();const e=new B,t=new xf,i=new Nn,r=new B(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ot},normalMatrix:{value:new Mt}}),this.matrix=new ot,this.matrixWorld=new ot,this.matrixAutoUpdate=Ct.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ct.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ga,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return el.setFromAxisAngle(e,t),this.quaternion.multiply(el),this}rotateOnWorldAxis(e,t){return el.setFromAxisAngle(e,t),this.quaternion.premultiply(el),this}rotateX(e){return this.rotateOnAxis(xS,e)}rotateY(e){return this.rotateOnAxis(AS,e)}rotateZ(e){return this.rotateOnAxis(SS,e)}translateOnAxis(e,t){return _S.copy(e).applyQuaternion(this.quaternion),this.position.add(_S.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(xS,e)}translateY(e){return this.translateOnAxis(AS,e)}translateZ(e){return this.translateOnAxis(SS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(hs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?sh.copy(e):sh.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),$u.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?hs.lookAt($u,sh,this.up):hs.lookAt(sh,$u,this.up),this.quaternion.setFromRotationMatrix(hs),r&&(hs.extractRotation(r.matrixWorld),el.setFromRotationMatrix(hs),this.quaternion.premultiply(el.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(eI)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(MS)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(MS)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),hs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),hs.multiply(e.parent.matrixWorld)),e.applyMatrix4(hs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($u,e,K3),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($u,$3,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,u){return a[u.uuid]===void 0&&(a[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const u=a.shapes;if(Array.isArray(u))for(let f=0,d=u.length;f<d;f++){const h=u[f];s(e.shapes,h)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let u=0,f=this.material.length;u<f;u++)a.push(s(e.materials,this.material[u]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const u=this.animations[a];r.animations.push(s(e.animations,u))}}if(t){const a=o(e.geometries),u=o(e.materials),f=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),u.length>0&&(i.materials=u),f.length>0&&(i.textures=f),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const u=[];for(const f in a){const d=a[f];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ct.DEFAULT_UP=new B(0,1,0);Ct.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ct.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yr=new B,ps=new B,s0=new B,ms=new B,tl=new B,nl=new B,ES=new B,o0=new B,a0=new B,l0=new B;let oh=!1;class gi{constructor(e=new B,t=new B,i=new B){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),yr.subVectors(e,t),r.cross(yr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){yr.subVectors(r,t),ps.subVectors(i,t),s0.subVectors(e,t);const o=yr.dot(yr),a=yr.dot(ps),u=yr.dot(s0),f=ps.dot(ps),d=ps.dot(s0),h=o*f-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(f*u-a*d)*p,y=(o*d-a*u)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ms),ms.x>=0&&ms.y>=0&&ms.x+ms.y<=1}static getUV(e,t,i,r,s,o,a,u){return oh===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oh=!0),this.getInterpolation(e,t,i,r,s,o,a,u)}static getInterpolation(e,t,i,r,s,o,a,u){return this.getBarycoord(e,t,i,r,ms),u.setScalar(0),u.addScaledVector(s,ms.x),u.addScaledVector(o,ms.y),u.addScaledVector(a,ms.z),u}static isFrontFacing(e,t,i,r){return yr.subVectors(i,t),ps.subVectors(e,t),yr.cross(ps).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yr.subVectors(this.c,this.b),ps.subVectors(this.a,this.b),yr.cross(ps).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return gi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return gi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return oh===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oh=!0),gi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return gi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return gi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return gi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;tl.subVectors(r,i),nl.subVectors(s,i),o0.subVectors(e,i);const u=tl.dot(o0),f=nl.dot(o0);if(u<=0&&f<=0)return t.copy(i);a0.subVectors(e,r);const d=tl.dot(a0),h=nl.dot(a0);if(d>=0&&h<=d)return t.copy(r);const p=u*h-d*f;if(p<=0&&u>=0&&d<=0)return o=u/(u-d),t.copy(i).addScaledVector(tl,o);l0.subVectors(e,s);const m=tl.dot(l0),y=nl.dot(l0);if(y>=0&&m<=y)return t.copy(s);const S=m*f-u*y;if(S<=0&&f>=0&&y<=0)return a=f/(f-y),t.copy(i).addScaledVector(nl,a);const M=d*y-m*h;if(M<=0&&h-d>=0&&m-y>=0)return ES.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector(ES,a);const v=1/(M+S+p);return o=S*v,a=p*v,t.copy(i).addScaledVector(tl,o).addScaledVector(nl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let tI=0;class _n extends ns{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tI++}),this.uuid=ki(),this.name="",this.type="Material",this.blending=ha,this.side=es,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=T_,this.blendDst=C_,this.blendEquation=na,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Up,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=TC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ap,this.stencilZFail=ap,this.stencilZPass=ap,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ha&&(i.blending=this.blending),this.side!==es&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const u=s[a];delete u.metadata,o.push(u)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const LC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_r={h:0,s:0,l:0},ah={h:0,s:0,l:0};function u0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Fe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=st){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$i.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=$i.workingColorSpace){return this.r=e,this.g=t,this.b=i,$i.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=$i.workingColorSpace){if(e=N_(e,1),t=un(t,0,1),i=un(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=u0(o,s,e+1/3),this.g=u0(o,s,e),this.b=u0(o,s,e-1/3)}return $i.toWorkingColorSpace(this,r),this}setStyle(e,t=st){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=st){const i=LC[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wl(e.r),this.g=Wl(e.g),this.b=Wl(e.b),this}copyLinearToSRGB(e){return this.r=Zg(e.r),this.g=Zg(e.g),this.b=Zg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=st){return $i.fromWorkingColorSpace(Jn.copy(this),e),Math.round(un(Jn.r*255,0,255))*65536+Math.round(un(Jn.g*255,0,255))*256+Math.round(un(Jn.b*255,0,255))}getHexString(e=st){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=$i.workingColorSpace){$i.fromWorkingColorSpace(Jn.copy(this),t);const i=Jn.r,r=Jn.g,s=Jn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let u,f;const d=(a+o)/2;if(a===o)u=0,f=0;else{const h=o-a;switch(f=d<=.5?h/(o+a):h/(2-o-a),o){case i:u=(r-s)/h+(r<s?6:0);break;case r:u=(s-i)/h+2;break;case s:u=(i-r)/h+4;break}u/=6}return e.h=u,e.s=f,e.l=d,e}getRGB(e,t=$i.workingColorSpace){return $i.fromWorkingColorSpace(Jn.copy(this),t),e.r=Jn.r,e.g=Jn.g,e.b=Jn.b,e}getStyle(e=st){$i.fromWorkingColorSpace(Jn.copy(this),e);const t=Jn.r,i=Jn.g,r=Jn.b;return e!==st?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(_r),_r.h+=e,_r.s+=t,_r.l+=i,this.setHSL(_r.h,_r.s,_r.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(_r),e.getHSL(ah);const i=Pc(_r.h,ah.h,t),r=Pc(_r.s,ah.s,t),s=Pc(_r.l,ah.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Jn=new Fe;Fe.NAMES=LC;class Oi extends _n{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=vf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const xs=nI();function nI(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(i[u]=1024>>-f-14,i[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(i[u]=f+15<<10,i[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,d=0;for(;!(f&8388608);)f<<=1,d-=8388608;f&=-8388609,d+=947912704,s[u]=f|d}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function pi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=un(n,-65504,65504),xs.floatView[0]=n;const e=xs.uint32View[0],t=e>>23&511;return xs.baseTable[t]+((e&8388607)>>xs.shiftTable[t])}function vc(n){const e=n>>10;return xs.uint32View[0]=xs.mantissaTable[xs.offsetTable[e]+(n&1023)]+xs.exponentTable[e],xs.floatView[0]}const yc={toHalfFloat:pi,fromHalfFloat:vc},vn=new B,lh=new Se;class Ut{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=tf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)lh.fromBufferAttribute(this,t),lh.applyMatrix3(e),this.setXY(t,lh.x,lh.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.applyMatrix3(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.applyMatrix4(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.applyNormalMatrix(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.transformDirection(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ui(t,this.array)),t}setX(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ui(t,this.array)),t}setY(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ui(t,this.array)),t}setZ(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ui(t,this.array)),t}setW(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array),r=gt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array),r=gt(r,this.array),s=gt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==tf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class iI extends Ut{constructor(e,t,i){super(new Int8Array(e),t,i)}}class rI extends Ut{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class sI extends Ut{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class oI extends Ut{constructor(e,t,i){super(new Int16Array(e),t,i)}}class O_ extends Ut{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class aI extends Ut{constructor(e,t,i){super(new Int32Array(e),t,i)}}class F_ extends Ut{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class lI extends Ut{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=vc(this.array[e*this.itemSize]);return this.normalized&&(t=Ui(t,this.array)),t}setX(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize]=pi(t),this}getY(e){let t=vc(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ui(t,this.array)),t}setY(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize+1]=pi(t),this}getZ(e){let t=vc(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ui(t,this.array)),t}setZ(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize+2]=pi(t),this}getW(e){let t=vc(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ui(t,this.array)),t}setW(e,t){return this.normalized&&(t=gt(t,this.array)),this.array[e*this.itemSize+3]=pi(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array)),this.array[e+0]=pi(t),this.array[e+1]=pi(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array),r=gt(r,this.array)),this.array[e+0]=pi(t),this.array[e+1]=pi(i),this.array[e+2]=pi(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array),r=gt(r,this.array),s=gt(s,this.array)),this.array[e+0]=pi(t),this.array[e+1]=pi(i),this.array[e+2]=pi(r),this.array[e+3]=pi(s),this}}class Ye extends Ut{constructor(e,t,i){super(new Float32Array(e),t,i)}}class uI extends Ut{constructor(e,t,i){super(new Float64Array(e),t,i)}}let cI=0;const Zi=new ot,c0=new Ct,il=new B,Li=new Ur,ec=new Ur,Pn=new B;class ht extends ns{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cI++}),this.uuid=ki(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(PC(e)?F_:O_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Mt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zi.makeRotationFromQuaternion(e),this.applyMatrix4(Zi),this}rotateX(e){return Zi.makeRotationX(e),this.applyMatrix4(Zi),this}rotateY(e){return Zi.makeRotationY(e),this.applyMatrix4(Zi),this}rotateZ(e){return Zi.makeRotationZ(e),this.applyMatrix4(Zi),this}translate(e,t,i){return Zi.makeTranslation(e,t,i),this.applyMatrix4(Zi),this}scale(e,t,i){return Zi.makeScale(e,t,i),this.applyMatrix4(Zi),this}lookAt(e){return c0.lookAt(e),c0.updateMatrix(),this.applyMatrix4(c0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(il).negate(),this.translate(il.x,il.y,il.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ye(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ur);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new B(-1/0,-1/0,-1/0),new B(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Li.setFromBufferAttribute(s),this.morphTargetsRelative?(Pn.addVectors(this.boundingBox.min,Li.min),this.boundingBox.expandByPoint(Pn),Pn.addVectors(this.boundingBox.max,Li.max),this.boundingBox.expandByPoint(Pn)):(this.boundingBox.expandByPoint(Li.min),this.boundingBox.expandByPoint(Li.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new B,1/0);return}if(e){const i=this.boundingSphere.center;if(Li.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ec.setFromBufferAttribute(a),this.morphTargetsRelative?(Pn.addVectors(Li.min,ec.min),Li.expandByPoint(Pn),Pn.addVectors(Li.max,ec.max),Li.expandByPoint(Pn)):(Li.expandByPoint(ec.min),Li.expandByPoint(ec.max))}Li.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Pn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Pn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],u=this.morphTargetsRelative;for(let f=0,d=a.count;f<d;f++)Pn.fromBufferAttribute(a,f),u&&(il.fromBufferAttribute(e,f),Pn.add(il)),r=Math.max(r,i.distanceToSquared(Pn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ut(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,f=[],d=[];for(let I=0;I<a;I++)f[I]=new B,d[I]=new B;const h=new B,p=new B,m=new B,y=new Se,S=new Se,M=new Se,v=new B,A=new B;function x(I,F,j){h.fromArray(r,I*3),p.fromArray(r,F*3),m.fromArray(r,j*3),y.fromArray(o,I*2),S.fromArray(o,F*2),M.fromArray(o,j*2),p.sub(h),m.sub(h),S.sub(y),M.sub(y);const G=1/(S.x*M.y-M.x*S.y);isFinite(G)&&(v.copy(p).multiplyScalar(M.y).addScaledVector(m,-S.y).multiplyScalar(G),A.copy(m).multiplyScalar(S.x).addScaledVector(p,-M.x).multiplyScalar(G),f[I].add(v),f[F].add(v),f[j].add(v),d[I].add(A),d[F].add(A),d[j].add(A))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let I=0,F=E.length;I<F;++I){const j=E[I],G=j.start,J=j.count;for(let X=G,ee=G+J;X<ee;X+=3)x(i[X+0],i[X+1],i[X+2])}const T=new B,P=new B,R=new B,L=new B;function C(I){R.fromArray(s,I*3),L.copy(R);const F=f[I];T.copy(F),T.sub(R.multiplyScalar(R.dot(F))).normalize(),P.crossVectors(L,F);const G=P.dot(d[I])<0?-1:1;u[I*4]=T.x,u[I*4+1]=T.y,u[I*4+2]=T.z,u[I*4+3]=G}for(let I=0,F=E.length;I<F;++I){const j=E[I],G=j.start,J=j.count;for(let X=G,ee=G+J;X<ee;X+=3)C(i[X+0]),C(i[X+1]),C(i[X+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ut(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new B,s=new B,o=new B,a=new B,u=new B,f=new B,d=new B,h=new B;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),S=e.getX(p+1),M=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,M),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),u.fromBufferAttribute(i,S),f.fromBufferAttribute(i,M),a.add(d),u.add(d),f.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(S,u.x,u.y,u.z),i.setXYZ(M,f.x,f.y,f.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Pn.fromBufferAttribute(e,t),Pn.normalize(),e.setXYZ(t,Pn.x,Pn.y,Pn.z)}toNonIndexed(){function e(a,u){const f=a.array,d=a.itemSize,h=a.normalized,p=new f.constructor(u.length*d);let m=0,y=0;for(let S=0,M=u.length;S<M;S++){a.isInterleavedBufferAttribute?m=u[S]*a.data.stride+a.offset:m=u[S]*d;for(let v=0;v<d;v++)p[y++]=f[m++]}return new Ut(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ht,i=this.index.array,r=this.attributes;for(const a in r){const u=r[a],f=e(u,i);t.setAttribute(a,f)}const s=this.morphAttributes;for(const a in s){const u=[],f=s[a];for(let d=0,h=f.length;d<h;d++){const p=f[d],m=e(p,i);u.push(m)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,u=o.length;a<u;a++){const f=o[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const f=i[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let s=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],d=[];for(let h=0,p=f.length;h<p;h++){const m=f[h];d.push(m.toJSON(e.data))}d.length>0&&(r[u]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const d=r[f];this.setAttribute(f,d.clone(t))}const s=e.morphAttributes;for(const f in s){const d=[],h=s[f];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[f]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,d=o.length;f<d;f++){const h=o[f];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wS=new ot,qr=new _f,uh=new Or,TS=new B,rl=new B,sl=new B,ol=new B,f0=new B,ch=new B,fh=new Se,dh=new Se,hh=new Se,CS=new B,bS=new B,RS=new B,ph=new B,mh=new B;class Mn extends Ct{constructor(e=new ht,t=new Oi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){ch.set(0,0,0);for(let u=0,f=s.length;u<f;u++){const d=a[u],h=s[u];d!==0&&(f0.fromBufferAttribute(h,e),o?ch.addScaledVector(f0,d):ch.addScaledVector(f0.sub(t),d))}t.add(ch)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),uh.copy(i.boundingSphere),uh.applyMatrix4(s),qr.copy(e.ray).recast(e.near),!(uh.containsPoint(qr.origin)===!1&&(qr.intersectSphere(uh,TS)===null||qr.origin.distanceToSquared(TS)>(e.far-e.near)**2))&&(wS.copy(s).invert(),qr.copy(e.ray).applyMatrix4(wS),!(i.boundingBox!==null&&qr.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let i;const r=this.geometry,s=this.material,o=r.index,a=r.attributes.position,u=r.attributes.uv,f=r.attributes.uv1,d=r.attributes.normal,h=r.groups,p=r.drawRange;if(o!==null)if(Array.isArray(s))for(let m=0,y=h.length;m<y;m++){const S=h[m],M=s[S.materialIndex],v=Math.max(S.start,p.start),A=Math.min(o.count,Math.min(S.start+S.count,p.start+p.count));for(let x=v,E=A;x<E;x+=3){const T=o.getX(x),P=o.getX(x+1),R=o.getX(x+2);i=gh(this,M,e,qr,u,f,d,T,P,R),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const m=Math.max(0,p.start),y=Math.min(o.count,p.start+p.count);for(let S=m,M=y;S<M;S+=3){const v=o.getX(S),A=o.getX(S+1),x=o.getX(S+2);i=gh(this,s,e,qr,u,f,d,v,A,x),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}else if(a!==void 0)if(Array.isArray(s))for(let m=0,y=h.length;m<y;m++){const S=h[m],M=s[S.materialIndex],v=Math.max(S.start,p.start),A=Math.min(a.count,Math.min(S.start+S.count,p.start+p.count));for(let x=v,E=A;x<E;x+=3){const T=x,P=x+1,R=x+2;i=gh(this,M,e,qr,u,f,d,T,P,R),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let S=m,M=y;S<M;S+=3){const v=S,A=S+1,x=S+2;i=gh(this,s,e,qr,u,f,d,v,A,x),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}}}function fI(n,e,t,i,r,s,o,a){let u;if(e.side===ai?u=i.intersectTriangle(o,s,r,!0,a):u=i.intersectTriangle(r,s,o,e.side===es,a),u===null)return null;mh.copy(a),mh.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(mh);return f<t.near||f>t.far?null:{distance:f,point:mh.clone(),object:n}}function gh(n,e,t,i,r,s,o,a,u,f){n.getVertexPosition(a,rl),n.getVertexPosition(u,sl),n.getVertexPosition(f,ol);const d=fI(n,e,t,i,rl,sl,ol,ph);if(d){r&&(fh.fromBufferAttribute(r,a),dh.fromBufferAttribute(r,u),hh.fromBufferAttribute(r,f),d.uv=gi.getInterpolation(ph,rl,sl,ol,fh,dh,hh,new Se)),s&&(fh.fromBufferAttribute(s,a),dh.fromBufferAttribute(s,u),hh.fromBufferAttribute(s,f),d.uv1=gi.getInterpolation(ph,rl,sl,ol,fh,dh,hh,new Se),d.uv2=d.uv1),o&&(CS.fromBufferAttribute(o,a),bS.fromBufferAttribute(o,u),RS.fromBufferAttribute(o,f),d.normal=gi.getInterpolation(ph,rl,sl,ol,CS,bS,RS,new B),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:u,c:f,normal:new B,materialIndex:0};gi.getNormal(rl,sl,ol,h.normal),d.face=h}return d}class Po extends ht{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const u=[],f=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(u),this.setAttribute("position",new Ye(f,3)),this.setAttribute("normal",new Ye(d,3)),this.setAttribute("uv",new Ye(h,2));function y(S,M,v,A,x,E,T,P,R,L,C){const I=E/R,F=T/L,j=E/2,G=T/2,J=P/2,X=R+1,ee=L+1;let W=0,N=0;const D=new B;for(let k=0;k<ee;k++){const te=k*F-G;for(let K=0;K<X;K++){const ie=K*I-j;D[S]=ie*A,D[M]=te*x,D[v]=J,f.push(D.x,D.y,D.z),D[S]=0,D[M]=0,D[v]=P>0?1:-1,d.push(D.x,D.y,D.z),h.push(K/R),h.push(1-k/L),W+=1}}for(let k=0;k<L;k++)for(let te=0;te<R;te++){const K=p+te+X*k,ie=p+te+X*(k+1),re=p+(te+1)+X*(k+1),we=p+(te+1)+X*k;u.push(K,ie,we),u.push(ie,re,we),N+=6}a.addGroup(m,N,C),m+=N,p+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Po(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ru(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ri(n){const e={};for(let t=0;t<n.length;t++){const i=ru(n[t]);for(const r in i)e[r]=i[r]}return e}function dI(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function IC(n){return n.getRenderTarget()===null?n.outputColorSpace:Lr}const NC={clone:ru,merge:ri};var hI=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,pI=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Nr extends _n{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hI,this.fragmentShader=pI,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ru(e.uniforms),this.uniformsGroups=dI(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Af extends Ct{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ot,this.projectionMatrix=new ot,this.projectionMatrixInverse=new ot}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Vt extends Af{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=iu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ma*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return iu*2*Math.atan(Math.tan(ma*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ma*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/u,t-=o.offsetY*i/f,r*=o.width/u,i*=o.height/f}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const al=-90,ll=1;class DC extends Ct{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Vt(al,ll,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Vt(al,ll,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Vt(al,ll,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Vt(al,ll,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const u=new Vt(al,ll,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,1),this.add(u);const f=new Vt(al,ll,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,u,f]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=br,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,u),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,f),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Sf extends Kt{constructor(e,t,i,r,s,o,a,u,f,d){e=e!==void 0?e:[],t=t!==void 0?t:Is,super(e,t,i,r,s,o,a,u,f,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class k_ extends Ir{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(Lc("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Cs?st:_o),this.texture=new Sf(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Yt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Po(5,5,5),s=new Nr({name:"CubemapFromEquirect",uniforms:ru(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ai,blending:Ts});s.uniforms.tEquirect.value=t;const o=new Mn(r,s),a=t.minFilter;return t.minFilter===ts&&(t.minFilter=Yt),new DC(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const d0=new B,mI=new B,gI=new Mt;class no{constructor(e=new B(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=d0.subVectors(i,t).cross(mI.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(d0),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||gI.getNormalMatrix(e),r=this.coplanarPoint(d0).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Wo=new Or,vh=new B;class om{constructor(e=new no,t=new no,i=new no,r=new no,s=new no,o=new no){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],u=i[4],f=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=i[10],S=i[11],M=i[12],v=i[13],A=i[14],x=i[15];return t[0].setComponents(a-r,h-u,S-p,x-M).normalize(),t[1].setComponents(a+r,h+u,S+p,x+M).normalize(),t[2].setComponents(a+s,h+f,S+m,x+v).normalize(),t[3].setComponents(a-s,h-f,S-m,x-v).normalize(),t[4].setComponents(a-o,h-d,S-y,x-A).normalize(),t[5].setComponents(a+o,h+d,S+y,x+A).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Wo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Wo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Wo)}intersectsSprite(e){return Wo.center.set(0,0,0),Wo.radius=.7071067811865476,Wo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Wo)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(vh.x=r.normal.x>0?e.max.x:e.min.x,vh.y=r.normal.y>0?e.max.y:e.min.y,vh.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(vh)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function UC(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function vI(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,d){const h=f.array,p=f.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),f.onUploadCallback();let y;if(h instanceof Float32Array)y=n.FLOAT;else if(h instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)y=n.SHORT;else if(h instanceof Uint32Array)y=n.UNSIGNED_INT;else if(h instanceof Int32Array)y=n.INT;else if(h instanceof Int8Array)y=n.BYTE;else if(h instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:f.version}}function s(f,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,f),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function a(f){f.isInterleavedBufferAttribute&&(f=f.data);const d=i.get(f);d&&(n.deleteBuffer(d.buffer),i.delete(f))}function u(f,d){if(f.isGLBufferAttribute){const p=i.get(f);(!p||p.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const h=i.get(f);h===void 0?i.set(f,r(f,d)):h.version<f.version&&(s(h.buffer,f,d),h.version=f.version)}return{get:o,remove:a,update:u}}class mu extends ht{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),u=Math.floor(r),f=a+1,d=u+1,h=e/a,p=t/u,m=[],y=[],S=[],M=[];for(let v=0;v<d;v++){const A=v*p-o;for(let x=0;x<f;x++){const E=x*h-s;y.push(E,-A,0),S.push(0,0,1),M.push(x/a),M.push(1-v/u)}}for(let v=0;v<u;v++)for(let A=0;A<a;A++){const x=A+f*v,E=A+f*(v+1),T=A+1+f*(v+1),P=A+1+f*v;m.push(x,E,P),m.push(E,T,P)}this.setIndex(m),this.setAttribute("position",new Ye(y,3)),this.setAttribute("normal",new Ye(S,3)),this.setAttribute("uv",new Ye(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mu(e.width,e.height,e.widthSegments,e.heightSegments)}}var yI=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,_I=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xI=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,AI=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,SI=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,MI=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,EI="vec3 transformed = vec3( position );",wI=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,TI=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,CI=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bI=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,RI=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,PI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,LI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,II=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NI=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,UI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,OI=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,FI=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,kI=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,BI=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zI=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,HI=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,VI=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,GI=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,WI="gl_FragColor = linearToOutputTexel( gl_FragColor );",jI=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,XI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,YI=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,qI=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,JI=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,QI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ZI=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,KI=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$I=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,eN=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,tN=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,nN=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,iN=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,rN=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,sN=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,oN=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,aN=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lN=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,uN=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,cN=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,fN=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,dN=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,hN=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,pN=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,mN=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,gN=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,vN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,yN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_N=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,xN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,AN=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,SN=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,MN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,EN=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wN=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,TN=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,CN=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,bN=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,RN=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,PN=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,LN=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,IN=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,DN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,UN=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ON=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,FN=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,kN=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,BN=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,zN=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,HN=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,VN=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,GN=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,WN=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,jN=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,XN=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,YN=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,qN=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,JN=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,QN=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ZN=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,KN=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$N=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,eD=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,tD=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,nD=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iD=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rD=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,sD=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,oD=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,aD=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,lD=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uD=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cD=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fD=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,dD=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const hD=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pD=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gD=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yD=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_D=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xD=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,AD=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,SD=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ED=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wD=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,TD=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CD=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,bD=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RD=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PD=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LD=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ID=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ND=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DD=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,UD=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OD=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FD=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kD=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BD=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zD=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HD=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,VD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,GD=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WD=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jD=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,mt={alphamap_fragment:yI,alphamap_pars_fragment:_I,alphatest_fragment:xI,alphatest_pars_fragment:AI,aomap_fragment:SI,aomap_pars_fragment:MI,begin_vertex:EI,beginnormal_vertex:wI,bsdfs:TI,iridescence_fragment:CI,bumpmap_pars_fragment:bI,clipping_planes_fragment:RI,clipping_planes_pars_fragment:PI,clipping_planes_pars_vertex:LI,clipping_planes_vertex:II,color_fragment:NI,color_pars_fragment:DI,color_pars_vertex:UI,color_vertex:OI,common:FI,cube_uv_reflection_fragment:kI,defaultnormal_vertex:BI,displacementmap_pars_vertex:zI,displacementmap_vertex:HI,emissivemap_fragment:VI,emissivemap_pars_fragment:GI,encodings_fragment:WI,encodings_pars_fragment:jI,envmap_fragment:XI,envmap_common_pars_fragment:YI,envmap_pars_fragment:qI,envmap_pars_vertex:JI,envmap_physical_pars_fragment:aN,envmap_vertex:QI,fog_vertex:ZI,fog_pars_vertex:KI,fog_fragment:$I,fog_pars_fragment:eN,gradientmap_pars_fragment:tN,lightmap_fragment:nN,lightmap_pars_fragment:iN,lights_lambert_fragment:rN,lights_lambert_pars_fragment:sN,lights_pars_begin:oN,lights_toon_fragment:lN,lights_toon_pars_fragment:uN,lights_phong_fragment:cN,lights_phong_pars_fragment:fN,lights_physical_fragment:dN,lights_physical_pars_fragment:hN,lights_fragment_begin:pN,lights_fragment_maps:mN,lights_fragment_end:gN,logdepthbuf_fragment:vN,logdepthbuf_pars_fragment:yN,logdepthbuf_pars_vertex:_N,logdepthbuf_vertex:xN,map_fragment:AN,map_pars_fragment:SN,map_particle_fragment:MN,map_particle_pars_fragment:EN,metalnessmap_fragment:wN,metalnessmap_pars_fragment:TN,morphcolor_vertex:CN,morphnormal_vertex:bN,morphtarget_pars_vertex:RN,morphtarget_vertex:PN,normal_fragment_begin:LN,normal_fragment_maps:IN,normal_pars_fragment:NN,normal_pars_vertex:DN,normal_vertex:UN,normalmap_pars_fragment:ON,clearcoat_normal_fragment_begin:FN,clearcoat_normal_fragment_maps:kN,clearcoat_pars_fragment:BN,iridescence_pars_fragment:zN,output_fragment:HN,packing:VN,premultiplied_alpha_fragment:GN,project_vertex:WN,dithering_fragment:jN,dithering_pars_fragment:XN,roughnessmap_fragment:YN,roughnessmap_pars_fragment:qN,shadowmap_pars_fragment:JN,shadowmap_pars_vertex:QN,shadowmap_vertex:ZN,shadowmask_pars_fragment:KN,skinbase_vertex:$N,skinning_pars_vertex:eD,skinning_vertex:tD,skinnormal_vertex:nD,specularmap_fragment:iD,specularmap_pars_fragment:rD,tonemapping_fragment:sD,tonemapping_pars_fragment:oD,transmission_fragment:aD,transmission_pars_fragment:lD,uv_pars_fragment:uD,uv_pars_vertex:cD,uv_vertex:fD,worldpos_vertex:dD,background_vert:hD,background_frag:pD,backgroundCube_vert:mD,backgroundCube_frag:gD,cube_vert:vD,cube_frag:yD,depth_vert:_D,depth_frag:xD,distanceRGBA_vert:AD,distanceRGBA_frag:SD,equirect_vert:MD,equirect_frag:ED,linedashed_vert:wD,linedashed_frag:TD,meshbasic_vert:CD,meshbasic_frag:bD,meshlambert_vert:RD,meshlambert_frag:PD,meshmatcap_vert:LD,meshmatcap_frag:ID,meshnormal_vert:ND,meshnormal_frag:DD,meshphong_vert:UD,meshphong_frag:OD,meshphysical_vert:FD,meshphysical_frag:kD,meshtoon_vert:BD,meshtoon_frag:zD,points_vert:HD,points_frag:VD,shadow_vert:GD,shadow_frag:WD,sprite_vert:jD,sprite_frag:XD},Oe={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Mt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Mt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Mt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Mt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Mt},normalScale:{value:new Se(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Mt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Mt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Mt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Mt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Mt}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new Se(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaTest:{value:0}}},Er={basic:{uniforms:ri([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:mt.meshbasic_vert,fragmentShader:mt.meshbasic_frag},lambert:{uniforms:ri([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)}}]),vertexShader:mt.meshlambert_vert,fragmentShader:mt.meshlambert_frag},phong:{uniforms:ri([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:mt.meshphong_vert,fragmentShader:mt.meshphong_frag},standard:{uniforms:ri([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag},toon:{uniforms:ri([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)}}]),vertexShader:mt.meshtoon_vert,fragmentShader:mt.meshtoon_frag},matcap:{uniforms:ri([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:mt.meshmatcap_vert,fragmentShader:mt.meshmatcap_frag},points:{uniforms:ri([Oe.points,Oe.fog]),vertexShader:mt.points_vert,fragmentShader:mt.points_frag},dashed:{uniforms:ri([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mt.linedashed_vert,fragmentShader:mt.linedashed_frag},depth:{uniforms:ri([Oe.common,Oe.displacementmap]),vertexShader:mt.depth_vert,fragmentShader:mt.depth_frag},normal:{uniforms:ri([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:mt.meshnormal_vert,fragmentShader:mt.meshnormal_frag},sprite:{uniforms:ri([Oe.sprite,Oe.fog]),vertexShader:mt.sprite_vert,fragmentShader:mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Mt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mt.background_vert,fragmentShader:mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:mt.backgroundCube_vert,fragmentShader:mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mt.cube_vert,fragmentShader:mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mt.equirect_vert,fragmentShader:mt.equirect_frag},distanceRGBA:{uniforms:ri([Oe.common,Oe.displacementmap,{referencePosition:{value:new B},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mt.distanceRGBA_vert,fragmentShader:mt.distanceRGBA_frag},shadow:{uniforms:ri([Oe.lights,Oe.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:mt.shadow_vert,fragmentShader:mt.shadow_frag}};Er.physical={uniforms:ri([Er.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Mt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Mt},clearcoatNormalScale:{value:new Se(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Mt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Mt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Mt},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Mt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Mt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Mt},transmissionSamplerSize:{value:new Se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Mt},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Mt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Mt}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag};const yh={r:0,b:0,g:0};function YD(n,e,t,i,r,s,o){const a=new Fe(0);let u=s===!0?0:1,f,d,h=null,p=0,m=null;function y(M,v){let A=!1,x=v.isScene===!0?v.background:null;switch(x&&x.isTexture&&(x=(v.backgroundBlurriness>0?t:e).get(x)),x===null?S(a,u):x&&x.isColor&&(S(x,1),A=!0),n.xr.getEnvironmentBlendMode()){case"opaque":A=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),A=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),A=!0;break}(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===pu)?(d===void 0&&(d=new Mn(new Po(1,1,1),new Nr({name:"BackgroundCubeMaterial",uniforms:ru(Er.backgroundCube.uniforms),vertexShader:Er.backgroundCube.vertexShader,fragmentShader:Er.backgroundCube.fragmentShader,side:ai,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,R,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=x,d.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,d.material.toneMapped=x.colorSpace!==st,(h!==x||p!==x.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=x,p=x.version,m=n.toneMapping),d.layers.enableAll(),M.unshift(d,d.geometry,d.material,0,0,null)):x&&x.isTexture&&(f===void 0&&(f=new Mn(new mu(2,2),new Nr({name:"BackgroundMaterial",uniforms:ru(Er.background.uniforms),vertexShader:Er.background.vertexShader,fragmentShader:Er.background.fragmentShader,side:es,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=x,f.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,f.material.toneMapped=x.colorSpace!==st,x.matrixAutoUpdate===!0&&x.updateMatrix(),f.material.uniforms.uvTransform.value.copy(x.matrix),(h!==x||p!==x.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,h=x,p=x.version,m=n.toneMapping),f.layers.enableAll(),M.unshift(f,f.geometry,f.material,0,0,null))}function S(M,v){M.getRGB(yh,IC(n)),i.buffers.color.setClear(yh.r,yh.g,yh.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(M,v=1){a.set(M),u=v,S(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(M){u=M,S(a,u)},render:y}}function qD(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},u=M(null);let f=u,d=!1;function h(J,X,ee,W,N){let D=!1;if(o){const k=S(W,ee,X);f!==k&&(f=k,m(f.object)),D=v(J,W,ee,N),D&&A(J,W,ee,N)}else{const k=X.wireframe===!0;(f.geometry!==W.id||f.program!==ee.id||f.wireframe!==k)&&(f.geometry=W.id,f.program=ee.id,f.wireframe=k,D=!0)}N!==null&&t.update(N,n.ELEMENT_ARRAY_BUFFER),(D||d)&&(d=!1,L(J,X,ee,W),N!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(N).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(J){return i.isWebGL2?n.bindVertexArray(J):s.bindVertexArrayOES(J)}function y(J){return i.isWebGL2?n.deleteVertexArray(J):s.deleteVertexArrayOES(J)}function S(J,X,ee){const W=ee.wireframe===!0;let N=a[J.id];N===void 0&&(N={},a[J.id]=N);let D=N[X.id];D===void 0&&(D={},N[X.id]=D);let k=D[W];return k===void 0&&(k=M(p()),D[W]=k),k}function M(J){const X=[],ee=[],W=[];for(let N=0;N<r;N++)X[N]=0,ee[N]=0,W[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:ee,attributeDivisors:W,object:J,attributes:{},index:null}}function v(J,X,ee,W){const N=f.attributes,D=X.attributes;let k=0;const te=ee.getAttributes();for(const K in te)if(te[K].location>=0){const re=N[K];let we=D[K];if(we===void 0&&(K==="instanceMatrix"&&J.instanceMatrix&&(we=J.instanceMatrix),K==="instanceColor"&&J.instanceColor&&(we=J.instanceColor)),re===void 0||re.attribute!==we||we&&re.data!==we.data)return!0;k++}return f.attributesNum!==k||f.index!==W}function A(J,X,ee,W){const N={},D=X.attributes;let k=0;const te=ee.getAttributes();for(const K in te)if(te[K].location>=0){let re=D[K];re===void 0&&(K==="instanceMatrix"&&J.instanceMatrix&&(re=J.instanceMatrix),K==="instanceColor"&&J.instanceColor&&(re=J.instanceColor));const we={};we.attribute=re,re&&re.data&&(we.data=re.data),N[K]=we,k++}f.attributes=N,f.attributesNum=k,f.index=W}function x(){const J=f.newAttributes;for(let X=0,ee=J.length;X<ee;X++)J[X]=0}function E(J){T(J,0)}function T(J,X){const ee=f.newAttributes,W=f.enabledAttributes,N=f.attributeDivisors;ee[J]=1,W[J]===0&&(n.enableVertexAttribArray(J),W[J]=1),N[J]!==X&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](J,X),N[J]=X)}function P(){const J=f.newAttributes,X=f.enabledAttributes;for(let ee=0,W=X.length;ee<W;ee++)X[ee]!==J[ee]&&(n.disableVertexAttribArray(ee),X[ee]=0)}function R(J,X,ee,W,N,D){i.isWebGL2===!0&&(ee===n.INT||ee===n.UNSIGNED_INT)?n.vertexAttribIPointer(J,X,ee,N,D):n.vertexAttribPointer(J,X,ee,W,N,D)}function L(J,X,ee,W){if(i.isWebGL2===!1&&(J.isInstancedMesh||W.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const N=W.attributes,D=ee.getAttributes(),k=X.defaultAttributeValues;for(const te in D){const K=D[te];if(K.location>=0){let ie=N[te];if(ie===void 0&&(te==="instanceMatrix"&&J.instanceMatrix&&(ie=J.instanceMatrix),te==="instanceColor"&&J.instanceColor&&(ie=J.instanceColor)),ie!==void 0){const re=ie.normalized,we=ie.itemSize,Z=t.get(ie);if(Z===void 0)continue;const U=Z.buffer,Me=Z.type,Re=Z.bytesPerElement;if(ie.isInterleavedBufferAttribute){const ce=ie.data,he=ce.stride,ue=ie.offset;if(ce.isInstancedInterleavedBuffer){for(let se=0;se<K.locationSize;se++)T(K.location+se,ce.meshPerAttribute);J.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let se=0;se<K.locationSize;se++)E(K.location+se);n.bindBuffer(n.ARRAY_BUFFER,U);for(let se=0;se<K.locationSize;se++)R(K.location+se,we/K.locationSize,Me,re,he*Re,(ue+we/K.locationSize*se)*Re)}else{if(ie.isInstancedBufferAttribute){for(let ce=0;ce<K.locationSize;ce++)T(K.location+ce,ie.meshPerAttribute);J.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let ce=0;ce<K.locationSize;ce++)E(K.location+ce);n.bindBuffer(n.ARRAY_BUFFER,U);for(let ce=0;ce<K.locationSize;ce++)R(K.location+ce,we/K.locationSize,Me,re,we*Re,we/K.locationSize*ce*Re)}}else if(k!==void 0){const re=k[te];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(K.location,re);break;case 3:n.vertexAttrib3fv(K.location,re);break;case 4:n.vertexAttrib4fv(K.location,re);break;default:n.vertexAttrib1fv(K.location,re)}}}}P()}function C(){j();for(const J in a){const X=a[J];for(const ee in X){const W=X[ee];for(const N in W)y(W[N].object),delete W[N];delete X[ee]}delete a[J]}}function I(J){if(a[J.id]===void 0)return;const X=a[J.id];for(const ee in X){const W=X[ee];for(const N in W)y(W[N].object),delete W[N];delete X[ee]}delete a[J.id]}function F(J){for(const X in a){const ee=a[X];if(ee[J.id]===void 0)continue;const W=ee[J.id];for(const N in W)y(W[N].object),delete W[N];delete ee[J.id]}}function j(){G(),d=!0,f!==u&&(f=u,m(f.object))}function G(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:h,reset:j,resetDefaultState:G,dispose:C,releaseStatesOfGeometry:I,releaseStatesOfProgram:F,initAttributes:x,enableAttribute:E,disableUnusedAttributes:P}}function JD(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}function a(f,d){n.drawArrays(s,f,d),t.update(d,s,1)}function u(f,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,f,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=u}function QD(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const u=s(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const f=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),M=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),x=p>0,E=o||e.has("OES_texture_float"),T=x&&E,P=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:S,maxVertexUniforms:M,maxVaryings:v,maxFragmentUniforms:A,vertexTextures:x,floatFragmentTextures:E,floatVertexTextures:T,maxSamples:P}}function ZD(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new no,a=new Mt,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,S=h.clipIntersection,M=h.clipShadows,v=n.get(h);if(!r||y===null||y.length===0||s&&!M)s?d(null):f();else{const A=s?0:i,x=A*4;let E=v.clippingState||null;u.value=E,E=d(y,p,x,m);for(let T=0;T!==x;++T)E[T]=t[T];v.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=A}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const S=h!==null?h.length:0;let M=null;if(S!==0){if(M=u.value,y!==!0||M===null){const v=m+S*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(M===null||M.length<v)&&(M=new Float32Array(v));for(let x=0,E=m;x!==S;++x,E+=4)o.copy(h[x]).applyMatrix4(A,a),o.normal.toArray(M,E),M[E+3]=o.constant}u.value=M,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,M}}function KD(n){let e=new WeakMap;function t(o,a){return a===eu?o.mapping=Is:a===Kc&&(o.mapping=So),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===eu||a===Kc)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const f=new k_(u.height/2);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Rr extends Af{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,a-=d*this.view.offsetY,u=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Nl=4,PS=[.125,.215,.35,.446,.526,.582],ia=20,h0=new Rr,LS=new Fe;let p0=null;const ea=(1+Math.sqrt(5))/2,ul=1/ea,IS=[new B(1,1,1),new B(-1,1,1),new B(1,1,-1),new B(-1,1,-1),new B(0,ea,ul),new B(0,ea,-ul),new B(ul,0,ea),new B(-ul,0,ea),new B(ea,ul,0),new B(-ea,ul,0)];class dy{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){p0=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=US(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=DS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(p0),e.scissorTest=!1,_h(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Is||e.mapping===So?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),p0=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Yt,minFilter:Yt,generateMipmaps:!1,type:wr,format:vi,colorSpace:Lr,depthBuffer:!1},r=NS(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=NS(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$D(s)),this._blurMaterial=eU(s,e,t)}return r}_compileMaterial(e){const t=new Mn(this._lodPlanes[0],e);this._renderer.compile(t,h0)}_sceneToCubeUV(e,t,i,r){const a=new Vt(90,1,t,i),u=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(LS),d.toneMapping=br,d.autoClear=!1;const m=new Oi({name:"PMREM.Background",side:ai,depthWrite:!1,depthTest:!1}),y=new Mn(new Po,m);let S=!1;const M=e.background;M?M.isColor&&(m.color.copy(M),e.background=null,S=!0):(m.color.copy(LS),S=!0);for(let v=0;v<6;v++){const A=v%3;A===0?(a.up.set(0,u[v],0),a.lookAt(f[v],0,0)):A===1?(a.up.set(0,0,u[v]),a.lookAt(0,f[v],0)):(a.up.set(0,u[v],0),a.lookAt(0,0,f[v]));const x=this._cubeSize;_h(r,A*x,v>2?x:0,x,x),d.setRenderTarget(r),S&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=M}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Is||e.mapping===So;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=US()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=DS());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Mn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const u=this._cubeSize;_h(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(o,h0)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=IS[(r-1)%IS.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const u=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Mn(this._lodPlanes[r],f),p=f.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ia-1),S=s/y,M=isFinite(s)?1+Math.floor(d*S):ia;M>ia&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${ia}`);const v=[];let A=0;for(let R=0;R<ia;++R){const L=R/S,C=Math.exp(-L*L/2);v.push(C),R===0?A+=C:R<M&&(A+=2*C)}for(let R=0;R<v.length;R++)v[R]=v[R]/A;p.envMap.value=e.texture,p.samples.value=M,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:x}=this;p.dTheta.value=y,p.mipInt.value=x-i;const E=this._sizeLods[r],T=3*E*(r>x-Nl?r-x+Nl:0),P=4*(this._cubeSize-E);_h(t,T,P,3*E,2*E),u.setRenderTarget(t),u.render(h,h0)}}function $D(n){const e=[],t=[],i=[];let r=n;const s=n-Nl+1+PS.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let u=1/a;o>n-Nl?u=PS[o-n+Nl-1]:o===0&&(u=0),i.push(u);const f=1/(a-2),d=-f,h=1+f,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,S=3,M=2,v=1,A=new Float32Array(S*y*m),x=new Float32Array(M*y*m),E=new Float32Array(v*y*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,L=P>2?0:-1,C=[R,L,0,R+2/3,L,0,R+2/3,L+1,0,R,L,0,R+2/3,L+1,0,R,L+1,0];A.set(C,S*y*P),x.set(p,M*y*P);const I=[P,P,P,P,P,P];E.set(I,v*y*P)}const T=new ht;T.setAttribute("position",new Ut(A,S)),T.setAttribute("uv",new Ut(x,M)),T.setAttribute("faceIndex",new Ut(E,v)),e.push(T),r>Nl&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function NS(n,e,t){const i=new Ir(n,e,t);return i.texture.mapping=pu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function _h(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function eU(n,e,t){const i=new Float32Array(ia),r=new B(0,1,0);return new Nr({name:"SphericalGaussianBlur",defines:{n:ia,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ts,depthTest:!1,depthWrite:!1})}function DS(){return new Nr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ts,depthTest:!1,depthWrite:!1})}function US(){return new Nr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ts,depthTest:!1,depthWrite:!1})}function B_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function tU(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const u=a.mapping,f=u===eu||u===Kc,d=u===Is||u===So;if(f||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new dy(n)),h=f?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(f&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new dy(n));const p=f?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let u=0;const f=6;for(let d=0;d<f;d++)a[d]!==void 0&&u++;return u===f}function s(a){const u=a.target;u.removeEventListener("dispose",s);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function nU(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function iU(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function u(h){const p=h.attributes;for(const y in p)e.update(p[y],n.ARRAY_BUFFER);const m=h.morphAttributes;for(const y in m){const S=m[y];for(let M=0,v=S.length;M<v;M++)e.update(S[M],n.ARRAY_BUFFER)}}function f(h){const p=[],m=h.index,y=h.attributes.position;let S=0;if(m!==null){const A=m.array;S=m.version;for(let x=0,E=A.length;x<E;x+=3){const T=A[x+0],P=A[x+1],R=A[x+2];p.push(T,P,P,R,R,T)}}else{const A=y.array;S=y.version;for(let x=0,E=A.length/3-1;x<E;x+=3){const T=x+0,P=x+1,R=x+2;p.push(T,P,P,R,R,T)}}const M=new(PC(p)?F_:O_)(p,1);M.version=S;const v=s.get(h);v&&e.remove(v),s.set(h,M)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&f(h)}else f(h);return s.get(h)}return{get:a,update:u,getWireframeAttribute:d}}function rU(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,u;function f(p){a=p.type,u=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*u),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let S,M;if(r)S=n,M="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),M="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[M](s,m,a,p*u,y),t.update(m,s,y)}this.setMode=o,this.setIndex=f,this.render=d,this.renderInstances=h}function sU(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function oU(n,e){return n[0]-e[0]}function aU(n,e){return Math.abs(e[1])-Math.abs(n[1])}function lU(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ft,a=[];for(let f=0;f<8;f++)a[f]=[f,0];function u(f,d,h){const p=f.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,S=y!==void 0?y.length:0;let M=s.get(d);if(M===void 0||M.count!==S){let X=function(){G.dispose(),s.delete(d),d.removeEventListener("dispose",X)};var m=X;M!==void 0&&M.texture.dispose();const x=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,P=d.morphAttributes.position||[],R=d.morphAttributes.normal||[],L=d.morphAttributes.color||[];let C=0;x===!0&&(C=1),E===!0&&(C=2),T===!0&&(C=3);let I=d.attributes.position.count*C,F=1;I>e.maxTextureSize&&(F=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const j=new Float32Array(I*F*4*S),G=new sm(j,I,F,S);G.type=sr,G.needsUpdate=!0;const J=C*4;for(let ee=0;ee<S;ee++){const W=P[ee],N=R[ee],D=L[ee],k=I*F*4*ee;for(let te=0;te<W.count;te++){const K=te*J;x===!0&&(o.fromBufferAttribute(W,te),j[k+K+0]=o.x,j[k+K+1]=o.y,j[k+K+2]=o.z,j[k+K+3]=0),E===!0&&(o.fromBufferAttribute(N,te),j[k+K+4]=o.x,j[k+K+5]=o.y,j[k+K+6]=o.z,j[k+K+7]=0),T===!0&&(o.fromBufferAttribute(D,te),j[k+K+8]=o.x,j[k+K+9]=o.y,j[k+K+10]=o.z,j[k+K+11]=D.itemSize===4?o.w:1)}}M={count:S,texture:G,size:new Se(I,F)},s.set(d,M),d.addEventListener("dispose",X)}let v=0;for(let x=0;x<p.length;x++)v+=p[x];const A=d.morphTargetsRelative?1:1-v;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",M.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",M.size)}else{const y=p===void 0?0:p.length;let S=i[d.id];if(S===void 0||S.length!==y){S=[];for(let E=0;E<y;E++)S[E]=[E,0];i[d.id]=S}for(let E=0;E<y;E++){const T=S[E];T[0]=E,T[1]=p[E]}S.sort(aU);for(let E=0;E<8;E++)E<y&&S[E][1]?(a[E][0]=S[E][0],a[E][1]=S[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(oU);const M=d.morphAttributes.position,v=d.morphAttributes.normal;let A=0;for(let E=0;E<8;E++){const T=a[E],P=T[0],R=T[1];P!==Number.MAX_SAFE_INTEGER&&R?(M&&d.getAttribute("morphTarget"+E)!==M[P]&&d.setAttribute("morphTarget"+E,M[P]),v&&d.getAttribute("morphNormal"+E)!==v[P]&&d.setAttribute("morphNormal"+E,v[P]),r[E]=R,A+=R):(M&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),v&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),r[E]=0)}const x=d.morphTargetsRelative?1:1-A;h.getUniforms().setValue(n,"morphTargetBaseInfluence",x),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:u}}function uU(n,e,t,i){let r=new WeakMap;function s(u){const f=i.render.frame,d=u.geometry,h=e.get(u,d);return r.get(h)!==f&&(e.update(h),r.set(h,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",a)===!1&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER)),h}function o(){r=new WeakMap}function a(u){const f=u.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}const OC=new Kt,FC=new sm,kC=new U_,BC=new Sf,OS=[],FS=[],kS=new Float32Array(16),BS=new Float32Array(9),zS=new Float32Array(4);function gu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=OS[r];if(s===void 0&&(s=new Float32Array(r),OS[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function En(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function wn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function am(n,e){let t=FS[e];t===void 0&&(t=new Int32Array(e),FS[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function cU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function fU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(En(t,e))return;n.uniform2fv(this.addr,e),wn(t,e)}}function dU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(En(t,e))return;n.uniform3fv(this.addr,e),wn(t,e)}}function hU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(En(t,e))return;n.uniform4fv(this.addr,e),wn(t,e)}}function pU(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(En(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),wn(t,e)}else{if(En(t,i))return;zS.set(i),n.uniformMatrix2fv(this.addr,!1,zS),wn(t,i)}}function mU(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(En(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),wn(t,e)}else{if(En(t,i))return;BS.set(i),n.uniformMatrix3fv(this.addr,!1,BS),wn(t,i)}}function gU(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(En(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),wn(t,e)}else{if(En(t,i))return;kS.set(i),n.uniformMatrix4fv(this.addr,!1,kS),wn(t,i)}}function vU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function yU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(En(t,e))return;n.uniform2iv(this.addr,e),wn(t,e)}}function _U(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(En(t,e))return;n.uniform3iv(this.addr,e),wn(t,e)}}function xU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(En(t,e))return;n.uniform4iv(this.addr,e),wn(t,e)}}function AU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function SU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(En(t,e))return;n.uniform2uiv(this.addr,e),wn(t,e)}}function MU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(En(t,e))return;n.uniform3uiv(this.addr,e),wn(t,e)}}function EU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(En(t,e))return;n.uniform4uiv(this.addr,e),wn(t,e)}}function wU(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||OC,r)}function TU(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||kC,r)}function CU(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||BC,r)}function bU(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||FC,r)}function RU(n){switch(n){case 5126:return cU;case 35664:return fU;case 35665:return dU;case 35666:return hU;case 35674:return pU;case 35675:return mU;case 35676:return gU;case 5124:case 35670:return vU;case 35667:case 35671:return yU;case 35668:case 35672:return _U;case 35669:case 35673:return xU;case 5125:return AU;case 36294:return SU;case 36295:return MU;case 36296:return EU;case 35678:case 36198:case 36298:case 36306:case 35682:return wU;case 35679:case 36299:case 36307:return TU;case 35680:case 36300:case 36308:case 36293:return CU;case 36289:case 36303:case 36311:case 36292:return bU}}function PU(n,e){n.uniform1fv(this.addr,e)}function LU(n,e){const t=gu(e,this.size,2);n.uniform2fv(this.addr,t)}function IU(n,e){const t=gu(e,this.size,3);n.uniform3fv(this.addr,t)}function NU(n,e){const t=gu(e,this.size,4);n.uniform4fv(this.addr,t)}function DU(n,e){const t=gu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function UU(n,e){const t=gu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function OU(n,e){const t=gu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function FU(n,e){n.uniform1iv(this.addr,e)}function kU(n,e){n.uniform2iv(this.addr,e)}function BU(n,e){n.uniform3iv(this.addr,e)}function zU(n,e){n.uniform4iv(this.addr,e)}function HU(n,e){n.uniform1uiv(this.addr,e)}function VU(n,e){n.uniform2uiv(this.addr,e)}function GU(n,e){n.uniform3uiv(this.addr,e)}function WU(n,e){n.uniform4uiv(this.addr,e)}function jU(n,e,t){const i=this.cache,r=e.length,s=am(t,r);En(i,s)||(n.uniform1iv(this.addr,s),wn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||OC,s[o])}function XU(n,e,t){const i=this.cache,r=e.length,s=am(t,r);En(i,s)||(n.uniform1iv(this.addr,s),wn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||kC,s[o])}function YU(n,e,t){const i=this.cache,r=e.length,s=am(t,r);En(i,s)||(n.uniform1iv(this.addr,s),wn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||BC,s[o])}function qU(n,e,t){const i=this.cache,r=e.length,s=am(t,r);En(i,s)||(n.uniform1iv(this.addr,s),wn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||FC,s[o])}function JU(n){switch(n){case 5126:return PU;case 35664:return LU;case 35665:return IU;case 35666:return NU;case 35674:return DU;case 35675:return UU;case 35676:return OU;case 5124:case 35670:return FU;case 35667:case 35671:return kU;case 35668:case 35672:return BU;case 35669:case 35673:return zU;case 5125:return HU;case 36294:return VU;case 36295:return GU;case 36296:return WU;case 35678:case 36198:case 36298:case 36306:case 35682:return jU;case 35679:case 36299:case 36307:return XU;case 35680:case 36300:case 36308:case 36293:return YU;case 36289:case 36303:case 36311:case 36292:return qU}}class QU{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=RU(t.type)}}class ZU{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=JU(t.type)}}class KU{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const m0=/(\w+)(\])?(\[|\.)?/g;function HS(n,e){n.seq.push(e),n.map[e.id]=e}function $U(n,e,t){const i=n.name,r=i.length;for(m0.lastIndex=0;;){const s=m0.exec(i),o=m0.lastIndex;let a=s[1];const u=s[2]==="]",f=s[3];if(u&&(a=a|0),f===void 0||f==="["&&o+2===r){HS(t,f===void 0?new QU(a,n,e):new ZU(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new KU(a),HS(t,h)),t=h}}}class lp{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);$U(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],u=i[a.id];u.needsUpdate!==!1&&a.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function VS(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let eO=0;function tO(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function nO(n){switch(n){case Lr:return["Linear","( value )"];case st:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function GS(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+tO(n.getShaderSource(e),o)}else return r}function iO(n,e){const t=nO(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function rO(n,e){let t;switch(e){case eC:t="Linear";break;case tC:t="Reinhard";break;case nC:t="OptimizedCineon";break;case b_:t="ACESFilmic";break;case iC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function sO(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_c).join(`
`)}function oO(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function aO(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function _c(n){return n!==""}function WS(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jS(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const lO=/^[ \t]*#include +<([\w\d./]+)>/gm;function hy(n){return n.replace(lO,uO)}function uO(n,e){const t=mt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return hy(t)}const cO=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function XS(n){return n.replace(cO,fO)}function fO(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function YS(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function dO(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===tm?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Rc?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ar&&(e="SHADOWMAP_TYPE_VSM"),e}function hO(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Is:case So:e="ENVMAP_TYPE_CUBE";break;case pu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pO(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case So:e="ENVMAP_MODE_REFRACTION";break}return e}function mO(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case vf:e="ENVMAP_BLENDING_MULTIPLY";break;case KT:e="ENVMAP_BLENDING_MIX";break;case $T:e="ENVMAP_BLENDING_ADD";break}return e}function gO(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function vO(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const u=dO(t),f=hO(t),d=pO(t),h=mO(t),p=gO(t),m=t.isWebGL2?"":sO(t),y=oO(s),S=r.createProgram();let M,v,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=[y].filter(_c).join(`
`),M.length>0&&(M+=`
`),v=[m,y].filter(_c).join(`
`),v.length>0&&(v+=`
`)):(M=[YS(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(_c).join(`
`),v=[m,YS(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==br?"#define TONE_MAPPING":"",t.toneMapping!==br?mt.tonemapping_pars_fragment:"",t.toneMapping!==br?rO("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",mt.encodings_pars_fragment,iO("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(_c).join(`
`)),o=hy(o),o=WS(o,t),o=jS(o,t),a=hy(a),a=WS(a,t),a=jS(a,t),o=XS(o),a=XS(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,M=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,v=["#define varying in",t.glslVersion===cy?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===cy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const x=A+M+o,E=A+v+a,T=VS(r,r.VERTEX_SHADER,x),P=VS(r,r.FRAGMENT_SHADER,E);if(r.attachShader(S,T),r.attachShader(S,P),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S),n.debug.checkShaderErrors){const C=r.getProgramInfoLog(S).trim(),I=r.getShaderInfoLog(T).trim(),F=r.getShaderInfoLog(P).trim();let j=!0,G=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(j=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,S,T,P);else{const J=GS(r,T,"vertex"),X=GS(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+J+`
`+X)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(I===""||F==="")&&(G=!1);G&&(this.diagnostics={runnable:j,programLog:C,vertexShader:{log:I,prefix:M},fragmentShader:{log:F,prefix:v}})}r.deleteShader(T),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new lp(r,S)),R};let L;return this.getAttributes=function(){return L===void 0&&(L=aO(r,S)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=eO++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=T,this.fragmentShader=P,this}let yO=0;class _O{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new xO(e),t.set(e,i)),i}}class xO{constructor(e){this.id=yO++,this.code=e,this.usedTimes=0}}function AO(n,e,t,i,r,s,o){const a=new ga,u=new _O,f=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(C){return C===1?"uv1":C===2?"uv2":C===3?"uv3":"uv"}function M(C,I,F,j,G){const J=j.fog,X=G.geometry,ee=C.isMeshStandardMaterial?j.environment:null,W=(C.isMeshStandardMaterial?t:e).get(C.envMap||ee),N=W&&W.mapping===pu?W.image.height:null,D=y[C.type];C.precision!==null&&(m=r.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const k=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,te=k!==void 0?k.length:0;let K=0;X.morphAttributes.position!==void 0&&(K=1),X.morphAttributes.normal!==void 0&&(K=2),X.morphAttributes.color!==void 0&&(K=3);let ie,re,we,Z;if(D){const It=Er[D];ie=It.vertexShader,re=It.fragmentShader}else ie=C.vertexShader,re=C.fragmentShader,u.update(C),we=u.getVertexShaderID(C),Z=u.getFragmentShaderID(C);const U=n.getRenderTarget(),Me=G.isInstancedMesh===!0,Re=!!C.map,ce=!!C.matcap,he=!!W,ue=!!C.aoMap,se=!!C.lightMap,xe=!!C.bumpMap,De=!!C.normalMap,Ie=!!C.displacementMap,Ve=!!C.emissiveMap,qe=!!C.metalnessMap,We=!!C.roughnessMap,it=C.clearcoat>0,xt=C.iridescence>0,V=C.sheen>0,O=C.transmission>0,fe=it&&!!C.clearcoatMap,Ce=it&&!!C.clearcoatNormalMap,be=it&&!!C.clearcoatRoughnessMap,Ue=xt&&!!C.iridescenceMap,et=xt&&!!C.iridescenceThicknessMap,ze=V&&!!C.sheenColorMap,ye=V&&!!C.sheenRoughnessMap,Xe=!!C.specularMap,Y=!!C.specularColorMap,ve=!!C.specularIntensityMap,Ee=O&&!!C.transmissionMap,Le=O&&!!C.thicknessMap,Ke=!!C.gradientMap,ct=!!C.alphaMap,Bt=C.alphaTest>0,Q=!!C.extensions,me=!!X.attributes.uv1,Te=!!X.attributes.uv2,He=!!X.attributes.uv3;return{isWebGL2:d,shaderID:D,shaderName:C.type,vertexShader:ie,fragmentShader:re,defines:C.defines,customVertexShaderID:we,customFragmentShaderID:Z,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:Me,instancingColor:Me&&G.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:U===null?n.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:Lr,map:Re,matcap:ce,envMap:he,envMapMode:he&&W.mapping,envMapCubeUVHeight:N,aoMap:ue,lightMap:se,bumpMap:xe,normalMap:De,displacementMap:p&&Ie,emissiveMap:Ve,normalMapObjectSpace:De&&C.normalMapType===wC,normalMapTangentSpace:De&&C.normalMapType===Ro,metalnessMap:qe,roughnessMap:We,clearcoat:it,clearcoatMap:fe,clearcoatNormalMap:Ce,clearcoatRoughnessMap:be,iridescence:xt,iridescenceMap:Ue,iridescenceThicknessMap:et,sheen:V,sheenColorMap:ze,sheenRoughnessMap:ye,specularMap:Xe,specularColorMap:Y,specularIntensityMap:ve,transmission:O,transmissionMap:Ee,thicknessMap:Le,gradientMap:Ke,opaque:C.transparent===!1&&C.blending===ha,alphaMap:ct,alphaTest:Bt,combine:C.combine,mapUv:Re&&S(C.map.channel),aoMapUv:ue&&S(C.aoMap.channel),lightMapUv:se&&S(C.lightMap.channel),bumpMapUv:xe&&S(C.bumpMap.channel),normalMapUv:De&&S(C.normalMap.channel),displacementMapUv:Ie&&S(C.displacementMap.channel),emissiveMapUv:Ve&&S(C.emissiveMap.channel),metalnessMapUv:qe&&S(C.metalnessMap.channel),roughnessMapUv:We&&S(C.roughnessMap.channel),clearcoatMapUv:fe&&S(C.clearcoatMap.channel),clearcoatNormalMapUv:Ce&&S(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:be&&S(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Ue&&S(C.iridescenceMap.channel),iridescenceThicknessMapUv:et&&S(C.iridescenceThicknessMap.channel),sheenColorMapUv:ze&&S(C.sheenColorMap.channel),sheenRoughnessMapUv:ye&&S(C.sheenRoughnessMap.channel),specularMapUv:Xe&&S(C.specularMap.channel),specularColorMapUv:Y&&S(C.specularColorMap.channel),specularIntensityMapUv:ve&&S(C.specularIntensityMap.channel),transmissionMapUv:Ee&&S(C.transmissionMap.channel),thicknessMapUv:Le&&S(C.thicknessMap.channel),alphaMapUv:ct&&S(C.alphaMap.channel),vertexTangents:De&&!!X.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:me,vertexUv2s:Te,vertexUv3s:He,pointsUvs:G.isPoints===!0&&!!X.attributes.uv&&(Re||ct),fog:!!J,useFog:C.fog===!0,fogExp2:J&&J.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:G.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:K,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:br,useLegacyLights:n.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Ni,flipSided:C.side===ai,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:Q&&C.extensions.derivatives===!0,extensionFragDepth:Q&&C.extensions.fragDepth===!0,extensionDrawBuffers:Q&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:Q&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const I=[];if(C.shaderID?I.push(C.shaderID):(I.push(C.customVertexShaderID),I.push(C.customFragmentShaderID)),C.defines!==void 0)for(const F in C.defines)I.push(F),I.push(C.defines[F]);return C.isRawShaderMaterial===!1&&(A(I,C),x(I,C),I.push(n.outputColorSpace)),I.push(C.customProgramCacheKey),I.join()}function A(C,I){C.push(I.precision),C.push(I.outputColorSpace),C.push(I.envMapMode),C.push(I.envMapCubeUVHeight),C.push(I.mapUv),C.push(I.alphaMapUv),C.push(I.lightMapUv),C.push(I.aoMapUv),C.push(I.bumpMapUv),C.push(I.normalMapUv),C.push(I.displacementMapUv),C.push(I.emissiveMapUv),C.push(I.metalnessMapUv),C.push(I.roughnessMapUv),C.push(I.clearcoatMapUv),C.push(I.clearcoatNormalMapUv),C.push(I.clearcoatRoughnessMapUv),C.push(I.iridescenceMapUv),C.push(I.iridescenceThicknessMapUv),C.push(I.sheenColorMapUv),C.push(I.sheenRoughnessMapUv),C.push(I.specularMapUv),C.push(I.specularColorMapUv),C.push(I.specularIntensityMapUv),C.push(I.transmissionMapUv),C.push(I.thicknessMapUv),C.push(I.combine),C.push(I.fogExp2),C.push(I.sizeAttenuation),C.push(I.morphTargetsCount),C.push(I.morphAttributeCount),C.push(I.numDirLights),C.push(I.numPointLights),C.push(I.numSpotLights),C.push(I.numSpotLightMaps),C.push(I.numHemiLights),C.push(I.numRectAreaLights),C.push(I.numDirLightShadows),C.push(I.numPointLightShadows),C.push(I.numSpotLightShadows),C.push(I.numSpotLightShadowsWithMaps),C.push(I.shadowMapType),C.push(I.toneMapping),C.push(I.numClippingPlanes),C.push(I.numClipIntersection),C.push(I.depthPacking)}function x(C,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),C.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.useLegacyLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),C.push(a.mask)}function E(C){const I=y[C.type];let F;if(I){const j=Er[I];F=NC.clone(j.uniforms)}else F=C.uniforms;return F}function T(C,I){let F;for(let j=0,G=f.length;j<G;j++){const J=f[j];if(J.cacheKey===I){F=J,++F.usedTimes;break}}return F===void 0&&(F=new vO(n,I,C,s),f.push(F)),F}function P(C){if(--C.usedTimes===0){const I=f.indexOf(C);f[I]=f[f.length-1],f.pop(),C.destroy()}}function R(C){u.remove(C)}function L(){u.dispose()}return{getParameters:M,getProgramCacheKey:v,getUniforms:E,acquireProgram:T,releaseProgram:P,releaseShaderCache:R,programs:f,dispose:L}}function SO(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function MO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function qS(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function JS(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,S,M){let v=n[e];return v===void 0?(v={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:S,group:M},n[e]=v):(v.id=h.id,v.object=h,v.geometry=p,v.material=m,v.groupOrder=y,v.renderOrder=h.renderOrder,v.z=S,v.group=M),e++,v}function a(h,p,m,y,S,M){const v=o(h,p,m,y,S,M);m.transmission>0?i.push(v):m.transparent===!0?r.push(v):t.push(v)}function u(h,p,m,y,S,M){const v=o(h,p,m,y,S,M);m.transmission>0?i.unshift(v):m.transparent===!0?r.unshift(v):t.unshift(v)}function f(h,p){t.length>1&&t.sort(h||MO),i.length>1&&i.sort(p||qS),r.length>1&&r.sort(p||qS)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:u,finish:d,sort:f}}function EO(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new JS,n.set(i,[o])):r>=s.length?(o=new JS,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function wO(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new B,color:new Fe};break;case"SpotLight":t={position:new B,direction:new B,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new B,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new B,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":t={color:new Fe,position:new B,halfWidth:new B,halfHeight:new B};break}return n[e.id]=t,t}}}function TO(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let CO=0;function bO(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function RO(n,e){const t=new wO,i=TO(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new B);const s=new B,o=new ot,a=new ot;function u(d,h){let p=0,m=0,y=0;for(let F=0;F<9;F++)r.probe[F].set(0,0,0);let S=0,M=0,v=0,A=0,x=0,E=0,T=0,P=0,R=0,L=0;d.sort(bO);const C=h===!0?Math.PI:1;for(let F=0,j=d.length;F<j;F++){const G=d[F],J=G.color,X=G.intensity,ee=G.distance,W=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)p+=J.r*X*C,m+=J.g*X*C,y+=J.b*X*C;else if(G.isLightProbe)for(let N=0;N<9;N++)r.probe[N].addScaledVector(G.sh.coefficients[N],X);else if(G.isDirectionalLight){const N=t.get(G);if(N.color.copy(G.color).multiplyScalar(G.intensity*C),G.castShadow){const D=G.shadow,k=i.get(G);k.shadowBias=D.bias,k.shadowNormalBias=D.normalBias,k.shadowRadius=D.radius,k.shadowMapSize=D.mapSize,r.directionalShadow[S]=k,r.directionalShadowMap[S]=W,r.directionalShadowMatrix[S]=G.shadow.matrix,E++}r.directional[S]=N,S++}else if(G.isSpotLight){const N=t.get(G);N.position.setFromMatrixPosition(G.matrixWorld),N.color.copy(J).multiplyScalar(X*C),N.distance=ee,N.coneCos=Math.cos(G.angle),N.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),N.decay=G.decay,r.spot[v]=N;const D=G.shadow;if(G.map&&(r.spotLightMap[R]=G.map,R++,D.updateMatrices(G),G.castShadow&&L++),r.spotLightMatrix[v]=D.matrix,G.castShadow){const k=i.get(G);k.shadowBias=D.bias,k.shadowNormalBias=D.normalBias,k.shadowRadius=D.radius,k.shadowMapSize=D.mapSize,r.spotShadow[v]=k,r.spotShadowMap[v]=W,P++}v++}else if(G.isRectAreaLight){const N=t.get(G);N.color.copy(J).multiplyScalar(X),N.halfWidth.set(G.width*.5,0,0),N.halfHeight.set(0,G.height*.5,0),r.rectArea[A]=N,A++}else if(G.isPointLight){const N=t.get(G);if(N.color.copy(G.color).multiplyScalar(G.intensity*C),N.distance=G.distance,N.decay=G.decay,G.castShadow){const D=G.shadow,k=i.get(G);k.shadowBias=D.bias,k.shadowNormalBias=D.normalBias,k.shadowRadius=D.radius,k.shadowMapSize=D.mapSize,k.shadowCameraNear=D.camera.near,k.shadowCameraFar=D.camera.far,r.pointShadow[M]=k,r.pointShadowMap[M]=W,r.pointShadowMatrix[M]=G.shadow.matrix,T++}r.point[M]=N,M++}else if(G.isHemisphereLight){const N=t.get(G);N.skyColor.copy(G.color).multiplyScalar(X*C),N.groundColor.copy(G.groundColor).multiplyScalar(X*C),r.hemi[x]=N,x++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_FLOAT_1,r.rectAreaLTC2=Oe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_HALF_1,r.rectAreaLTC2=Oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const I=r.hash;(I.directionalLength!==S||I.pointLength!==M||I.spotLength!==v||I.rectAreaLength!==A||I.hemiLength!==x||I.numDirectionalShadows!==E||I.numPointShadows!==T||I.numSpotShadows!==P||I.numSpotMaps!==R)&&(r.directional.length=S,r.spot.length=v,r.rectArea.length=A,r.point.length=M,r.hemi.length=x,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=P+R-L,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=L,I.directionalLength=S,I.pointLength=M,I.spotLength=v,I.rectAreaLength=A,I.hemiLength=x,I.numDirectionalShadows=E,I.numPointShadows=T,I.numSpotShadows=P,I.numSpotMaps=R,r.version=CO++)}function f(d,h){let p=0,m=0,y=0,S=0,M=0;const v=h.matrixWorldInverse;for(let A=0,x=d.length;A<x;A++){const E=d[A];if(E.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),p++}else if(E.isSpotLight){const T=r.spot[y];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),y++}else if(E.isRectAreaLight){const T=r.rectArea[S];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),a.identity(),o.copy(E.matrixWorld),o.premultiply(v),a.extractRotation(o),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),S++}else if(E.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),m++}else if(E.isHemisphereLight){const T=r.hemi[M];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(v),M++}}}return{setup:u,setupView:f,state:r}}function QS(n,e){const t=new RO(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function u(h){t.setup(i,h)}function f(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:u,setupLightsView:f,pushLight:o,pushShadow:a}}function PO(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let u;return a===void 0?(u=new QS(n,e),t.set(s,[u])):o>=a.length?(u=new QS(n,e),a.push(u)):u=a[o],u}function r(){t=new WeakMap}return{get:i,dispose:r}}class z_ extends _n{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=MC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class H_ extends _n{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const LO=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,IO=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function NO(n,e,t){let i=new om;const r=new Se,s=new Se,o=new Ft,a=new z_({depthPacking:EC}),u=new H_,f={},d=t.maxTextureSize,h={[es]:ai,[ai]:es,[Ni]:Ni},p=new Nr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Se},radius:{value:4}},vertexShader:LO,fragmentShader:IO}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new ht;y.setAttribute("position",new Ut(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Mn(y,p),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tm;let v=this.type;this.render=function(T,P,R){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||T.length===0)return;const L=n.getRenderTarget(),C=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),F=n.state;F.setBlending(Ts),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const j=v!==Ar&&this.type===Ar,G=v===Ar&&this.type!==Ar;for(let J=0,X=T.length;J<X;J++){const ee=T[J],W=ee.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;r.copy(W.mapSize);const N=W.getFrameExtents();if(r.multiply(N),s.copy(W.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/N.x),r.x=s.x*N.x,W.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/N.y),r.y=s.y*N.y,W.mapSize.y=s.y)),W.map===null||j===!0||G===!0){const k=this.type!==Ar?{minFilter:ln,magFilter:ln}:{};W.map!==null&&W.map.dispose(),W.map=new Ir(r.x,r.y,k),W.map.texture.name=ee.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const D=W.getViewportCount();for(let k=0;k<D;k++){const te=W.getViewport(k);o.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),F.viewport(o),W.updateMatrices(ee,k),i=W.getFrustum(),E(P,R,W.camera,ee,this.type)}W.isPointLightShadow!==!0&&this.type===Ar&&A(W,R),W.needsUpdate=!1}v=this.type,M.needsUpdate=!1,n.setRenderTarget(L,C,I)};function A(T,P){const R=e.update(S);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Ir(r.x,r.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(P,null,R,p,S,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(P,null,R,m,S,null)}function x(T,P,R,L){let C=null;const I=R.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(I!==void 0)C=I;else if(C=R.isPointLight===!0?u:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const F=C.uuid,j=P.uuid;let G=f[F];G===void 0&&(G={},f[F]=G);let J=G[j];J===void 0&&(J=C.clone(),G[j]=J),C=J}if(C.visible=P.visible,C.wireframe=P.wireframe,L===Ar?C.side=P.shadowSide!==null?P.shadowSide:P.side:C.side=P.shadowSide!==null?P.shadowSide:h[P.side],C.alphaMap=P.alphaMap,C.alphaTest=P.alphaTest,C.map=P.map,C.clipShadows=P.clipShadows,C.clippingPlanes=P.clippingPlanes,C.clipIntersection=P.clipIntersection,C.displacementMap=P.displacementMap,C.displacementScale=P.displacementScale,C.displacementBias=P.displacementBias,C.wireframeLinewidth=P.wireframeLinewidth,C.linewidth=P.linewidth,R.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const F=n.properties.get(C);F.light=R}return C}function E(T,P,R,L,C){if(T.visible===!1)return;if(T.layers.test(P.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===Ar)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,T.matrixWorld);const j=e.update(T),G=T.material;if(Array.isArray(G)){const J=j.groups;for(let X=0,ee=J.length;X<ee;X++){const W=J[X],N=G[W.materialIndex];if(N&&N.visible){const D=x(T,N,L,C);n.renderBufferDirect(R,null,j,D,T,W)}}}else if(G.visible){const J=x(T,G,L,C);n.renderBufferDirect(R,null,j,J,T,null)}}const F=T.children;for(let j=0,G=F.length;j<G;j++)E(F[j],P,R,L,C)}}function DO(n,e,t){const i=t.isWebGL2;function r(){let Q=!1;const me=new Ft;let Te=null;const He=new Ft(0,0,0,0);return{setMask:function(Je){Te!==Je&&!Q&&(n.colorMask(Je,Je,Je,Je),Te=Je)},setLocked:function(Je){Q=Je},setClear:function(Je,It,Nt,Tn,ur){ur===!0&&(Je*=Tn,It*=Tn,Nt*=Tn),me.set(Je,It,Nt,Tn),He.equals(me)===!1&&(n.clearColor(Je,It,Nt,Tn),He.copy(me))},reset:function(){Q=!1,Te=null,He.set(-1,0,0,0)}}}function s(){let Q=!1,me=null,Te=null,He=null;return{setTest:function(Je){Je?U(n.DEPTH_TEST):Me(n.DEPTH_TEST)},setMask:function(Je){me!==Je&&!Q&&(n.depthMask(Je),me=Je)},setFunc:function(Je){if(Te!==Je){switch(Je){case jT:n.depthFunc(n.NEVER);break;case XT:n.depthFunc(n.ALWAYS);break;case YT:n.depthFunc(n.LESS);break;case Up:n.depthFunc(n.LEQUAL);break;case qT:n.depthFunc(n.EQUAL);break;case JT:n.depthFunc(n.GEQUAL);break;case QT:n.depthFunc(n.GREATER);break;case ZT:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Te=Je}},setLocked:function(Je){Q=Je},setClear:function(Je){He!==Je&&(n.clearDepth(Je),He=Je)},reset:function(){Q=!1,me=null,Te=null,He=null}}}function o(){let Q=!1,me=null,Te=null,He=null,Je=null,It=null,Nt=null,Tn=null,ur=null;return{setTest:function(Jt){Q||(Jt?U(n.STENCIL_TEST):Me(n.STENCIL_TEST))},setMask:function(Jt){me!==Jt&&!Q&&(n.stencilMask(Jt),me=Jt)},setFunc:function(Jt,ei,Vi){(Te!==Jt||He!==ei||Je!==Vi)&&(n.stencilFunc(Jt,ei,Vi),Te=Jt,He=ei,Je=Vi)},setOp:function(Jt,ei,Vi){(It!==Jt||Nt!==ei||Tn!==Vi)&&(n.stencilOp(Jt,ei,Vi),It=Jt,Nt=ei,Tn=Vi)},setLocked:function(Jt){Q=Jt},setClear:function(Jt){ur!==Jt&&(n.clearStencil(Jt),ur=Jt)},reset:function(){Q=!1,me=null,Te=null,He=null,Je=null,It=null,Nt=null,Tn=null,ur=null}}}const a=new r,u=new s,f=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,S=[],M=null,v=!1,A=null,x=null,E=null,T=null,P=null,R=null,L=null,C=!1,I=null,F=null,j=null,G=null,J=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,W=0;const N=n.getParameter(n.VERSION);N.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(N)[1]),ee=W>=1):N.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),ee=W>=2);let D=null,k={};const te=n.getParameter(n.SCISSOR_BOX),K=n.getParameter(n.VIEWPORT),ie=new Ft().fromArray(te),re=new Ft().fromArray(K);function we(Q,me,Te,He){const Je=new Uint8Array(4),It=n.createTexture();n.bindTexture(Q,It),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Nt=0;Nt<Te;Nt++)i&&(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)?n.texImage3D(me,0,n.RGBA,1,1,He,0,n.RGBA,n.UNSIGNED_BYTE,Je):n.texImage2D(me+Nt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Je);return It}const Z={};Z[n.TEXTURE_2D]=we(n.TEXTURE_2D,n.TEXTURE_2D,1),Z[n.TEXTURE_CUBE_MAP]=we(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Z[n.TEXTURE_2D_ARRAY]=we(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Z[n.TEXTURE_3D]=we(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),u.setClear(1),f.setClear(0),U(n.DEPTH_TEST),u.setFunc(Up),Ie(!1),Ve(Uv),U(n.CULL_FACE),xe(Ts);function U(Q){p[Q]!==!0&&(n.enable(Q),p[Q]=!0)}function Me(Q){p[Q]!==!1&&(n.disable(Q),p[Q]=!1)}function Re(Q,me){return m[Q]!==me?(n.bindFramebuffer(Q,me),m[Q]=me,i&&(Q===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=me),Q===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=me)),!0):!1}function ce(Q,me){let Te=S,He=!1;if(Q)if(Te=y.get(me),Te===void 0&&(Te=[],y.set(me,Te)),Q.isWebGLMultipleRenderTargets){const Je=Q.texture;if(Te.length!==Je.length||Te[0]!==n.COLOR_ATTACHMENT0){for(let It=0,Nt=Je.length;It<Nt;It++)Te[It]=n.COLOR_ATTACHMENT0+It;Te.length=Je.length,He=!0}}else Te[0]!==n.COLOR_ATTACHMENT0&&(Te[0]=n.COLOR_ATTACHMENT0,He=!0);else Te[0]!==n.BACK&&(Te[0]=n.BACK,He=!0);He&&(t.isWebGL2?n.drawBuffers(Te):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Te))}function he(Q){return M!==Q?(n.useProgram(Q),M=Q,!0):!1}const ue={[na]:n.FUNC_ADD,[DT]:n.FUNC_SUBTRACT,[UT]:n.FUNC_REVERSE_SUBTRACT};if(i)ue[Bv]=n.MIN,ue[zv]=n.MAX;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(ue[Bv]=Q.MIN_EXT,ue[zv]=Q.MAX_EXT)}const se={[OT]:n.ZERO,[FT]:n.ONE,[kT]:n.SRC_COLOR,[T_]:n.SRC_ALPHA,[WT]:n.SRC_ALPHA_SATURATE,[VT]:n.DST_COLOR,[zT]:n.DST_ALPHA,[BT]:n.ONE_MINUS_SRC_COLOR,[C_]:n.ONE_MINUS_SRC_ALPHA,[GT]:n.ONE_MINUS_DST_COLOR,[HT]:n.ONE_MINUS_DST_ALPHA};function xe(Q,me,Te,He,Je,It,Nt,Tn){if(Q===Ts){v===!0&&(Me(n.BLEND),v=!1);return}if(v===!1&&(U(n.BLEND),v=!0),Q!==NT){if(Q!==A||Tn!==C){if((x!==na||P!==na)&&(n.blendEquation(n.FUNC_ADD),x=na,P=na),Tn)switch(Q){case ha:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ov:n.blendFunc(n.ONE,n.ONE);break;case Fv:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case kv:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case ha:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ov:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Fv:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case kv:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}E=null,T=null,R=null,L=null,A=Q,C=Tn}return}Je=Je||me,It=It||Te,Nt=Nt||He,(me!==x||Je!==P)&&(n.blendEquationSeparate(ue[me],ue[Je]),x=me,P=Je),(Te!==E||He!==T||It!==R||Nt!==L)&&(n.blendFuncSeparate(se[Te],se[He],se[It],se[Nt]),E=Te,T=He,R=It,L=Nt),A=Q,C=!1}function De(Q,me){Q.side===Ni?Me(n.CULL_FACE):U(n.CULL_FACE);let Te=Q.side===ai;me&&(Te=!Te),Ie(Te),Q.blending===ha&&Q.transparent===!1?xe(Ts):xe(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),u.setFunc(Q.depthFunc),u.setTest(Q.depthTest),u.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const He=Q.stencilWrite;f.setTest(He),He&&(f.setMask(Q.stencilWriteMask),f.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),f.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),We(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?U(n.SAMPLE_ALPHA_TO_COVERAGE):Me(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(Q){I!==Q&&(Q?n.frontFace(n.CW):n.frontFace(n.CCW),I=Q)}function Ve(Q){Q!==PT?(U(n.CULL_FACE),Q!==F&&(Q===Uv?n.cullFace(n.BACK):Q===LT?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Me(n.CULL_FACE),F=Q}function qe(Q){Q!==j&&(ee&&n.lineWidth(Q),j=Q)}function We(Q,me,Te){Q?(U(n.POLYGON_OFFSET_FILL),(G!==me||J!==Te)&&(n.polygonOffset(me,Te),G=me,J=Te)):Me(n.POLYGON_OFFSET_FILL)}function it(Q){Q?U(n.SCISSOR_TEST):Me(n.SCISSOR_TEST)}function xt(Q){Q===void 0&&(Q=n.TEXTURE0+X-1),D!==Q&&(n.activeTexture(Q),D=Q)}function V(Q,me,Te){Te===void 0&&(D===null?Te=n.TEXTURE0+X-1:Te=D);let He=k[Te];He===void 0&&(He={type:void 0,texture:void 0},k[Te]=He),(He.type!==Q||He.texture!==me)&&(D!==Te&&(n.activeTexture(Te),D=Te),n.bindTexture(Q,me||Z[Q]),He.type=Q,He.texture=me)}function O(){const Q=k[D];Q!==void 0&&Q.type!==void 0&&(n.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function fe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function be(){try{n.texSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ue(){try{n.texSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function et(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ze(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ye(){try{n.texStorage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Xe(){try{n.texStorage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Y(){try{n.texImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ve(){try{n.texImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ee(Q){ie.equals(Q)===!1&&(n.scissor(Q.x,Q.y,Q.z,Q.w),ie.copy(Q))}function Le(Q){re.equals(Q)===!1&&(n.viewport(Q.x,Q.y,Q.z,Q.w),re.copy(Q))}function Ke(Q,me){let Te=h.get(me);Te===void 0&&(Te=new WeakMap,h.set(me,Te));let He=Te.get(Q);He===void 0&&(He=n.getUniformBlockIndex(me,Q.name),Te.set(Q,He))}function ct(Q,me){const He=h.get(me).get(Q);d.get(me)!==He&&(n.uniformBlockBinding(me,He,Q.__bindingPointIndex),d.set(me,He))}function Bt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},D=null,k={},m={},y=new WeakMap,S=[],M=null,v=!1,A=null,x=null,E=null,T=null,P=null,R=null,L=null,C=!1,I=null,F=null,j=null,G=null,J=null,ie.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),f.reset()}return{buffers:{color:a,depth:u,stencil:f},enable:U,disable:Me,bindFramebuffer:Re,drawBuffers:ce,useProgram:he,setBlending:xe,setMaterial:De,setFlipSided:Ie,setCullFace:Ve,setLineWidth:qe,setPolygonOffset:We,setScissorTest:it,activeTexture:xt,bindTexture:V,unbindTexture:O,compressedTexImage2D:fe,compressedTexImage3D:Ce,texImage2D:Y,texImage3D:ve,updateUBOMapping:Ke,uniformBlockBinding:ct,texStorage2D:ye,texStorage3D:Xe,texSubImage2D:be,texSubImage3D:Ue,compressedTexSubImage2D:et,compressedTexSubImage3D:ze,scissor:Ee,viewport:Le,reset:Bt}}function UO(n,e,t,i,r,s,o){const a=r.isWebGL2,u=r.maxTextures,f=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let S;const M=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(V,O){return v?new OffscreenCanvas(V,O):nf("canvas")}function x(V,O,fe,Ce){let be=1;if((V.width>Ce||V.height>Ce)&&(be=Ce/Math.max(V.width,V.height)),be<1||O===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const Ue=O?bC:Math.floor,et=Ue(be*V.width),ze=Ue(be*V.height);S===void 0&&(S=A(et,ze));const ye=fe?A(et,ze):S;return ye.width=et,ye.height=ze,ye.getContext("2d").drawImage(V,0,0,et,ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+et+"x"+ze+")."),ye}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function E(V){return fy(V.width)&&fy(V.height)}function T(V){return a?!1:V.wrapS!==kn||V.wrapT!==kn||V.minFilter!==ln&&V.minFilter!==Yt}function P(V,O){return V.generateMipmaps&&O&&V.minFilter!==ln&&V.minFilter!==Yt}function R(V){n.generateMipmap(V)}function L(V,O,fe,Ce,be=!1){if(a===!1)return O;if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let Ue=O;return O===n.RED&&(fe===n.FLOAT&&(Ue=n.R32F),fe===n.HALF_FLOAT&&(Ue=n.R16F),fe===n.UNSIGNED_BYTE&&(Ue=n.R8)),O===n.RG&&(fe===n.FLOAT&&(Ue=n.RG32F),fe===n.HALF_FLOAT&&(Ue=n.RG16F),fe===n.UNSIGNED_BYTE&&(Ue=n.RG8)),O===n.RGBA&&(fe===n.FLOAT&&(Ue=n.RGBA32F),fe===n.HALF_FLOAT&&(Ue=n.RGBA16F),fe===n.UNSIGNED_BYTE&&(Ue=Ce===st&&be===!1?n.SRGB8_ALPHA8:n.RGBA8),fe===n.UNSIGNED_SHORT_4_4_4_4&&(Ue=n.RGBA4),fe===n.UNSIGNED_SHORT_5_5_5_1&&(Ue=n.RGB5_A1)),(Ue===n.R16F||Ue===n.R32F||Ue===n.RG16F||Ue===n.RG32F||Ue===n.RGBA16F||Ue===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ue}function C(V,O,fe){return P(V,fe)===!0||V.isFramebufferTexture&&V.minFilter!==ln&&V.minFilter!==Yt?Math.log2(Math.max(O.width,O.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?O.mipmaps.length:1}function I(V){return V===ln||V===$c||V===Gl?n.NEAREST:n.LINEAR}function F(V){const O=V.target;O.removeEventListener("dispose",F),G(O),O.isVideoTexture&&y.delete(O)}function j(V){const O=V.target;O.removeEventListener("dispose",j),X(O)}function G(V){const O=i.get(V);if(O.__webglInit===void 0)return;const fe=V.source,Ce=M.get(fe);if(Ce){const be=Ce[O.__cacheKey];be.usedTimes--,be.usedTimes===0&&J(V),Object.keys(Ce).length===0&&M.delete(fe)}i.remove(V)}function J(V){const O=i.get(V);n.deleteTexture(O.__webglTexture);const fe=V.source,Ce=M.get(fe);delete Ce[O.__cacheKey],o.memory.textures--}function X(V){const O=V.texture,fe=i.get(V),Ce=i.get(O);if(Ce.__webglTexture!==void 0&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let be=0;be<6;be++)n.deleteFramebuffer(fe.__webglFramebuffer[be]),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer[be]);else{if(n.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let be=0;be<fe.__webglColorRenderbuffer.length;be++)fe.__webglColorRenderbuffer[be]&&n.deleteRenderbuffer(fe.__webglColorRenderbuffer[be]);fe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let be=0,Ue=O.length;be<Ue;be++){const et=i.get(O[be]);et.__webglTexture&&(n.deleteTexture(et.__webglTexture),o.memory.textures--),i.remove(O[be])}i.remove(O),i.remove(V)}let ee=0;function W(){ee=0}function N(){const V=ee;return V>=u&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+u),ee+=1,V}function D(V){const O=[];return O.push(V.wrapS),O.push(V.wrapT),O.push(V.wrapR||0),O.push(V.magFilter),O.push(V.minFilter),O.push(V.anisotropy),O.push(V.internalFormat),O.push(V.format),O.push(V.type),O.push(V.generateMipmaps),O.push(V.premultiplyAlpha),O.push(V.flipY),O.push(V.unpackAlignment),O.push(V.colorSpace),O.join()}function k(V,O){const fe=i.get(V);if(V.isVideoTexture&&it(V),V.isRenderTargetTexture===!1&&V.version>0&&fe.__version!==V.version){const Ce=V.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Me(fe,V,O);return}}t.bindTexture(n.TEXTURE_2D,fe.__webglTexture,n.TEXTURE0+O)}function te(V,O){const fe=i.get(V);if(V.version>0&&fe.__version!==V.version){Me(fe,V,O);return}t.bindTexture(n.TEXTURE_2D_ARRAY,fe.__webglTexture,n.TEXTURE0+O)}function K(V,O){const fe=i.get(V);if(V.version>0&&fe.__version!==V.version){Me(fe,V,O);return}t.bindTexture(n.TEXTURE_3D,fe.__webglTexture,n.TEXTURE0+O)}function ie(V,O){const fe=i.get(V);if(V.version>0&&fe.__version!==V.version){Re(fe,V,O);return}t.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+O)}const re={[Mo]:n.REPEAT,[kn]:n.CLAMP_TO_EDGE,[tu]:n.MIRRORED_REPEAT},we={[ln]:n.NEAREST,[$c]:n.NEAREST_MIPMAP_NEAREST,[Gl]:n.NEAREST_MIPMAP_LINEAR,[Yt]:n.LINEAR,[im]:n.LINEAR_MIPMAP_NEAREST,[ts]:n.LINEAR_MIPMAP_LINEAR};function Z(V,O,fe){if(fe?(n.texParameteri(V,n.TEXTURE_WRAP_S,re[O.wrapS]),n.texParameteri(V,n.TEXTURE_WRAP_T,re[O.wrapT]),(V===n.TEXTURE_3D||V===n.TEXTURE_2D_ARRAY)&&n.texParameteri(V,n.TEXTURE_WRAP_R,re[O.wrapR]),n.texParameteri(V,n.TEXTURE_MAG_FILTER,we[O.magFilter]),n.texParameteri(V,n.TEXTURE_MIN_FILTER,we[O.minFilter])):(n.texParameteri(V,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(V,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(V===n.TEXTURE_3D||V===n.TEXTURE_2D_ARRAY)&&n.texParameteri(V,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(O.wrapS!==kn||O.wrapT!==kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(V,n.TEXTURE_MAG_FILTER,I(O.magFilter)),n.texParameteri(V,n.TEXTURE_MIN_FILTER,I(O.minFilter)),O.minFilter!==ln&&O.minFilter!==Yt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===ln||O.minFilter!==Gl&&O.minFilter!==ts||O.type===sr&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===wr&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||i.get(O).__currentAnisotropy)&&(n.texParameterf(V,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,r.getMaxAnisotropy())),i.get(O).__currentAnisotropy=O.anisotropy)}}function U(V,O){let fe=!1;V.__webglInit===void 0&&(V.__webglInit=!0,O.addEventListener("dispose",F));const Ce=O.source;let be=M.get(Ce);be===void 0&&(be={},M.set(Ce,be));const Ue=D(O);if(Ue!==V.__cacheKey){be[Ue]===void 0&&(be[Ue]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),be[Ue].usedTimes++;const et=be[V.__cacheKey];et!==void 0&&(be[V.__cacheKey].usedTimes--,et.usedTimes===0&&J(O)),V.__cacheKey=Ue,V.__webglTexture=be[Ue].texture}return fe}function Me(V,O,fe){let Ce=n.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(Ce=n.TEXTURE_2D_ARRAY),O.isData3DTexture&&(Ce=n.TEXTURE_3D);const be=U(V,O),Ue=O.source;t.bindTexture(Ce,V.__webglTexture,n.TEXTURE0+fe);const et=i.get(Ue);if(Ue.version!==et.__version||be===!0){t.activeTexture(n.TEXTURE0+fe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const ze=T(O)&&E(O.image)===!1;let ye=x(O.image,ze,!1,d);ye=xt(O,ye);const Xe=E(ye)||a,Y=s.convert(O.format,O.colorSpace);let ve=s.convert(O.type),Ee=L(O.internalFormat,Y,ve,O.colorSpace);Z(Ce,O,Xe);let Le;const Ke=O.mipmaps,ct=a&&O.isVideoTexture!==!0,Bt=et.__version===void 0||be===!0,Q=C(O,ye,Xe);if(O.isDepthTexture)Ee=n.DEPTH_COMPONENT,a?O.type===sr?Ee=n.DEPTH_COMPONENT32F:O.type===lo?Ee=n.DEPTH_COMPONENT24:O.type===pa?Ee=n.DEPTH24_STENCIL8:Ee=n.DEPTH_COMPONENT16:O.type===sr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===yo&&Ee===n.DEPTH_COMPONENT&&O.type!==R_&&O.type!==lo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=lo,ve=s.convert(O.type)),O.format===Ea&&Ee===n.DEPTH_COMPONENT&&(Ee=n.DEPTH_STENCIL,O.type!==pa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=pa,ve=s.convert(O.type))),Bt&&(ct?t.texStorage2D(n.TEXTURE_2D,1,Ee,ye.width,ye.height):t.texImage2D(n.TEXTURE_2D,0,Ee,ye.width,ye.height,0,Y,ve,null));else if(O.isDataTexture)if(Ke.length>0&&Xe){ct&&Bt&&t.texStorage2D(n.TEXTURE_2D,Q,Ee,Ke[0].width,Ke[0].height);for(let me=0,Te=Ke.length;me<Te;me++)Le=Ke[me],ct?t.texSubImage2D(n.TEXTURE_2D,me,0,0,Le.width,Le.height,Y,ve,Le.data):t.texImage2D(n.TEXTURE_2D,me,Ee,Le.width,Le.height,0,Y,ve,Le.data);O.generateMipmaps=!1}else ct?(Bt&&t.texStorage2D(n.TEXTURE_2D,Q,Ee,ye.width,ye.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ye.width,ye.height,Y,ve,ye.data)):t.texImage2D(n.TEXTURE_2D,0,Ee,ye.width,ye.height,0,Y,ve,ye.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){ct&&Bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Q,Ee,Ke[0].width,Ke[0].height,ye.depth);for(let me=0,Te=Ke.length;me<Te;me++)Le=Ke[me],O.format!==vi?Y!==null?ct?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Le.width,Le.height,ye.depth,Y,Le.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,me,Ee,Le.width,Le.height,ye.depth,0,Le.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?t.texSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Le.width,Le.height,ye.depth,Y,ve,Le.data):t.texImage3D(n.TEXTURE_2D_ARRAY,me,Ee,Le.width,Le.height,ye.depth,0,Y,ve,Le.data)}else{ct&&Bt&&t.texStorage2D(n.TEXTURE_2D,Q,Ee,Ke[0].width,Ke[0].height);for(let me=0,Te=Ke.length;me<Te;me++)Le=Ke[me],O.format!==vi?Y!==null?ct?t.compressedTexSubImage2D(n.TEXTURE_2D,me,0,0,Le.width,Le.height,Y,Le.data):t.compressedTexImage2D(n.TEXTURE_2D,me,Ee,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?t.texSubImage2D(n.TEXTURE_2D,me,0,0,Le.width,Le.height,Y,ve,Le.data):t.texImage2D(n.TEXTURE_2D,me,Ee,Le.width,Le.height,0,Y,ve,Le.data)}else if(O.isDataArrayTexture)ct?(Bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Q,Ee,ye.width,ye.height,ye.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ye.width,ye.height,ye.depth,Y,ve,ye.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ee,ye.width,ye.height,ye.depth,0,Y,ve,ye.data);else if(O.isData3DTexture)ct?(Bt&&t.texStorage3D(n.TEXTURE_3D,Q,Ee,ye.width,ye.height,ye.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ye.width,ye.height,ye.depth,Y,ve,ye.data)):t.texImage3D(n.TEXTURE_3D,0,Ee,ye.width,ye.height,ye.depth,0,Y,ve,ye.data);else if(O.isFramebufferTexture){if(Bt)if(ct)t.texStorage2D(n.TEXTURE_2D,Q,Ee,ye.width,ye.height);else{let me=ye.width,Te=ye.height;for(let He=0;He<Q;He++)t.texImage2D(n.TEXTURE_2D,He,Ee,me,Te,0,Y,ve,null),me>>=1,Te>>=1}}else if(Ke.length>0&&Xe){ct&&Bt&&t.texStorage2D(n.TEXTURE_2D,Q,Ee,Ke[0].width,Ke[0].height);for(let me=0,Te=Ke.length;me<Te;me++)Le=Ke[me],ct?t.texSubImage2D(n.TEXTURE_2D,me,0,0,Y,ve,Le):t.texImage2D(n.TEXTURE_2D,me,Ee,Y,ve,Le);O.generateMipmaps=!1}else ct?(Bt&&t.texStorage2D(n.TEXTURE_2D,Q,Ee,ye.width,ye.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Y,ve,ye)):t.texImage2D(n.TEXTURE_2D,0,Ee,Y,ve,ye);P(O,Xe)&&R(Ce),et.__version=Ue.version,O.onUpdate&&O.onUpdate(O)}V.__version=O.version}function Re(V,O,fe){if(O.image.length!==6)return;const Ce=U(V,O),be=O.source;t.bindTexture(n.TEXTURE_CUBE_MAP,V.__webglTexture,n.TEXTURE0+fe);const Ue=i.get(be);if(be.version!==Ue.__version||Ce===!0){t.activeTexture(n.TEXTURE0+fe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const et=O.isCompressedTexture||O.image[0].isCompressedTexture,ze=O.image[0]&&O.image[0].isDataTexture,ye=[];for(let me=0;me<6;me++)!et&&!ze?ye[me]=x(O.image[me],!1,!0,f):ye[me]=ze?O.image[me].image:O.image[me],ye[me]=xt(O,ye[me]);const Xe=ye[0],Y=E(Xe)||a,ve=s.convert(O.format,O.colorSpace),Ee=s.convert(O.type),Le=L(O.internalFormat,ve,Ee,O.colorSpace),Ke=a&&O.isVideoTexture!==!0,ct=Ue.__version===void 0||Ce===!0;let Bt=C(O,Xe,Y);Z(n.TEXTURE_CUBE_MAP,O,Y);let Q;if(et){Ke&&ct&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Bt,Le,Xe.width,Xe.height);for(let me=0;me<6;me++){Q=ye[me].mipmaps;for(let Te=0;Te<Q.length;Te++){const He=Q[Te];O.format!==vi?ve!==null?Ke?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te,0,0,He.width,He.height,ve,He.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te,Le,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ke?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te,0,0,He.width,He.height,ve,Ee,He.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te,Le,He.width,He.height,0,ve,Ee,He.data)}}}else{Q=O.mipmaps,Ke&&ct&&(Q.length>0&&Bt++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Bt,Le,ye[0].width,ye[0].height));for(let me=0;me<6;me++)if(ze){Ke?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,ye[me].width,ye[me].height,ve,Ee,ye[me].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,Le,ye[me].width,ye[me].height,0,ve,Ee,ye[me].data);for(let Te=0;Te<Q.length;Te++){const Je=Q[Te].image[me].image;Ke?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te+1,0,0,Je.width,Je.height,ve,Ee,Je.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te+1,Le,Je.width,Je.height,0,ve,Ee,Je.data)}}else{Ke?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,ve,Ee,ye[me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,Le,ve,Ee,ye[me]);for(let Te=0;Te<Q.length;Te++){const He=Q[Te];Ke?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te+1,0,0,ve,Ee,He.image[me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Te+1,Le,ve,Ee,He.image[me])}}}P(O,Y)&&R(n.TEXTURE_CUBE_MAP),Ue.__version=be.version,O.onUpdate&&O.onUpdate(O)}V.__version=O.version}function ce(V,O,fe,Ce,be){const Ue=s.convert(fe.format,fe.colorSpace),et=s.convert(fe.type),ze=L(fe.internalFormat,Ue,et,fe.colorSpace);i.get(O).__hasExternalTextures||(be===n.TEXTURE_3D||be===n.TEXTURE_2D_ARRAY?t.texImage3D(be,0,ze,O.width,O.height,O.depth,0,Ue,et,null):t.texImage2D(be,0,ze,O.width,O.height,0,Ue,et,null)),t.bindFramebuffer(n.FRAMEBUFFER,V),We(O)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ce,be,i.get(fe).__webglTexture,0,qe(O)):(be===n.TEXTURE_2D||be>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&be<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ce,be,i.get(fe).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function he(V,O,fe){if(n.bindRenderbuffer(n.RENDERBUFFER,V),O.depthBuffer&&!O.stencilBuffer){let Ce=n.DEPTH_COMPONENT16;if(fe||We(O)){const be=O.depthTexture;be&&be.isDepthTexture&&(be.type===sr?Ce=n.DEPTH_COMPONENT32F:be.type===lo&&(Ce=n.DEPTH_COMPONENT24));const Ue=qe(O);We(O)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ue,Ce,O.width,O.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,Ce,O.width,O.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ce,O.width,O.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,V)}else if(O.depthBuffer&&O.stencilBuffer){const Ce=qe(O);fe&&We(O)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,n.DEPTH24_STENCIL8,O.width,O.height):We(O)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,n.DEPTH24_STENCIL8,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,O.width,O.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,V)}else{const Ce=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let be=0;be<Ce.length;be++){const Ue=Ce[be],et=s.convert(Ue.format,Ue.colorSpace),ze=s.convert(Ue.type),ye=L(Ue.internalFormat,et,ze,Ue.colorSpace),Xe=qe(O);fe&&We(O)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Xe,ye,O.width,O.height):We(O)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Xe,ye,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,ye,O.width,O.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ue(V,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,V),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),k(O.depthTexture,0);const Ce=i.get(O.depthTexture).__webglTexture,be=qe(O);if(O.depthTexture.format===yo)We(O)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0,be):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0);else if(O.depthTexture.format===Ea)We(O)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0,be):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0);else throw new Error("Unknown depthTexture format")}function se(V){const O=i.get(V),fe=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!O.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");ue(O.__webglFramebuffer,V)}else if(fe){O.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer[Ce]),O.__webglDepthbuffer[Ce]=n.createRenderbuffer(),he(O.__webglDepthbuffer[Ce],V,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer=n.createRenderbuffer(),he(O.__webglDepthbuffer,V,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function xe(V,O,fe){const Ce=i.get(V);O!==void 0&&ce(Ce.__webglFramebuffer,V,V.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),fe!==void 0&&se(V)}function De(V){const O=V.texture,fe=i.get(V),Ce=i.get(O);V.addEventListener("dispose",j),V.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=O.version,o.memory.textures++);const be=V.isWebGLCubeRenderTarget===!0,Ue=V.isWebGLMultipleRenderTargets===!0,et=E(V)||a;if(be){fe.__webglFramebuffer=[];for(let ze=0;ze<6;ze++)fe.__webglFramebuffer[ze]=n.createFramebuffer()}else{if(fe.__webglFramebuffer=n.createFramebuffer(),Ue)if(r.drawBuffers){const ze=V.texture;for(let ye=0,Xe=ze.length;ye<Xe;ye++){const Y=i.get(ze[ye]);Y.__webglTexture===void 0&&(Y.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&V.samples>0&&We(V)===!1){const ze=Ue?O:[O];fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let ye=0;ye<ze.length;ye++){const Xe=ze[ye];fe.__webglColorRenderbuffer[ye]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,fe.__webglColorRenderbuffer[ye]);const Y=s.convert(Xe.format,Xe.colorSpace),ve=s.convert(Xe.type),Ee=L(Xe.internalFormat,Y,ve,Xe.colorSpace,V.isXRRenderTarget===!0),Le=qe(V);n.renderbufferStorageMultisample(n.RENDERBUFFER,Le,Ee,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ye,n.RENDERBUFFER,fe.__webglColorRenderbuffer[ye])}n.bindRenderbuffer(n.RENDERBUFFER,null),V.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),he(fe.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(be){t.bindTexture(n.TEXTURE_CUBE_MAP,Ce.__webglTexture),Z(n.TEXTURE_CUBE_MAP,O,et);for(let ze=0;ze<6;ze++)ce(fe.__webglFramebuffer[ze],V,O,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ze);P(O,et)&&R(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ue){const ze=V.texture;for(let ye=0,Xe=ze.length;ye<Xe;ye++){const Y=ze[ye],ve=i.get(Y);t.bindTexture(n.TEXTURE_2D,ve.__webglTexture),Z(n.TEXTURE_2D,Y,et),ce(fe.__webglFramebuffer,V,Y,n.COLOR_ATTACHMENT0+ye,n.TEXTURE_2D),P(Y,et)&&R(n.TEXTURE_2D)}t.unbindTexture()}else{let ze=n.TEXTURE_2D;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(a?ze=V.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ze,Ce.__webglTexture),Z(ze,O,et),ce(fe.__webglFramebuffer,V,O,n.COLOR_ATTACHMENT0,ze),P(O,et)&&R(ze),t.unbindTexture()}V.depthBuffer&&se(V)}function Ie(V){const O=E(V)||a,fe=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let Ce=0,be=fe.length;Ce<be;Ce++){const Ue=fe[Ce];if(P(Ue,O)){const et=V.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ze=i.get(Ue).__webglTexture;t.bindTexture(et,ze),R(et),t.unbindTexture()}}}function Ve(V){if(a&&V.samples>0&&We(V)===!1){const O=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],fe=V.width,Ce=V.height;let be=n.COLOR_BUFFER_BIT;const Ue=[],et=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ze=i.get(V),ye=V.isWebGLMultipleRenderTargets===!0;if(ye)for(let Xe=0;Xe<O.length;Xe++)t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xe,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xe,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ze.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ze.__webglFramebuffer);for(let Xe=0;Xe<O.length;Xe++){Ue.push(n.COLOR_ATTACHMENT0+Xe),V.depthBuffer&&Ue.push(et);const Y=ze.__ignoreDepthValues!==void 0?ze.__ignoreDepthValues:!1;if(Y===!1&&(V.depthBuffer&&(be|=n.DEPTH_BUFFER_BIT),V.stencilBuffer&&(be|=n.STENCIL_BUFFER_BIT)),ye&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ze.__webglColorRenderbuffer[Xe]),Y===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[et]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[et])),ye){const ve=i.get(O[Xe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ve,0)}n.blitFramebuffer(0,0,fe,Ce,0,0,fe,Ce,be,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ue)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ye)for(let Xe=0;Xe<O.length;Xe++){t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xe,n.RENDERBUFFER,ze.__webglColorRenderbuffer[Xe]);const Y=i.get(O[Xe]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xe,n.TEXTURE_2D,Y,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ze.__webglMultisampledFramebuffer)}}function qe(V){return Math.min(h,V.samples)}function We(V){const O=i.get(V);return a&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function it(V){const O=o.render.frame;y.get(V)!==O&&(y.set(V,O),V.update())}function xt(V,O){const fe=V.colorSpace,Ce=V.format,be=V.type;return V.isCompressedTexture===!0||V.format===Fp||fe!==Lr&&fe!==_o&&(fe===st?a===!1?e.has("EXT_sRGB")===!0&&Ce===vi?(V.format=Fp,V.minFilter=Yt,V.generateMipmaps=!1):O=D_.sRGBToLinear(O):(Ce!==vi||be!==Ns)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),O}this.allocateTextureUnit=N,this.resetTextureUnits=W,this.setTexture2D=k,this.setTexture2DArray=te,this.setTexture3D=K,this.setTextureCube=ie,this.rebindTextures=xe,this.setupRenderTarget=De,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=Ve,this.setupDepthRenderbuffer=se,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=We}function zC(n,e,t){const i=t.isWebGL2;function r(s,o=_o){let a;if(s===Ns)return n.UNSIGNED_BYTE;if(s===aC)return n.UNSIGNED_SHORT_4_4_4_4;if(s===lC)return n.UNSIGNED_SHORT_5_5_5_1;if(s===rC)return n.BYTE;if(s===sC)return n.SHORT;if(s===R_)return n.UNSIGNED_SHORT;if(s===oC)return n.INT;if(s===lo)return n.UNSIGNED_INT;if(s===sr)return n.FLOAT;if(s===wr)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===uC)return n.ALPHA;if(s===vi)return n.RGBA;if(s===cC)return n.LUMINANCE;if(s===fC)return n.LUMINANCE_ALPHA;if(s===yo)return n.DEPTH_COMPONENT;if(s===Ea)return n.DEPTH_STENCIL;if(s===Fp)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===dC)return n.RED;if(s===hC)return n.RED_INTEGER;if(s===pC)return n.RG;if(s===mC)return n.RG_INTEGER;if(s===gC)return n.RGBA_INTEGER;if(s===tp||s===np||s===ip||s===rp)if(o===st)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===tp)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===np)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===ip)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===rp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===tp)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===np)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===ip)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===rp)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Hv||s===Vv||s===Gv||s===Wv)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Hv)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Vv)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Gv)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Wv)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===vC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===jv||s===Xv)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===jv)return o===st?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Xv)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Yv||s===qv||s===Jv||s===Qv||s===Zv||s===Kv||s===$v||s===ey||s===ty||s===ny||s===iy||s===ry||s===sy||s===oy)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Yv)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===qv)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Jv)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Qv)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Zv)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Kv)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===$v)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===ey)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===ty)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===ny)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===iy)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===ry)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===sy)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===oy)return o===st?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===sp)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===sp)return o===st?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===yC||s===ay||s===ly||s===uy)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===sp)return a.COMPRESSED_RED_RGTC1_EXT;if(s===ay)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===ly)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===uy)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===pa?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class HC extends Vt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Es extends Ct{constructor(){super(),this.isGroup=!0,this.type="Group"}}const OO={type:"move"};class g0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Es,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Es,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new B,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new B),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Es,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new B,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new B),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const S of e.hand.values()){const M=t.getJointPose(S,i),v=this._getHandJoint(f,S);M!==null&&(v.matrix.fromArray(M.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=M.radius),v.visible=M!==null}const d=f.joints["index-finger-tip"],h=f.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;f.inputState.pinching&&p>m+y?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&p<=m-y&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(OO)))}return a!==null&&(a.visible=r!==null),u!==null&&(u.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Es;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class VC extends Kt{constructor(e,t,i,r,s,o,a,u,f,d){if(d=d!==void 0?d:yo,d!==yo&&d!==Ea)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===yo&&(i=lo),i===void 0&&d===Ea&&(i=pa),super(null,r,s,o,a,u,d,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:ln,this.minFilter=u!==void 0?u:ln,this.flipY=!1,this.generateMipmaps=!1}}class FO extends ns{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",u=1,f=null,d=null,h=null,p=null,m=null,y=null;const S=t.getContextAttributes();let M=null,v=null;const A=[],x=[],E=new Set,T=new Map,P=new Vt;P.layers.enable(1),P.viewport=new Ft;const R=new Vt;R.layers.enable(2),R.viewport=new Ft;const L=[P,R],C=new HC;C.layers.enable(1),C.layers.enable(2);let I=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let re=A[ie];return re===void 0&&(re=new g0,A[ie]=re),re.getTargetRaySpace()},this.getControllerGrip=function(ie){let re=A[ie];return re===void 0&&(re=new g0,A[ie]=re),re.getGripSpace()},this.getHand=function(ie){let re=A[ie];return re===void 0&&(re=new g0,A[ie]=re),re.getHandSpace()};function j(ie){const re=x.indexOf(ie.inputSource);if(re===-1)return;const we=A[re];we!==void 0&&(we.update(ie.inputSource,ie.frame,f||o),we.dispatchEvent({type:ie.type,data:ie.inputSource}))}function G(){r.removeEventListener("select",j),r.removeEventListener("selectstart",j),r.removeEventListener("selectend",j),r.removeEventListener("squeeze",j),r.removeEventListener("squeezestart",j),r.removeEventListener("squeezeend",j),r.removeEventListener("end",G),r.removeEventListener("inputsourceschange",J);for(let ie=0;ie<A.length;ie++){const re=x[ie];re!==null&&(x[ie]=null,A[ie].disconnect(re))}I=null,F=null,e.setRenderTarget(M),m=null,p=null,h=null,r=null,v=null,K.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){s=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){a=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(ie){f=ie},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(ie){if(r=ie,r!==null){if(M=e.getRenderTarget(),r.addEventListener("select",j),r.addEventListener("selectstart",j),r.addEventListener("selectend",j),r.addEventListener("squeeze",j),r.addEventListener("squeezestart",j),r.addEventListener("squeezeend",j),r.addEventListener("end",G),r.addEventListener("inputsourceschange",J),S.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const re={antialias:r.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,re),r.updateRenderState({baseLayer:m}),v=new Ir(m.framebufferWidth,m.framebufferHeight,{format:vi,type:Ns,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let re=null,we=null,Z=null;S.depth&&(Z=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,re=S.stencil?Ea:yo,we=S.stencil?pa:lo);const U={colorFormat:t.RGBA8,depthFormat:Z,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(U),r.updateRenderState({layers:[p]}),v=new Ir(p.textureWidth,p.textureHeight,{format:vi,type:Ns,depthTexture:new VC(p.textureWidth,p.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Me=e.properties.get(v);Me.__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(u),f=null,o=await r.requestReferenceSpace(a),K.setContext(r),K.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function J(ie){for(let re=0;re<ie.removed.length;re++){const we=ie.removed[re],Z=x.indexOf(we);Z>=0&&(x[Z]=null,A[Z].disconnect(we))}for(let re=0;re<ie.added.length;re++){const we=ie.added[re];let Z=x.indexOf(we);if(Z===-1){for(let Me=0;Me<A.length;Me++)if(Me>=x.length){x.push(we),Z=Me;break}else if(x[Me]===null){x[Me]=we,Z=Me;break}if(Z===-1)break}const U=A[Z];U&&U.connect(we)}}const X=new B,ee=new B;function W(ie,re,we){X.setFromMatrixPosition(re.matrixWorld),ee.setFromMatrixPosition(we.matrixWorld);const Z=X.distanceTo(ee),U=re.projectionMatrix.elements,Me=we.projectionMatrix.elements,Re=U[14]/(U[10]-1),ce=U[14]/(U[10]+1),he=(U[9]+1)/U[5],ue=(U[9]-1)/U[5],se=(U[8]-1)/U[0],xe=(Me[8]+1)/Me[0],De=Re*se,Ie=Re*xe,Ve=Z/(-se+xe),qe=Ve*-se;re.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(qe),ie.translateZ(Ve),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert();const We=Re+Ve,it=ce+Ve,xt=De-qe,V=Ie+(Z-qe),O=he*ce/it*We,fe=ue*ce/it*We;ie.projectionMatrix.makePerspective(xt,V,O,fe,We,it),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}function N(ie,re){re===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(re.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(r===null)return;C.near=R.near=P.near=ie.near,C.far=R.far=P.far=ie.far,(I!==C.near||F!==C.far)&&(r.updateRenderState({depthNear:C.near,depthFar:C.far}),I=C.near,F=C.far);const re=ie.parent,we=C.cameras;N(C,re);for(let Z=0;Z<we.length;Z++)N(we[Z],re);we.length===2?W(C,P,R):C.projectionMatrix.copy(P.projectionMatrix),D(ie,C,re)};function D(ie,re,we){we===null?ie.matrix.copy(re.matrixWorld):(ie.matrix.copy(we.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(re.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0);const Z=ie.children;for(let U=0,Me=Z.length;U<Me;U++)Z[U].updateMatrixWorld(!0);ie.projectionMatrix.copy(re.projectionMatrix),ie.projectionMatrixInverse.copy(re.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=iu*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(p===null&&m===null))return u},this.setFoveation=function(ie){u=ie,p!==null&&(p.fixedFoveation=ie),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ie)},this.getPlanes=function(){return E};let k=null;function te(ie,re){if(d=re.getViewerPose(f||o),y=re,d!==null){const we=d.views;m!==null&&(e.setRenderTargetFramebuffer(v,m.framebuffer),e.setRenderTarget(v));let Z=!1;we.length!==C.cameras.length&&(C.cameras.length=0,Z=!0);for(let U=0;U<we.length;U++){const Me=we[U];let Re=null;if(m!==null)Re=m.getViewport(Me);else{const he=h.getViewSubImage(p,Me);Re=he.viewport,U===0&&(e.setRenderTargetTextures(v,he.colorTexture,p.ignoreDepthValues?void 0:he.depthStencilTexture),e.setRenderTarget(v))}let ce=L[U];ce===void 0&&(ce=new Vt,ce.layers.enable(U),ce.viewport=new Ft,L[U]=ce),ce.matrix.fromArray(Me.transform.matrix),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.projectionMatrix.fromArray(Me.projectionMatrix),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert(),ce.viewport.set(Re.x,Re.y,Re.width,Re.height),U===0&&(C.matrix.copy(ce.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),Z===!0&&C.cameras.push(ce)}}for(let we=0;we<A.length;we++){const Z=x[we],U=A[we];Z!==null&&U!==void 0&&U.update(Z,re,f||o)}if(k&&k(ie,re),re.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:re.detectedPlanes});let we=null;for(const Z of E)re.detectedPlanes.has(Z)||(we===null&&(we=[]),we.push(Z));if(we!==null)for(const Z of we)E.delete(Z),T.delete(Z),i.dispatchEvent({type:"planeremoved",data:Z});for(const Z of re.detectedPlanes)if(!E.has(Z))E.add(Z),T.set(Z,re.lastChangedTime),i.dispatchEvent({type:"planeadded",data:Z});else{const U=T.get(Z);Z.lastChangedTime>U&&(T.set(Z,Z.lastChangedTime),i.dispatchEvent({type:"planechanged",data:Z}))}}y=null}const K=new UC;K.setAnimationLoop(te),this.setAnimationLoop=function(ie){k=ie},this.dispose=function(){}}}function kO(n,e){function t(M,v){M.matrixAutoUpdate===!0&&M.updateMatrix(),v.value.copy(M.matrix)}function i(M,v){v.color.getRGB(M.fogColor.value,IC(n)),v.isFog?(M.fogNear.value=v.near,M.fogFar.value=v.far):v.isFogExp2&&(M.fogDensity.value=v.density)}function r(M,v,A,x,E){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(M,v):v.isMeshToonMaterial?(s(M,v),h(M,v)):v.isMeshPhongMaterial?(s(M,v),d(M,v)):v.isMeshStandardMaterial?(s(M,v),p(M,v),v.isMeshPhysicalMaterial&&m(M,v,E)):v.isMeshMatcapMaterial?(s(M,v),y(M,v)):v.isMeshDepthMaterial?s(M,v):v.isMeshDistanceMaterial?(s(M,v),S(M,v)):v.isMeshNormalMaterial?s(M,v):v.isLineBasicMaterial?(o(M,v),v.isLineDashedMaterial&&a(M,v)):v.isPointsMaterial?u(M,v,A,x):v.isSpriteMaterial?f(M,v):v.isShadowMaterial?(M.color.value.copy(v.color),M.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(M,v){M.opacity.value=v.opacity,v.color&&M.diffuse.value.copy(v.color),v.emissive&&M.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(M.map.value=v.map,t(v.map,M.mapTransform)),v.alphaMap&&(M.alphaMap.value=v.alphaMap,t(v.alphaMap,M.alphaMapTransform)),v.bumpMap&&(M.bumpMap.value=v.bumpMap,t(v.bumpMap,M.bumpMapTransform),M.bumpScale.value=v.bumpScale,v.side===ai&&(M.bumpScale.value*=-1)),v.normalMap&&(M.normalMap.value=v.normalMap,t(v.normalMap,M.normalMapTransform),M.normalScale.value.copy(v.normalScale),v.side===ai&&M.normalScale.value.negate()),v.displacementMap&&(M.displacementMap.value=v.displacementMap,t(v.displacementMap,M.displacementMapTransform),M.displacementScale.value=v.displacementScale,M.displacementBias.value=v.displacementBias),v.emissiveMap&&(M.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,M.emissiveMapTransform)),v.specularMap&&(M.specularMap.value=v.specularMap,t(v.specularMap,M.specularMapTransform)),v.alphaTest>0&&(M.alphaTest.value=v.alphaTest);const A=e.get(v).envMap;if(A&&(M.envMap.value=A,M.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=v.reflectivity,M.ior.value=v.ior,M.refractionRatio.value=v.refractionRatio),v.lightMap){M.lightMap.value=v.lightMap;const x=n.useLegacyLights===!0?Math.PI:1;M.lightMapIntensity.value=v.lightMapIntensity*x,t(v.lightMap,M.lightMapTransform)}v.aoMap&&(M.aoMap.value=v.aoMap,M.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,M.aoMapTransform))}function o(M,v){M.diffuse.value.copy(v.color),M.opacity.value=v.opacity,v.map&&(M.map.value=v.map,t(v.map,M.mapTransform))}function a(M,v){M.dashSize.value=v.dashSize,M.totalSize.value=v.dashSize+v.gapSize,M.scale.value=v.scale}function u(M,v,A,x){M.diffuse.value.copy(v.color),M.opacity.value=v.opacity,M.size.value=v.size*A,M.scale.value=x*.5,v.map&&(M.map.value=v.map,t(v.map,M.uvTransform)),v.alphaMap&&(M.alphaMap.value=v.alphaMap),v.alphaTest>0&&(M.alphaTest.value=v.alphaTest)}function f(M,v){M.diffuse.value.copy(v.color),M.opacity.value=v.opacity,M.rotation.value=v.rotation,v.map&&(M.map.value=v.map,t(v.map,M.mapTransform)),v.alphaMap&&(M.alphaMap.value=v.alphaMap),v.alphaTest>0&&(M.alphaTest.value=v.alphaTest)}function d(M,v){M.specular.value.copy(v.specular),M.shininess.value=Math.max(v.shininess,1e-4)}function h(M,v){v.gradientMap&&(M.gradientMap.value=v.gradientMap)}function p(M,v){M.metalness.value=v.metalness,v.metalnessMap&&(M.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,M.metalnessMapTransform)),M.roughness.value=v.roughness,v.roughnessMap&&(M.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,M.roughnessMapTransform)),e.get(v).envMap&&(M.envMapIntensity.value=v.envMapIntensity)}function m(M,v,A){M.ior.value=v.ior,v.sheen>0&&(M.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),M.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(M.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,M.sheenColorMapTransform)),v.sheenRoughnessMap&&(M.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,M.sheenRoughnessMapTransform))),v.clearcoat>0&&(M.clearcoat.value=v.clearcoat,M.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(M.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,M.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(M.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===ai&&M.clearcoatNormalScale.value.negate())),v.iridescence>0&&(M.iridescence.value=v.iridescence,M.iridescenceIOR.value=v.iridescenceIOR,M.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(M.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,M.iridescenceMapTransform)),v.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),v.transmission>0&&(M.transmission.value=v.transmission,M.transmissionSamplerMap.value=A.texture,M.transmissionSamplerSize.value.set(A.width,A.height),v.transmissionMap&&(M.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,M.transmissionMapTransform)),M.thickness.value=v.thickness,v.thicknessMap&&(M.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=v.attenuationDistance,M.attenuationColor.value.copy(v.attenuationColor)),M.specularIntensity.value=v.specularIntensity,M.specularColor.value.copy(v.specularColor),v.specularColorMap&&(M.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,M.specularColorMapTransform)),v.specularIntensityMap&&(M.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,M.specularIntensityMapTransform))}function y(M,v){v.matcap&&(M.matcap.value=v.matcap)}function S(M,v){const A=e.get(v).light;M.referencePosition.value.setFromMatrixPosition(A.matrixWorld),M.nearDistance.value=A.shadow.camera.near,M.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function BO(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(A,x){const E=x.program;i.uniformBlockBinding(A,E)}function f(A,x){let E=r[A.id];E===void 0&&(y(A),E=d(A),r[A.id]=E,A.addEventListener("dispose",M));const T=x.program;i.updateUBOMapping(A,T);const P=e.render.frame;s[A.id]!==P&&(p(A),s[A.id]=P)}function d(A){const x=h();A.__bindingPointIndex=x;const E=n.createBuffer(),T=A.__size,P=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,T,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,x,E),E}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const x=r[A.id],E=A.uniforms,T=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,x);for(let P=0,R=E.length;P<R;P++){const L=E[P];if(m(L,P,T)===!0){const C=L.__offset,I=Array.isArray(L.value)?L.value:[L.value];let F=0;for(let j=0;j<I.length;j++){const G=I[j],J=S(G);typeof G=="number"?(L.__data[0]=G,n.bufferSubData(n.UNIFORM_BUFFER,C+F,L.__data)):G.isMatrix3?(L.__data[0]=G.elements[0],L.__data[1]=G.elements[1],L.__data[2]=G.elements[2],L.__data[3]=G.elements[0],L.__data[4]=G.elements[3],L.__data[5]=G.elements[4],L.__data[6]=G.elements[5],L.__data[7]=G.elements[0],L.__data[8]=G.elements[6],L.__data[9]=G.elements[7],L.__data[10]=G.elements[8],L.__data[11]=G.elements[0]):(G.toArray(L.__data,F),F+=J.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,C,L.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,x,E){const T=A.value;if(E[x]===void 0){if(typeof T=="number")E[x]=T;else{const P=Array.isArray(T)?T:[T],R=[];for(let L=0;L<P.length;L++)R.push(P[L].clone());E[x]=R}return!0}else if(typeof T=="number"){if(E[x]!==T)return E[x]=T,!0}else{const P=Array.isArray(E[x])?E[x]:[E[x]],R=Array.isArray(T)?T:[T];for(let L=0;L<P.length;L++){const C=P[L];if(C.equals(R[L])===!1)return C.copy(R[L]),!0}}return!1}function y(A){const x=A.uniforms;let E=0;const T=16;let P=0;for(let R=0,L=x.length;R<L;R++){const C=x[R],I={boundary:0,storage:0},F=Array.isArray(C.value)?C.value:[C.value];for(let j=0,G=F.length;j<G;j++){const J=F[j],X=S(J);I.boundary+=X.boundary,I.storage+=X.storage}if(C.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=E,R>0){P=E%T;const j=T-P;P!==0&&j-I.boundary<0&&(E+=T-P,C.__offset=E)}E+=I.storage}return P=E%T,P>0&&(E+=T-P),A.__size=E,A.__cache={},this}function S(A){const x={boundary:0,storage:0};return typeof A=="number"?(x.boundary=4,x.storage=4):A.isVector2?(x.boundary=8,x.storage=8):A.isVector3||A.isColor?(x.boundary=16,x.storage=12):A.isVector4?(x.boundary=16,x.storage=16):A.isMatrix3?(x.boundary=48,x.storage=48):A.isMatrix4?(x.boundary=64,x.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),x}function M(A){const x=A.target;x.removeEventListener("dispose",M);const E=o.indexOf(x.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}function v(){for(const A in r)n.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:u,update:f,dispose:v}}function zO(){const n=nf("canvas");return n.style.display="block",n}class V_{constructor(e={}){const{canvas:t=zO(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;let m=null,y=null;const S=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=st,this.useLegacyLights=!0,this.toneMapping=br,this.toneMappingExposure=1;const v=this;let A=!1,x=0,E=0,T=null,P=-1,R=null;const L=new Ft,C=new Ft;let I=null,F=t.width,j=t.height,G=1,J=null,X=null;const ee=new Ft(0,0,F,j),W=new Ft(0,0,F,j);let N=!1;const D=new om;let k=!1,te=!1,K=null;const ie=new ot,re=new B,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Z(){return T===null?G:1}let U=i;function Me(z,le){for(let _e=0;_e<z.length;_e++){const oe=z[_e],Ae=t.getContext(oe,le);if(Ae!==null)return Ae}return null}try{const z={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${em}`),t.addEventListener("webglcontextlost",Le,!1),t.addEventListener("webglcontextrestored",Ke,!1),t.addEventListener("webglcontextcreationerror",ct,!1),U===null){const le=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&le.shift(),U=Me(le,z),U===null)throw Me(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}U.getShaderPrecisionFormat===void 0&&(U.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let Re,ce,he,ue,se,xe,De,Ie,Ve,qe,We,it,xt,V,O,fe,Ce,be,Ue,et,ze,ye,Xe,Y;function ve(){Re=new nU(U),ce=new QD(U,Re,e),Re.init(ce),ye=new zC(U,Re,ce),he=new DO(U,Re,ce),ue=new sU(U),se=new SO,xe=new UO(U,Re,he,se,ce,ye,ue),De=new KD(v),Ie=new tU(v),Ve=new vI(U,ce),Xe=new qD(U,Re,Ve,ce),qe=new iU(U,Ve,ue,Xe),We=new uU(U,qe,Ve,ue),Ue=new lU(U,ce,xe),fe=new ZD(se),it=new AO(v,De,Ie,Re,ce,Xe,fe),xt=new kO(v,se),V=new EO,O=new PO(Re,ce),be=new YD(v,De,Ie,he,We,p,u),Ce=new NO(v,We,ce),Y=new BO(U,ue,ce,he),et=new JD(U,Re,ue,ce),ze=new rU(U,Re,ue,ce),ue.programs=it.programs,v.capabilities=ce,v.extensions=Re,v.properties=se,v.renderLists=V,v.shadowMap=Ce,v.state=he,v.info=ue}ve();const Ee=new FO(v,U);this.xr=Ee,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const z=Re.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=Re.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(z){z!==void 0&&(G=z,this.setSize(F,j,!1))},this.getSize=function(z){return z.set(F,j)},this.setSize=function(z,le,_e=!0){if(Ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=z,j=le,t.width=Math.floor(z*G),t.height=Math.floor(le*G),_e===!0&&(t.style.width=z+"px",t.style.height=le+"px"),this.setViewport(0,0,z,le)},this.getDrawingBufferSize=function(z){return z.set(F*G,j*G).floor()},this.setDrawingBufferSize=function(z,le,_e){F=z,j=le,G=_e,t.width=Math.floor(z*_e),t.height=Math.floor(le*_e),this.setViewport(0,0,z,le)},this.getCurrentViewport=function(z){return z.copy(L)},this.getViewport=function(z){return z.copy(ee)},this.setViewport=function(z,le,_e,oe){z.isVector4?ee.set(z.x,z.y,z.z,z.w):ee.set(z,le,_e,oe),he.viewport(L.copy(ee).multiplyScalar(G).floor())},this.getScissor=function(z){return z.copy(W)},this.setScissor=function(z,le,_e,oe){z.isVector4?W.set(z.x,z.y,z.z,z.w):W.set(z,le,_e,oe),he.scissor(C.copy(W).multiplyScalar(G).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(z){he.setScissorTest(N=z)},this.setOpaqueSort=function(z){J=z},this.setTransparentSort=function(z){X=z},this.getClearColor=function(z){return z.copy(be.getClearColor())},this.setClearColor=function(){be.setClearColor.apply(be,arguments)},this.getClearAlpha=function(){return be.getClearAlpha()},this.setClearAlpha=function(){be.setClearAlpha.apply(be,arguments)},this.clear=function(z=!0,le=!0,_e=!0){let oe=0;z&&(oe|=U.COLOR_BUFFER_BIT),le&&(oe|=U.DEPTH_BUFFER_BIT),_e&&(oe|=U.STENCIL_BUFFER_BIT),U.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Le,!1),t.removeEventListener("webglcontextrestored",Ke,!1),t.removeEventListener("webglcontextcreationerror",ct,!1),V.dispose(),O.dispose(),se.dispose(),De.dispose(),Ie.dispose(),We.dispose(),Xe.dispose(),Y.dispose(),it.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",Je),Ee.removeEventListener("sessionend",It),K&&(K.dispose(),K=null),Nt.stop()};function Le(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Ke(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const z=ue.autoReset,le=Ce.enabled,_e=Ce.autoUpdate,oe=Ce.needsUpdate,Ae=Ce.type;ve(),ue.autoReset=z,Ce.enabled=le,Ce.autoUpdate=_e,Ce.needsUpdate=oe,Ce.type=Ae}function ct(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Bt(z){const le=z.target;le.removeEventListener("dispose",Bt),Q(le)}function Q(z){me(z),se.remove(z)}function me(z){const le=se.get(z).programs;le!==void 0&&(le.forEach(function(_e){it.releaseProgram(_e)}),z.isShaderMaterial&&it.releaseShaderCache(z))}this.renderBufferDirect=function(z,le,_e,oe,Ae,$e){le===null&&(le=we);const nt=Ae.isMesh&&Ae.matrixWorld.determinant()<0,rt=Hf(z,le,_e,oe,Ae);he.setMaterial(oe,nt);let ft=_e.index,vt=1;oe.wireframe===!0&&(ft=qe.getWireframeAttribute(_e),vt=2);const yt=_e.drawRange,At=_e.attributes.position;let Dt=yt.start*vt,Dn=(yt.start+yt.count)*vt;$e!==null&&(Dt=Math.max(Dt,$e.start*vt),Dn=Math.min(Dn,($e.start+$e.count)*vt)),ft!==null?(Dt=Math.max(Dt,0),Dn=Math.min(Dn,ft.count)):At!=null&&(Dt=Math.max(Dt,0),Dn=Math.min(Dn,At.count));const Ei=Dn-Dt;if(Ei<0||Ei===1/0)return;Xe.setup(Ae,oe,rt,_e,ft);let cr,Gt=et;if(ft!==null&&(cr=Ve.get(ft),Gt=ze,Gt.setIndex(cr)),Ae.isMesh)oe.wireframe===!0?(he.setLineWidth(oe.wireframeLinewidth*Z()),Gt.setMode(U.LINES)):Gt.setMode(U.TRIANGLES);else if(Ae.isLine){let St=oe.linewidth;St===void 0&&(St=1),he.setLineWidth(St*Z()),Ae.isLineSegments?Gt.setMode(U.LINES):Ae.isLineLoop?Gt.setMode(U.LINE_LOOP):Gt.setMode(U.LINE_STRIP)}else Ae.isPoints?Gt.setMode(U.POINTS):Ae.isSprite&&Gt.setMode(U.TRIANGLES);if(Ae.isInstancedMesh)Gt.renderInstances(Dt,Ei,Ae.count);else if(_e.isInstancedBufferGeometry){const St=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,Io=Math.min(_e.instanceCount,St);Gt.renderInstances(Dt,Ei,Io)}else Gt.render(Dt,Ei)},this.compile=function(z,le){function _e(oe,Ae,$e){oe.transparent===!0&&oe.side===Ni&&oe.forceSinglePass===!1?(oe.side=ai,oe.needsUpdate=!0,Da(oe,Ae,$e),oe.side=es,oe.needsUpdate=!0,Da(oe,Ae,$e),oe.side=Ni):Da(oe,Ae,$e)}y=O.get(z),y.init(),M.push(y),z.traverseVisible(function(oe){oe.isLight&&oe.layers.test(le.layers)&&(y.pushLight(oe),oe.castShadow&&y.pushShadow(oe))}),y.setupLights(v.useLegacyLights),z.traverse(function(oe){const Ae=oe.material;if(Ae)if(Array.isArray(Ae))for(let $e=0;$e<Ae.length;$e++){const nt=Ae[$e];_e(nt,z,oe)}else _e(Ae,z,oe)}),M.pop(),y=null};let Te=null;function He(z){Te&&Te(z)}function Je(){Nt.stop()}function It(){Nt.start()}const Nt=new UC;Nt.setAnimationLoop(He),typeof self<"u"&&Nt.setContext(self),this.setAnimationLoop=function(z){Te=z,Ee.setAnimationLoop(z),z===null?Nt.stop():Nt.start()},Ee.addEventListener("sessionstart",Je),Ee.addEventListener("sessionend",It),this.render=function(z,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Ee.enabled===!0&&Ee.isPresenting===!0&&(Ee.cameraAutoUpdate===!0&&Ee.updateCamera(le),le=Ee.getCamera()),z.isScene===!0&&z.onBeforeRender(v,z,le,T),y=O.get(z,M.length),y.init(),M.push(y),ie.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),D.setFromProjectionMatrix(ie),te=this.localClippingEnabled,k=fe.init(this.clippingPlanes,te),m=V.get(z,S.length),m.init(),S.push(m),Tn(z,le,0,v.sortObjects),m.finish(),v.sortObjects===!0&&m.sort(J,X),k===!0&&fe.beginShadows();const _e=y.state.shadowsArray;if(Ce.render(_e,z,le),k===!0&&fe.endShadows(),this.info.autoReset===!0&&this.info.reset(),be.render(m,z),y.setupLights(v.useLegacyLights),le.isArrayCamera){const oe=le.cameras;for(let Ae=0,$e=oe.length;Ae<$e;Ae++){const nt=oe[Ae];ur(m,z,nt,nt.viewport)}}else ur(m,z,le);T!==null&&(xe.updateMultisampleRenderTarget(T),xe.updateRenderTargetMipmap(T)),z.isScene===!0&&z.onAfterRender(v,z,le),Xe.resetDefaultState(),P=-1,R=null,M.pop(),M.length>0?y=M[M.length-1]:y=null,S.pop(),S.length>0?m=S[S.length-1]:m=null};function Tn(z,le,_e,oe){if(z.visible===!1)return;if(z.layers.test(le.layers)){if(z.isGroup)_e=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(le);else if(z.isLight)y.pushLight(z),z.castShadow&&y.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||D.intersectsSprite(z)){oe&&re.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ie);const nt=We.update(z),rt=z.material;rt.visible&&m.push(z,nt,rt,_e,re.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||D.intersectsObject(z))){z.isSkinnedMesh&&z.skeleton.frame!==ue.render.frame&&(z.skeleton.update(),z.skeleton.frame=ue.render.frame);const nt=We.update(z),rt=z.material;if(oe&&(nt.boundingSphere===null&&nt.computeBoundingSphere(),re.copy(nt.boundingSphere.center).applyMatrix4(z.matrixWorld).applyMatrix4(ie)),Array.isArray(rt)){const ft=nt.groups;for(let vt=0,yt=ft.length;vt<yt;vt++){const At=ft[vt],Dt=rt[At.materialIndex];Dt&&Dt.visible&&m.push(z,nt,Dt,_e,re.z,At)}}else rt.visible&&m.push(z,nt,rt,_e,re.z,null)}}const $e=z.children;for(let nt=0,rt=$e.length;nt<rt;nt++)Tn($e[nt],le,_e,oe)}function ur(z,le,_e,oe){const Ae=z.opaque,$e=z.transmissive,nt=z.transparent;y.setupLightsView(_e),k===!0&&fe.setGlobalState(v.clippingPlanes,_e),$e.length>0&&Jt(Ae,$e,le,_e),oe&&he.viewport(L.copy(oe)),Ae.length>0&&ei(Ae,le,_e),$e.length>0&&ei($e,le,_e),nt.length>0&&ei(nt,le,_e),he.buffers.depth.setTest(!0),he.buffers.depth.setMask(!0),he.buffers.color.setMask(!0),he.setPolygonOffset(!1)}function Jt(z,le,_e,oe){if(K===null){const rt=ce.isWebGL2;K=new Ir(1024,1024,{generateMipmaps:!0,type:Re.has("EXT_color_buffer_half_float")?wr:Ns,minFilter:ts,samples:rt&&a===!0?4:0})}const Ae=v.getRenderTarget();v.setRenderTarget(K),v.clear();const $e=v.toneMapping;v.toneMapping=br,ei(z,_e,oe),xe.updateMultisampleRenderTarget(K),xe.updateRenderTargetMipmap(K);let nt=!1;for(let rt=0,ft=le.length;rt<ft;rt++){const vt=le[rt],yt=vt.object,At=vt.geometry,Dt=vt.material,Dn=vt.group;if(Dt.side===Ni&&yt.layers.test(oe.layers)){const Ei=Dt.side;Dt.side=ai,Dt.needsUpdate=!0,Vi(yt,_e,oe,At,Dt,Dn),Dt.side=Ei,Dt.needsUpdate=!0,nt=!0}}nt===!0&&(xe.updateMultisampleRenderTarget(K),xe.updateRenderTargetMipmap(K)),v.setRenderTarget(Ae),v.toneMapping=$e}function ei(z,le,_e){const oe=le.isScene===!0?le.overrideMaterial:null;for(let Ae=0,$e=z.length;Ae<$e;Ae++){const nt=z[Ae],rt=nt.object,ft=nt.geometry,vt=oe===null?nt.material:oe,yt=nt.group;rt.layers.test(_e.layers)&&Vi(rt,le,_e,ft,vt,yt)}}function Vi(z,le,_e,oe,Ae,$e){z.onBeforeRender(v,le,_e,oe,Ae,$e),z.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),Ae.onBeforeRender(v,le,_e,oe,z,$e),Ae.transparent===!0&&Ae.side===Ni&&Ae.forceSinglePass===!1?(Ae.side=ai,Ae.needsUpdate=!0,v.renderBufferDirect(_e,le,oe,Ae,z,$e),Ae.side=es,Ae.needsUpdate=!0,v.renderBufferDirect(_e,le,oe,Ae,z,$e),Ae.side=Ni):v.renderBufferDirect(_e,le,oe,Ae,z,$e),z.onAfterRender(v,le,_e,oe,Ae,$e)}function Da(z,le,_e){le.isScene!==!0&&(le=we);const oe=se.get(z),Ae=y.state.lights,$e=y.state.shadowsArray,nt=Ae.state.version,rt=it.getParameters(z,Ae.state,$e,le,_e),ft=it.getProgramCacheKey(rt);let vt=oe.programs;oe.environment=z.isMeshStandardMaterial?le.environment:null,oe.fog=le.fog,oe.envMap=(z.isMeshStandardMaterial?Ie:De).get(z.envMap||oe.environment),vt===void 0&&(z.addEventListener("dispose",Bt),vt=new Map,oe.programs=vt);let yt=vt.get(ft);if(yt!==void 0){if(oe.currentProgram===yt&&oe.lightsStateVersion===nt)return zf(z,rt),yt}else rt.uniforms=it.getUniforms(z),z.onBuild(_e,rt,v),z.onBeforeCompile(rt,v),yt=it.acquireProgram(rt,ft),vt.set(ft,yt),oe.uniforms=rt.uniforms;const At=oe.uniforms;(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(At.clippingPlanes=fe.uniform),zf(z,rt),oe.needsLights=vm(z),oe.lightsStateVersion=nt,oe.needsLights&&(At.ambientLightColor.value=Ae.state.ambient,At.lightProbe.value=Ae.state.probe,At.directionalLights.value=Ae.state.directional,At.directionalLightShadows.value=Ae.state.directionalShadow,At.spotLights.value=Ae.state.spot,At.spotLightShadows.value=Ae.state.spotShadow,At.rectAreaLights.value=Ae.state.rectArea,At.ltc_1.value=Ae.state.rectAreaLTC1,At.ltc_2.value=Ae.state.rectAreaLTC2,At.pointLights.value=Ae.state.point,At.pointLightShadows.value=Ae.state.pointShadow,At.hemisphereLights.value=Ae.state.hemi,At.directionalShadowMap.value=Ae.state.directionalShadowMap,At.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,At.spotShadowMap.value=Ae.state.spotShadowMap,At.spotLightMatrix.value=Ae.state.spotLightMatrix,At.spotLightMap.value=Ae.state.spotLightMap,At.pointShadowMap.value=Ae.state.pointShadowMap,At.pointShadowMatrix.value=Ae.state.pointShadowMatrix);const Dt=yt.getUniforms(),Dn=lp.seqWithValue(Dt.seq,At);return oe.currentProgram=yt,oe.uniformsList=Dn,yt}function zf(z,le){const _e=se.get(z);_e.outputColorSpace=le.outputColorSpace,_e.instancing=le.instancing,_e.skinning=le.skinning,_e.morphTargets=le.morphTargets,_e.morphNormals=le.morphNormals,_e.morphColors=le.morphColors,_e.morphTargetsCount=le.morphTargetsCount,_e.numClippingPlanes=le.numClippingPlanes,_e.numIntersection=le.numClipIntersection,_e.vertexAlphas=le.vertexAlphas,_e.vertexTangents=le.vertexTangents,_e.toneMapping=le.toneMapping}function Hf(z,le,_e,oe,Ae){le.isScene!==!0&&(le=we),xe.resetTextureUnits();const $e=le.fog,nt=oe.isMeshStandardMaterial?le.environment:null,rt=T===null?v.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Lr,ft=(oe.isMeshStandardMaterial?Ie:De).get(oe.envMap||nt),vt=oe.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,yt=!!oe.normalMap&&!!_e.attributes.tangent,At=!!_e.morphAttributes.position,Dt=!!_e.morphAttributes.normal,Dn=!!_e.morphAttributes.color,Ei=oe.toneMapped?v.toneMapping:br,cr=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Gt=cr!==void 0?cr.length:0,St=se.get(oe),Io=y.state.lights;if(k===!0&&(te===!0||z!==R)){const zt=z===R&&oe.id===P;fe.setState(oe,z,zt)}let hn=!1;oe.version===St.__version?(St.needsLights&&St.lightsStateVersion!==Io.state.version||St.outputColorSpace!==rt||Ae.isInstancedMesh&&St.instancing===!1||!Ae.isInstancedMesh&&St.instancing===!0||Ae.isSkinnedMesh&&St.skinning===!1||!Ae.isSkinnedMesh&&St.skinning===!0||St.envMap!==ft||oe.fog===!0&&St.fog!==$e||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==fe.numPlanes||St.numIntersection!==fe.numIntersection)||St.vertexAlphas!==vt||St.vertexTangents!==yt||St.morphTargets!==At||St.morphNormals!==Dt||St.morphColors!==Dn||St.toneMapping!==Ei||ce.isWebGL2===!0&&St.morphTargetsCount!==Gt)&&(hn=!0):(hn=!0,St.__version=oe.version);let fr=St.currentProgram;hn===!0&&(fr=Da(oe,le,Ae));let is=!1,ci=!1,Ot=!1;const dt=fr.getUniforms(),Hn=St.uniforms;if(he.useProgram(fr.program)&&(is=!0,ci=!0,Ot=!0),oe.id!==P&&(P=oe.id,ci=!0),is||R!==z){if(dt.setValue(U,"projectionMatrix",z.projectionMatrix),ce.logarithmicDepthBuffer&&dt.setValue(U,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),R!==z&&(R=z,ci=!0,Ot=!0),oe.isShaderMaterial||oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshStandardMaterial||oe.envMap){const zt=dt.map.cameraPosition;zt!==void 0&&zt.setValue(U,re.setFromMatrixPosition(z.matrixWorld))}(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&dt.setValue(U,"isOrthographic",z.isOrthographicCamera===!0),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial||oe.isShadowMaterial||Ae.isSkinnedMesh)&&dt.setValue(U,"viewMatrix",z.matrixWorldInverse)}if(Ae.isSkinnedMesh){dt.setOptional(U,Ae,"bindMatrix"),dt.setOptional(U,Ae,"bindMatrixInverse");const zt=Ae.skeleton;zt&&(ce.floatVertexTextures?(zt.boneTexture===null&&zt.computeBoneTexture(),dt.setValue(U,"boneTexture",zt.boneTexture,xe),dt.setValue(U,"boneTextureSize",zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const pn=_e.morphAttributes;if((pn.position!==void 0||pn.normal!==void 0||pn.color!==void 0&&ce.isWebGL2===!0)&&Ue.update(Ae,_e,fr),(ci||St.receiveShadow!==Ae.receiveShadow)&&(St.receiveShadow=Ae.receiveShadow,dt.setValue(U,"receiveShadow",Ae.receiveShadow)),oe.isMeshGouraudMaterial&&oe.envMap!==null&&(Hn.envMap.value=ft,Hn.flipEnvMap.value=ft.isCubeTexture&&ft.isRenderTargetTexture===!1?-1:1),ci&&(dt.setValue(U,"toneMappingExposure",v.toneMappingExposure),St.needsLights&&Mu(Hn,Ot),$e&&oe.fog===!0&&xt.refreshFogUniforms(Hn,$e),xt.refreshMaterialUniforms(Hn,oe,G,j,K),lp.upload(U,St.uniformsList,Hn,xe)),oe.isShaderMaterial&&oe.uniformsNeedUpdate===!0&&(lp.upload(U,St.uniformsList,Hn,xe),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&dt.setValue(U,"center",Ae.center),dt.setValue(U,"modelViewMatrix",Ae.modelViewMatrix),dt.setValue(U,"normalMatrix",Ae.normalMatrix),dt.setValue(U,"modelMatrix",Ae.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const zt=oe.uniformsGroups;for(let dr=0,ks=zt.length;dr<ks;dr++)if(ce.isWebGL2){const Un=zt[dr];Y.update(Un,fr),Y.bind(Un,fr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fr}function Mu(z,le){z.ambientLightColor.needsUpdate=le,z.lightProbe.needsUpdate=le,z.directionalLights.needsUpdate=le,z.directionalLightShadows.needsUpdate=le,z.pointLights.needsUpdate=le,z.pointLightShadows.needsUpdate=le,z.spotLights.needsUpdate=le,z.spotLightShadows.needsUpdate=le,z.rectAreaLights.needsUpdate=le,z.hemisphereLights.needsUpdate=le}function vm(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(z,le,_e){se.get(z.texture).__webglTexture=le,se.get(z.depthTexture).__webglTexture=_e;const oe=se.get(z);oe.__hasExternalTextures=!0,oe.__hasExternalTextures&&(oe.__autoAllocateDepthBuffer=_e===void 0,oe.__autoAllocateDepthBuffer||Re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(z,le){const _e=se.get(z);_e.__webglFramebuffer=le,_e.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(z,le=0,_e=0){T=z,x=le,E=_e;let oe=!0,Ae=null,$e=!1,nt=!1;if(z){const ft=se.get(z);ft.__useDefaultFramebuffer!==void 0?(he.bindFramebuffer(U.FRAMEBUFFER,null),oe=!1):ft.__webglFramebuffer===void 0?xe.setupRenderTarget(z):ft.__hasExternalTextures&&xe.rebindTextures(z,se.get(z.texture).__webglTexture,se.get(z.depthTexture).__webglTexture);const vt=z.texture;(vt.isData3DTexture||vt.isDataArrayTexture||vt.isCompressedArrayTexture)&&(nt=!0);const yt=se.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Ae=yt[le],$e=!0):ce.isWebGL2&&z.samples>0&&xe.useMultisampledRTT(z)===!1?Ae=se.get(z).__webglMultisampledFramebuffer:Ae=yt,L.copy(z.viewport),C.copy(z.scissor),I=z.scissorTest}else L.copy(ee).multiplyScalar(G).floor(),C.copy(W).multiplyScalar(G).floor(),I=N;if(he.bindFramebuffer(U.FRAMEBUFFER,Ae)&&ce.drawBuffers&&oe&&he.drawBuffers(z,Ae),he.viewport(L),he.scissor(C),he.setScissorTest(I),$e){const ft=se.get(z.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+le,ft.__webglTexture,_e)}else if(nt){const ft=se.get(z.texture),vt=le||0;U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,ft.__webglTexture,_e||0,vt)}P=-1},this.readRenderTargetPixels=function(z,le,_e,oe,Ae,$e,nt){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let rt=se.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&nt!==void 0&&(rt=rt[nt]),rt){he.bindFramebuffer(U.FRAMEBUFFER,rt);try{const ft=z.texture,vt=ft.format,yt=ft.type;if(vt!==vi&&ye.convert(vt)!==U.getParameter(U.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const At=yt===wr&&(Re.has("EXT_color_buffer_half_float")||ce.isWebGL2&&Re.has("EXT_color_buffer_float"));if(yt!==Ns&&ye.convert(yt)!==U.getParameter(U.IMPLEMENTATION_COLOR_READ_TYPE)&&!(yt===sr&&(ce.isWebGL2||Re.has("OES_texture_float")||Re.has("WEBGL_color_buffer_float")))&&!At){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=z.width-oe&&_e>=0&&_e<=z.height-Ae&&U.readPixels(le,_e,oe,Ae,ye.convert(vt),ye.convert(yt),$e)}finally{const ft=T!==null?se.get(T).__webglFramebuffer:null;he.bindFramebuffer(U.FRAMEBUFFER,ft)}}},this.copyFramebufferToTexture=function(z,le,_e=0){const oe=Math.pow(2,-_e),Ae=Math.floor(le.image.width*oe),$e=Math.floor(le.image.height*oe);xe.setTexture2D(le,0),U.copyTexSubImage2D(U.TEXTURE_2D,_e,0,0,z.x,z.y,Ae,$e),he.unbindTexture()},this.copyTextureToTexture=function(z,le,_e,oe=0){const Ae=le.image.width,$e=le.image.height,nt=ye.convert(_e.format),rt=ye.convert(_e.type);xe.setTexture2D(_e,0),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,_e.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,_e.unpackAlignment),le.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,oe,z.x,z.y,Ae,$e,nt,rt,le.image.data):le.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,oe,z.x,z.y,le.mipmaps[0].width,le.mipmaps[0].height,nt,le.mipmaps[0].data):U.texSubImage2D(U.TEXTURE_2D,oe,z.x,z.y,nt,rt,le.image),oe===0&&_e.generateMipmaps&&U.generateMipmap(U.TEXTURE_2D),he.unbindTexture()},this.copyTextureToTexture3D=function(z,le,_e,oe,Ae=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=z.max.x-z.min.x+1,nt=z.max.y-z.min.y+1,rt=z.max.z-z.min.z+1,ft=ye.convert(oe.format),vt=ye.convert(oe.type);let yt;if(oe.isData3DTexture)xe.setTexture3D(oe,0),yt=U.TEXTURE_3D;else if(oe.isDataArrayTexture)xe.setTexture2DArray(oe,0),yt=U.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,oe.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,oe.unpackAlignment);const At=U.getParameter(U.UNPACK_ROW_LENGTH),Dt=U.getParameter(U.UNPACK_IMAGE_HEIGHT),Dn=U.getParameter(U.UNPACK_SKIP_PIXELS),Ei=U.getParameter(U.UNPACK_SKIP_ROWS),cr=U.getParameter(U.UNPACK_SKIP_IMAGES),Gt=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;U.pixelStorei(U.UNPACK_ROW_LENGTH,Gt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Gt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,z.min.x),U.pixelStorei(U.UNPACK_SKIP_ROWS,z.min.y),U.pixelStorei(U.UNPACK_SKIP_IMAGES,z.min.z),_e.isDataTexture||_e.isData3DTexture?U.texSubImage3D(yt,Ae,le.x,le.y,le.z,$e,nt,rt,ft,vt,Gt.data):_e.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),U.compressedTexSubImage3D(yt,Ae,le.x,le.y,le.z,$e,nt,rt,ft,Gt.data)):U.texSubImage3D(yt,Ae,le.x,le.y,le.z,$e,nt,rt,ft,vt,Gt),U.pixelStorei(U.UNPACK_ROW_LENGTH,At),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Dt),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Dn),U.pixelStorei(U.UNPACK_SKIP_ROWS,Ei),U.pixelStorei(U.UNPACK_SKIP_IMAGES,cr),Ae===0&&oe.generateMipmaps&&U.generateMipmap(yt),he.unbindTexture()},this.initTexture=function(z){z.isCubeTexture?xe.setTextureCube(z,0):z.isData3DTexture?xe.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?xe.setTexture2DArray(z,0):xe.setTexture2D(z,0),he.unbindTexture()},this.resetState=function(){x=0,E=0,T=null,he.reset(),Xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===st?Cs:yf}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Cs?st:Lr}}class GC extends V_{}GC.prototype.isWebGL1Renderer=!0;class lm{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fe(e),this.density=t}clone(){return new lm(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class um{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Fe(e),this.near=t,this.far=i}clone(){return new um(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class rf extends Ct{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Mf{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=tf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ki()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ii=new B;class Eo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ii.fromBufferAttribute(this,t),ii.applyMatrix4(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ii.fromBufferAttribute(this,t),ii.applyNormalMatrix(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ii.fromBufferAttribute(this,t),ii.transformDirection(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}setX(e,t){return this.normalized&&(t=gt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ui(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ui(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ui(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ui(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array),r=gt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=gt(t,this.array),i=gt(i,this.array),r=gt(r,this.array),s=gt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ut(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Eo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class G_ extends _n{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let cl;const tc=new B,fl=new B,dl=new B,hl=new Se,nc=new Se,WC=new ot,xh=new B,ic=new B,Ah=new B,ZS=new Se,v0=new Se,KS=new Se;class jC extends Ct{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",cl===void 0){cl=new ht;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Mf(t,5);cl.setIndex([0,1,2,0,2,3]),cl.setAttribute("position",new Eo(i,3,0,!1)),cl.setAttribute("uv",new Eo(i,2,3,!1))}this.geometry=cl,this.material=e!==void 0?e:new G_,this.center=new Se(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fl.setFromMatrixScale(this.matrixWorld),WC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),dl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fl.multiplyScalar(-dl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Sh(xh.set(-.5,-.5,0),dl,o,fl,r,s),Sh(ic.set(.5,-.5,0),dl,o,fl,r,s),Sh(Ah.set(.5,.5,0),dl,o,fl,r,s),ZS.set(0,0),v0.set(1,0),KS.set(1,1);let a=e.ray.intersectTriangle(xh,ic,Ah,!1,tc);if(a===null&&(Sh(ic.set(-.5,.5,0),dl,o,fl,r,s),v0.set(0,1),a=e.ray.intersectTriangle(xh,Ah,ic,!1,tc),a===null))return;const u=e.ray.origin.distanceTo(tc);u<e.near||u>e.far||t.push({distance:u,point:tc.clone(),uv:gi.getInterpolation(tc,xh,ic,Ah,ZS,v0,KS,new Se),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Sh(n,e,t,i,r,s){hl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(nc.x=s*hl.x-r*hl.y,nc.y=r*hl.x+s*hl.y):nc.copy(hl),n.copy(e),n.x+=nc.x,n.y+=nc.y,n.applyMatrix4(WC)}const Mh=new B,$S=new B;class XC extends Ct{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Mh.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Mh);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Mh.setFromMatrixPosition(e.matrixWorld),$S.setFromMatrixPosition(this.matrixWorld);const i=Mh.distanceTo($S)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const eM=new B,tM=new Ft,nM=new Ft,HO=new B,iM=new ot,pl=new B;class W_ extends Mn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ot,this.bindMatrixInverse=new ot,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ur),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)pl.fromBufferAttribute(t,i),this.applyBoneTransform(i,pl),this.boundingBox.expandByPoint(pl)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Or),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)pl.fromBufferAttribute(t,i),this.applyBoneTransform(i,pl),this.boundingSphere.expandByPoint(pl)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ft,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;tM.fromBufferAttribute(r.attributes.skinIndex,e),nM.fromBufferAttribute(r.attributes.skinWeight,e),eM.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=nM.getComponent(s);if(o!==0){const a=tM.getComponent(s);iM.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(HO.copy(eM).applyMatrix4(iM),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class cm extends Ct{constructor(){super(),this.isBone=!0,this.type="Bone"}}class jl extends Kt{constructor(e=null,t=1,i=1,r,s,o,a,u,f=ln,d=ln,h,p){super(null,o,a,u,f,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const rM=new ot,VO=new ot;class Ef{constructor(e=[],t=[]){this.uuid=ki(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ot;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:VO;rM.multiplyMatrices(a,t[s]),rM.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Ef(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=CC(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new jl(t,e,e,vi,sr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new cm),this.bones.push(o),this.boneInverses.push(new ot().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class su extends Ut{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ml=new ot,sM=new ot,Eh=[],oM=new Ur,GO=new ot,rc=new Mn,sc=new Or;class j_ extends Mn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new su(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,GO)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ur),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,ml),oM.copy(e.boundingBox).applyMatrix4(ml),this.boundingBox.union(oM)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Or),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,ml),sc.copy(e.boundingSphere).applyMatrix4(ml),this.boundingSphere.union(sc)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(rc.geometry=this.geometry,rc.material=this.material,rc.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sc.copy(this.boundingSphere),sc.applyMatrix4(i),e.ray.intersectsSphere(sc)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,ml),sM.multiplyMatrices(i,ml),rc.matrixWorld=sM,rc.raycast(e,Eh);for(let o=0,a=Eh.length;o<a;o++){const u=Eh[o];u.instanceId=s,u.object=this,t.push(u)}Eh.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new su(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class $n extends _n{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const aM=new B,lM=new B,uM=new ot,y0=new _f,wh=new Or;class Ds extends Ct{constructor(e=new ht,t=new $n){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)aM.fromBufferAttribute(t,r-1),lM.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=aM.distanceTo(lM);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),wh.copy(i.boundingSphere),wh.applyMatrix4(r),wh.radius+=s,e.ray.intersectsSphere(wh)===!1)return;uM.copy(r).invert(),y0.copy(e.ray).applyMatrix4(uM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,f=new B,d=new B,h=new B,p=new B,m=this.isLineSegments?2:1,y=i.index,M=i.attributes.position;if(y!==null){const v=Math.max(0,o.start),A=Math.min(y.count,o.start+o.count);for(let x=v,E=A-1;x<E;x+=m){const T=y.getX(x),P=y.getX(x+1);if(f.fromBufferAttribute(M,T),d.fromBufferAttribute(M,P),y0.distanceSqToSegment(f,d,p,h)>u)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||t.push({distance:L,point:h.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),A=Math.min(M.count,o.start+o.count);for(let x=v,E=A-1;x<E;x+=m){if(f.fromBufferAttribute(M,x),d.fromBufferAttribute(M,x+1),y0.distanceSqToSegment(f,d,p,h)>u)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const cM=new B,fM=new B;class Fr extends Ds{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)cM.fromBufferAttribute(t,r),fM.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+cM.distanceTo(fM);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class X_ extends Ds{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class fm extends _n{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const dM=new ot,py=new _f,Th=new Or,Ch=new B;class Y_ extends Ct{constructor(e=new ht,t=new fm){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Th.copy(i.boundingSphere),Th.applyMatrix4(r),Th.radius+=s,e.ray.intersectsSphere(Th)===!1)return;dM.copy(r).invert(),py.copy(e.ray).applyMatrix4(dM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,f=i.index,h=i.attributes.position;if(f!==null){const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,S=m;y<S;y++){const M=f.getX(y);Ch.fromBufferAttribute(h,M),hM(Ch,M,u,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,S=m;y<S;y++)Ch.fromBufferAttribute(h,y),hM(Ch,y,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function hM(n,e,t,i,r,s,o){const a=py.distanceSqToPoint(n);if(a<t){const u=new B;py.closestPointToPoint(n,u),u.applyMatrix4(i);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(a),point:u,index:e,face:null,object:o})}}class WO extends Kt{constructor(e,t,i,r,s,o,a,u,f){super(e,t,i,r,s,o,a,u,f),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Yt,this.magFilter=s!==void 0?s:Yt,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jO extends Kt{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=ln,this.minFilter=ln,this.generateMipmaps=!1,this.needsUpdate=!0}}class q_ extends Kt{constructor(e,t,i,r,s,o,a,u,f,d,h,p){super(null,o,a,u,f,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class XO extends q_{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=kn}}class YO extends Kt{constructor(e,t,i,r,s,o,a,u,f){super(e,t,i,r,s,o,a,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class kr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,u=s-1,f;for(;a<=u;)if(r=Math.floor(a+(u-a)/2),f=i[r]-o,f<0)a=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),u=t||(o.isVector2?new Se:new B);return u.copy(a).sub(o).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new B,r=[],s=[],o=[],a=new B,u=new ot;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new B)}s[0]=new B,o[0]=new B;let f=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=f&&(f=d,i.set(1,0,0)),h<=f&&(f=h,i.set(0,1,0)),p<=f&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(un(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(u.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(un(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(u.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class dm extends kr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=u}getPoint(e,t){const i=t||new Se,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=u-this.aX,m=f-this.aY;u=p*d-m*h+this.aX,f=p*h+m*d+this.aY}return i.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class YC extends dm{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function J_(){let n=0,e=0,t=0,i=0;function r(s,o,a,u){n=s,e=a,t=-3*s+3*o-2*a-u,i=2*s-2*o+a+u}return{initCatmullRom:function(s,o,a,u,f){r(o,a,f*(a-s),f*(u-o))},initNonuniformCatmullRom:function(s,o,a,u,f,d,h){let p=(o-s)/f-(a-s)/(f+d)+(a-o)/d,m=(a-o)/d-(u-o)/(d+h)+(u-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const bh=new B,_0=new J_,x0=new J_,A0=new J_;class qC extends kr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new B){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:u===0&&a===s-1&&(a=s-2,u=1);let f,d;this.closed||a>0?f=r[(a-1)%s]:(bh.subVectors(r[0],r[1]).add(r[0]),f=bh);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(bh.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=bh),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(f.distanceToSquared(h),m),S=Math.pow(h.distanceToSquared(p),m),M=Math.pow(p.distanceToSquared(d),m);S<1e-4&&(S=1),y<1e-4&&(y=S),M<1e-4&&(M=S),_0.initNonuniformCatmullRom(f.x,h.x,p.x,d.x,y,S,M),x0.initNonuniformCatmullRom(f.y,h.y,p.y,d.y,y,S,M),A0.initNonuniformCatmullRom(f.z,h.z,p.z,d.z,y,S,M)}else this.curveType==="catmullrom"&&(_0.initCatmullRom(f.x,h.x,p.x,d.x,this.tension),x0.initCatmullRom(f.y,h.y,p.y,d.y,this.tension),A0.initCatmullRom(f.z,h.z,p.z,d.z,this.tension));return i.set(_0.calc(u),x0.calc(u),A0.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new B().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function pM(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,u=n*a;return(2*t-2*i+s+o)*u+(-3*t+3*i-2*s-o)*a+s*n+t}function qO(n,e){const t=1-n;return t*t*e}function JO(n,e){return 2*(1-n)*n*e}function QO(n,e){return n*n*e}function Ic(n,e,t,i){return qO(n,e)+JO(n,t)+QO(n,i)}function ZO(n,e){const t=1-n;return t*t*t*e}function KO(n,e){const t=1-n;return 3*t*t*n*e}function $O(n,e){return 3*(1-n)*n*n*e}function eF(n,e){return n*n*n*e}function Nc(n,e,t,i,r){return ZO(n,e)+KO(n,t)+$O(n,i)+eF(n,r)}class Q_ extends kr{constructor(e=new Se,t=new Se,i=new Se,r=new Se){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Se){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Nc(e,r.x,s.x,o.x,a.x),Nc(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class JC extends kr{constructor(e=new B,t=new B,i=new B,r=new B){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new B){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Nc(e,r.x,s.x,o.x,a.x),Nc(e,r.y,s.y,o.y,a.y),Nc(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hm extends kr{constructor(e=new Se,t=new Se){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Se){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Se){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QC extends kr{constructor(e=new B,t=new B){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new B){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new B){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Z_ extends kr{constructor(e=new Se,t=new Se,i=new Se){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Se){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Ic(e,r.x,s.x,o.x),Ic(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class K_ extends kr{constructor(e=new B,t=new B,i=new B){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new B){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Ic(e,r.x,s.x,o.x),Ic(e,r.y,s.y,o.y),Ic(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $_ extends kr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Se){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,u=r[o===0?o:o-1],f=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(pM(a,u.x,f.x,d.x,h.x),pM(a,u.y,f.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Se().fromArray(r))}return this}}var ex=Object.freeze({__proto__:null,ArcCurve:YC,CatmullRomCurve3:qC,CubicBezierCurve:Q_,CubicBezierCurve3:JC,EllipseCurve:dm,LineCurve:hm,LineCurve3:QC,QuadraticBezierCurve:Z_,QuadraticBezierCurve3:K_,SplineCurve:$_});class ZC extends kr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new hm(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],u=a.getLength(),f=u===0?0:1-o/u;return a.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(a);for(let f=0;f<u.length;f++){const d=u[f];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new ex[r.type]().fromJSON(r))}return this}}class sf extends ZC{constructor(e){super(),this.type="Path",this.currentPoint=new Se,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new hm(this.currentPoint.clone(),new Se(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new Z_(this.currentPoint.clone(),new Se(e,t),new Se(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new Q_(this.currentPoint.clone(),new Se(e,t),new Se(i,r),new Se(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new $_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+a,t+u,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,u){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+f,t+d,i,r,s,o,a,u),this}absellipse(e,t,i,r,s,o,a,u){const f=new dm(e,t,i,r,s,o,a,u);if(this.curves.length>0){const h=f.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(f);const d=f.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vu extends ht{constructor(e=[new Se(0,-.5),new Se(.5,0),new Se(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=un(r,0,Math.PI*2);const s=[],o=[],a=[],u=[],f=[],d=1/t,h=new B,p=new Se,m=new B,y=new B,S=new B;let M=0,v=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:M=e[A+1].x-e[A].x,v=e[A+1].y-e[A].y,m.x=v*1,m.y=-M,m.z=v*0,S.copy(m),m.normalize(),u.push(m.x,m.y,m.z);break;case e.length-1:u.push(S.x,S.y,S.z);break;default:M=e[A+1].x-e[A].x,v=e[A+1].y-e[A].y,m.x=v*1,m.y=-M,m.z=v*0,y.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),u.push(m.x,m.y,m.z),S.copy(y)}for(let A=0;A<=t;A++){const x=i+A*d*r,E=Math.sin(x),T=Math.cos(x);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*E,h.y=e[P].y,h.z=e[P].x*T,o.push(h.x,h.y,h.z),p.x=A/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=u[3*P+0]*E,L=u[3*P+1],C=u[3*P+0]*T;f.push(R,L,C)}}for(let A=0;A<t;A++)for(let x=0;x<e.length-1;x++){const E=x+A*e.length,T=E,P=E+e.length,R=E+e.length+1,L=E+1;s.push(T,P,L),s.push(R,L,P)}this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("uv",new Ye(a,2)),this.setAttribute("normal",new Ye(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vu(e.points,e.segments,e.phiStart,e.phiLength)}}class wf extends vu{constructor(e=1,t=1,i=4,r=8){const s=new sf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new wf(e.radius,e.length,e.capSegments,e.radialSegments)}}class Tf extends ht{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],u=[],f=new B,d=new Se;o.push(0,0,0),a.push(0,0,1),u.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;f.x=e*Math.cos(m),f.y=e*Math.sin(m),o.push(f.x,f.y,f.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,u.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("normal",new Ye(a,3)),this.setAttribute("uv",new Ye(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pa extends ht{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:u};const f=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const S=[],M=i/2;let v=0;A(),o===!1&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(d),this.setAttribute("position",new Ye(h,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function A(){const E=new B,T=new B;let P=0;const R=(t-e)/i;for(let L=0;L<=s;L++){const C=[],I=L/s,F=I*(t-e)+e;for(let j=0;j<=r;j++){const G=j/r,J=G*u+a,X=Math.sin(J),ee=Math.cos(J);T.x=F*X,T.y=-I*i+M,T.z=F*ee,h.push(T.x,T.y,T.z),E.set(X,R,ee).normalize(),p.push(E.x,E.y,E.z),m.push(G,1-I),C.push(y++)}S.push(C)}for(let L=0;L<r;L++)for(let C=0;C<s;C++){const I=S[C][L],F=S[C+1][L],j=S[C+1][L+1],G=S[C][L+1];d.push(I,F,G),d.push(F,j,G),P+=6}f.addGroup(v,P,0),v+=P}function x(E){const T=y,P=new Se,R=new B;let L=0;const C=E===!0?e:t,I=E===!0?1:-1;for(let j=1;j<=r;j++)h.push(0,M*I,0),p.push(0,I,0),m.push(.5,.5),y++;const F=y;for(let j=0;j<=r;j++){const J=j/r*u+a,X=Math.cos(J),ee=Math.sin(J);R.x=C*ee,R.y=M*I,R.z=C*X,h.push(R.x,R.y,R.z),p.push(0,I,0),P.x=X*.5+.5,P.y=ee*.5*I+.5,m.push(P.x,P.y),y++}for(let j=0;j<r;j++){const G=T+j,J=F+j;E===!0?d.push(J,J+1,G):d.push(J+1,J,G),L+=3}f.addGroup(v,L,E===!0?1:2),v+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Cf extends Pa{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Cf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Os extends ht{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),f(i),d(),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(s.slice(),3)),this.setAttribute("uv",new Ye(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const x=new B,E=new B,T=new B;for(let P=0;P<t.length;P+=3)m(t[P+0],x),m(t[P+1],E),m(t[P+2],T),u(x,E,T,A)}function u(A,x,E,T){const P=T+1,R=[];for(let L=0;L<=P;L++){R[L]=[];const C=A.clone().lerp(E,L/P),I=x.clone().lerp(E,L/P),F=P-L;for(let j=0;j<=F;j++)j===0&&L===P?R[L][j]=C:R[L][j]=C.clone().lerp(I,j/F)}for(let L=0;L<P;L++)for(let C=0;C<2*(P-L)-1;C++){const I=Math.floor(C/2);C%2===0?(p(R[L][I+1]),p(R[L+1][I]),p(R[L][I])):(p(R[L][I+1]),p(R[L+1][I+1]),p(R[L+1][I]))}}function f(A){const x=new B;for(let E=0;E<s.length;E+=3)x.x=s[E+0],x.y=s[E+1],x.z=s[E+2],x.normalize().multiplyScalar(A),s[E+0]=x.x,s[E+1]=x.y,s[E+2]=x.z}function d(){const A=new B;for(let x=0;x<s.length;x+=3){A.x=s[x+0],A.y=s[x+1],A.z=s[x+2];const E=M(A)/2/Math.PI+.5,T=v(A)/Math.PI+.5;o.push(E,1-T)}y(),h()}function h(){for(let A=0;A<o.length;A+=6){const x=o[A+0],E=o[A+2],T=o[A+4],P=Math.max(x,E,T),R=Math.min(x,E,T);P>.9&&R<.1&&(x<.2&&(o[A+0]+=1),E<.2&&(o[A+2]+=1),T<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,x){const E=A*3;x.x=e[E+0],x.y=e[E+1],x.z=e[E+2]}function y(){const A=new B,x=new B,E=new B,T=new B,P=new Se,R=new Se,L=new Se;for(let C=0,I=0;C<s.length;C+=9,I+=6){A.set(s[C+0],s[C+1],s[C+2]),x.set(s[C+3],s[C+4],s[C+5]),E.set(s[C+6],s[C+7],s[C+8]),P.set(o[I+0],o[I+1]),R.set(o[I+2],o[I+3]),L.set(o[I+4],o[I+5]),T.copy(A).add(x).add(E).divideScalar(3);const F=M(T);S(P,I+0,A,F),S(R,I+2,x,F),S(L,I+4,E,F)}}function S(A,x,E,T){T<0&&A.x===1&&(o[x]=A.x-1),E.x===0&&E.z===0&&(o[x]=T/2/Math.PI+.5)}function M(A){return Math.atan2(A.z,-A.x)}function v(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Os(e.vertices,e.indices,e.radius,e.details)}}class bf extends Os{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bf(e.radius,e.detail)}}const Rh=new B,Ph=new B,S0=new B,Lh=new gi;class KC extends ht{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(ma*t),o=e.getIndex(),a=e.getAttribute("position"),u=o?o.count:a.count,f=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<u;y+=3){o?(f[0]=o.getX(y),f[1]=o.getX(y+1),f[2]=o.getX(y+2)):(f[0]=y,f[1]=y+1,f[2]=y+2);const{a:S,b:M,c:v}=Lh;if(S.fromBufferAttribute(a,f[0]),M.fromBufferAttribute(a,f[1]),v.fromBufferAttribute(a,f[2]),Lh.getNormal(S0),h[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,h[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,h[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const x=(A+1)%3,E=h[A],T=h[x],P=Lh[d[A]],R=Lh[d[x]],L=`${E}_${T}`,C=`${T}_${E}`;C in p&&p[C]?(S0.dot(p[C].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[C]=null):L in p||(p[L]={index0:f[A],index1:f[x],normal:S0.clone()})}}for(const y in p)if(p[y]){const{index0:S,index1:M}=p[y];Rh.fromBufferAttribute(a,S),Ph.fromBufferAttribute(a,M),m.push(Rh.x,Rh.y,Rh.z),m.push(Ph.x,Ph.y,Ph.z)}this.setAttribute("position",new Ye(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class va extends sf{constructor(e){super(e),this.uuid=ki(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new sf().fromJSON(r))}return this}}const tF={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=$C(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,u,f,d,h,p,m;if(i&&(s=oF(n,e,s,t)),n.length>80*t){a=f=n[0],u=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<u&&(u=p),h>f&&(f=h),p>d&&(d=p);m=Math.max(f-a,d-u),m=m!==0?32767/m:0}return of(s,o,t,a,u,m,0),o}};function $C(n,e,t,i,r){let s,o;if(r===vF(n,e,t,i)>0)for(s=e;s<t;s+=i)o=mM(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=mM(s,n[s],n[s+1],o);return o&&pm(o,o.next)&&(lf(o),o=o.next),o}function Ta(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(pm(t,t.next)||tn(t.prev,t,t.next)===0)){if(lf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function of(n,e,t,i,r,s,o){if(!n)return;!o&&s&&fF(n,i,r,s);let a=n,u,f;for(;n.prev!==n.next;){if(u=n.prev,f=n.next,s?iF(n,i,r,s):nF(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),lf(n),n=f.next,a=f.next;continue}if(n=f,n===a){o?o===1?(n=rF(Ta(n),e,t),of(n,e,t,i,r,s,2)):o===2&&sF(n,e,t,i,r,s):of(Ta(n),e,t,i,r,s,1);break}}}function nF(n){const e=n.prev,t=n,i=n.next;if(tn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,u=t.y,f=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<u?a<f?a:f:u<f?u:f,p=r>s?r>o?r:o:s>o?s:o,m=a>u?a>f?a:f:u>f?u:f;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&Dl(r,a,s,u,o,f,y.x,y.y)&&tn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function iF(n,e,t,i){const r=n.prev,s=n,o=n.next;if(tn(r,s,o)>=0)return!1;const a=r.x,u=s.x,f=o.x,d=r.y,h=s.y,p=o.y,m=a<u?a<f?a:f:u<f?u:f,y=d<h?d<p?d:p:h<p?h:p,S=a>u?a>f?a:f:u>f?u:f,M=d>h?d>p?d:p:h>p?h:p,v=my(m,y,e,t,i),A=my(S,M,e,t,i);let x=n.prevZ,E=n.nextZ;for(;x&&x.z>=v&&E&&E.z<=A;){if(x.x>=m&&x.x<=S&&x.y>=y&&x.y<=M&&x!==r&&x!==o&&Dl(a,d,u,h,f,p,x.x,x.y)&&tn(x.prev,x,x.next)>=0||(x=x.prevZ,E.x>=m&&E.x<=S&&E.y>=y&&E.y<=M&&E!==r&&E!==o&&Dl(a,d,u,h,f,p,E.x,E.y)&&tn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;x&&x.z>=v;){if(x.x>=m&&x.x<=S&&x.y>=y&&x.y<=M&&x!==r&&x!==o&&Dl(a,d,u,h,f,p,x.x,x.y)&&tn(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;E&&E.z<=A;){if(E.x>=m&&E.x<=S&&E.y>=y&&E.y<=M&&E!==r&&E!==o&&Dl(a,d,u,h,f,p,E.x,E.y)&&tn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function rF(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!pm(r,s)&&e2(r,i,i.next,s)&&af(r,s)&&af(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),lf(i),lf(i.next),i=n=s),i=i.next}while(i!==n);return Ta(i)}function sF(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&pF(o,a)){let u=t2(o,a);o=Ta(o,o.next),u=Ta(u,u.next),of(o,e,t,i,r,s,0),of(u,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function oF(n,e,t,i){const r=[];let s,o,a,u,f;for(s=0,o=e.length;s<o;s++)a=e[s]*i,u=s<o-1?e[s+1]*i:n.length,f=$C(n,a,u,i,!1),f===f.next&&(f.steiner=!0),r.push(hF(f));for(r.sort(aF),s=0;s<r.length;s++)t=lF(r[s],t);return t}function aF(n,e){return n.x-e.x}function lF(n,e){const t=uF(n,e);if(!t)return e;const i=t2(t,n);return Ta(i,i.next),Ta(t,t.next)}function uF(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,u=r.x,f=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=u&&s!==t.x&&Dl(o<f?s:i,o,u,f,o<f?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),af(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&cF(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function cF(n,e){return tn(n.prev,n,e.prev)<0&&tn(e.next,n,n.next)<0}function fF(n,e,t,i){let r=n;do r.z===0&&(r.z=my(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,dF(r)}function dF(n){let e,t,i,r,s,o,a,u,f=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<f&&(a++,i=i.nextZ,!!i);e++);for(u=f;a>0||u>0&&i;)a!==0&&(u===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,u--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(o>1);return n}function my(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function hF(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Dl(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function pF(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!mF(n,e)&&(af(n,e)&&af(e,n)&&gF(n,e)&&(tn(n.prev,n,e.prev)||tn(n,e.prev,e))||pm(n,e)&&tn(n.prev,n,n.next)>0&&tn(e.prev,e,e.next)>0)}function tn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function pm(n,e){return n.x===e.x&&n.y===e.y}function e2(n,e,t,i){const r=Nh(tn(n,e,t)),s=Nh(tn(n,e,i)),o=Nh(tn(t,i,n)),a=Nh(tn(t,i,e));return!!(r!==s&&o!==a||r===0&&Ih(n,t,e)||s===0&&Ih(n,i,e)||o===0&&Ih(t,n,i)||a===0&&Ih(t,e,i))}function Ih(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Nh(n){return n>0?1:n<0?-1:0}function mF(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&e2(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function af(n,e){return tn(n.prev,n,n.next)<0?tn(n,e,n.next)>=0&&tn(n,n.prev,e)>=0:tn(n,e,n.prev)<0||tn(n,n.next,e)<0}function gF(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function t2(n,e){const t=new gy(n.i,n.x,n.y),i=new gy(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function mM(n,e,t,i){const r=new gy(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function lf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function gy(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vF(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class $r{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return $r.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];gM(e),vM(i,e);let o=e.length;t.forEach(gM);for(let u=0;u<t.length;u++)r.push(o),o+=t[u].length,vM(i,t[u]);const a=tF.triangulate(i,r);for(let u=0;u<a.length;u+=3)s.push(a.slice(u,u+3));return s}}function gM(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function vM(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Rf extends ht{constructor(e=new va([new Se(.5,.5),new Se(-.5,.5),new Se(-.5,-.5),new Se(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,u=e.length;a<u;a++){const f=e[a];o(f)}this.setAttribute("position",new Ye(r,3)),this.setAttribute("uv",new Ye(s,2)),this.computeVertexNormals();function o(a){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:yF;let x,E=!1,T,P,R,L;v&&(x=v.getSpacedPoints(d),E=!0,p=!1,T=v.computeFrenetFrames(d,!1),P=new B,R=new B,L=new B),p||(M=0,m=0,y=0,S=0);const C=a.extractPoints(f);let I=C.shape;const F=C.holes;if(!$r.isClockWise(I)){I=I.reverse();for(let ue=0,se=F.length;ue<se;ue++){const xe=F[ue];$r.isClockWise(xe)&&(F[ue]=xe.reverse())}}const G=$r.triangulateShape(I,F),J=I;for(let ue=0,se=F.length;ue<se;ue++){const xe=F[ue];I=I.concat(xe)}function X(ue,se,xe){return se||console.error("THREE.ExtrudeGeometry: vec does not exist"),ue.clone().addScaledVector(se,xe)}const ee=I.length,W=G.length;function N(ue,se,xe){let De,Ie,Ve;const qe=ue.x-se.x,We=ue.y-se.y,it=xe.x-ue.x,xt=xe.y-ue.y,V=qe*qe+We*We,O=qe*xt-We*it;if(Math.abs(O)>Number.EPSILON){const fe=Math.sqrt(V),Ce=Math.sqrt(it*it+xt*xt),be=se.x-We/fe,Ue=se.y+qe/fe,et=xe.x-xt/Ce,ze=xe.y+it/Ce,ye=((et-be)*xt-(ze-Ue)*it)/(qe*xt-We*it);De=be+qe*ye-ue.x,Ie=Ue+We*ye-ue.y;const Xe=De*De+Ie*Ie;if(Xe<=2)return new Se(De,Ie);Ve=Math.sqrt(Xe/2)}else{let fe=!1;qe>Number.EPSILON?it>Number.EPSILON&&(fe=!0):qe<-Number.EPSILON?it<-Number.EPSILON&&(fe=!0):Math.sign(We)===Math.sign(xt)&&(fe=!0),fe?(De=-We,Ie=qe,Ve=Math.sqrt(V)):(De=qe,Ie=We,Ve=Math.sqrt(V/2))}return new Se(De/Ve,Ie/Ve)}const D=[];for(let ue=0,se=J.length,xe=se-1,De=ue+1;ue<se;ue++,xe++,De++)xe===se&&(xe=0),De===se&&(De=0),D[ue]=N(J[ue],J[xe],J[De]);const k=[];let te,K=D.concat();for(let ue=0,se=F.length;ue<se;ue++){const xe=F[ue];te=[];for(let De=0,Ie=xe.length,Ve=Ie-1,qe=De+1;De<Ie;De++,Ve++,qe++)Ve===Ie&&(Ve=0),qe===Ie&&(qe=0),te[De]=N(xe[De],xe[Ve],xe[qe]);k.push(te),K=K.concat(te)}for(let ue=0;ue<M;ue++){const se=ue/M,xe=m*Math.cos(se*Math.PI/2),De=y*Math.sin(se*Math.PI/2)+S;for(let Ie=0,Ve=J.length;Ie<Ve;Ie++){const qe=X(J[Ie],D[Ie],De);U(qe.x,qe.y,-xe)}for(let Ie=0,Ve=F.length;Ie<Ve;Ie++){const qe=F[Ie];te=k[Ie];for(let We=0,it=qe.length;We<it;We++){const xt=X(qe[We],te[We],De);U(xt.x,xt.y,-xe)}}}const ie=y+S;for(let ue=0;ue<ee;ue++){const se=p?X(I[ue],K[ue],ie):I[ue];E?(R.copy(T.normals[0]).multiplyScalar(se.x),P.copy(T.binormals[0]).multiplyScalar(se.y),L.copy(x[0]).add(R).add(P),U(L.x,L.y,L.z)):U(se.x,se.y,0)}for(let ue=1;ue<=d;ue++)for(let se=0;se<ee;se++){const xe=p?X(I[se],K[se],ie):I[se];E?(R.copy(T.normals[ue]).multiplyScalar(xe.x),P.copy(T.binormals[ue]).multiplyScalar(xe.y),L.copy(x[ue]).add(R).add(P),U(L.x,L.y,L.z)):U(xe.x,xe.y,h/d*ue)}for(let ue=M-1;ue>=0;ue--){const se=ue/M,xe=m*Math.cos(se*Math.PI/2),De=y*Math.sin(se*Math.PI/2)+S;for(let Ie=0,Ve=J.length;Ie<Ve;Ie++){const qe=X(J[Ie],D[Ie],De);U(qe.x,qe.y,h+xe)}for(let Ie=0,Ve=F.length;Ie<Ve;Ie++){const qe=F[Ie];te=k[Ie];for(let We=0,it=qe.length;We<it;We++){const xt=X(qe[We],te[We],De);E?U(xt.x,xt.y+x[d-1].y,x[d-1].x+xe):U(xt.x,xt.y,h+xe)}}}re(),we();function re(){const ue=r.length/3;if(p){let se=0,xe=ee*se;for(let De=0;De<W;De++){const Ie=G[De];Me(Ie[2]+xe,Ie[1]+xe,Ie[0]+xe)}se=d+M*2,xe=ee*se;for(let De=0;De<W;De++){const Ie=G[De];Me(Ie[0]+xe,Ie[1]+xe,Ie[2]+xe)}}else{for(let se=0;se<W;se++){const xe=G[se];Me(xe[2],xe[1],xe[0])}for(let se=0;se<W;se++){const xe=G[se];Me(xe[0]+ee*d,xe[1]+ee*d,xe[2]+ee*d)}}i.addGroup(ue,r.length/3-ue,0)}function we(){const ue=r.length/3;let se=0;Z(J,se),se+=J.length;for(let xe=0,De=F.length;xe<De;xe++){const Ie=F[xe];Z(Ie,se),se+=Ie.length}i.addGroup(ue,r.length/3-ue,1)}function Z(ue,se){let xe=ue.length;for(;--xe>=0;){const De=xe;let Ie=xe-1;Ie<0&&(Ie=ue.length-1);for(let Ve=0,qe=d+M*2;Ve<qe;Ve++){const We=ee*Ve,it=ee*(Ve+1),xt=se+De+We,V=se+Ie+We,O=se+Ie+it,fe=se+De+it;Re(xt,V,O,fe)}}}function U(ue,se,xe){u.push(ue),u.push(se),u.push(xe)}function Me(ue,se,xe){ce(ue),ce(se),ce(xe);const De=r.length/3,Ie=A.generateTopUV(i,r,De-3,De-2,De-1);he(Ie[0]),he(Ie[1]),he(Ie[2])}function Re(ue,se,xe,De){ce(ue),ce(se),ce(De),ce(se),ce(xe),ce(De);const Ie=r.length/3,Ve=A.generateSideWallUV(i,r,Ie-6,Ie-3,Ie-2,Ie-1);he(Ve[0]),he(Ve[1]),he(Ve[3]),he(Ve[1]),he(Ve[2]),he(Ve[3])}function ce(ue){r.push(u[ue*3+0]),r.push(u[ue*3+1]),r.push(u[ue*3+2])}function he(ue){s.push(ue.x),s.push(ue.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return _F(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ex[r.type]().fromJSON(r)),new Rf(i,e.options)}}const yF={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],u=e[i*3+1],f=e[r*3],d=e[r*3+1];return[new Se(s,o),new Se(a,u),new Se(f,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],u=e[t*3+2],f=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],S=e[s*3],M=e[s*3+1],v=e[s*3+2];return Math.abs(a-d)<Math.abs(o-f)?[new Se(o,1-u),new Se(f,1-h),new Se(p,1-y),new Se(S,1-v)]:[new Se(a,1-u),new Se(d,1-h),new Se(m,1-y),new Se(M,1-v)]}};function _F(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class yu extends Os{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yu(e.radius,e.detail)}}class _u extends Os{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _u(e.radius,e.detail)}}class Pf extends ht{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],u=[],f=[],d=[];let h=e;const p=(t-e)/r,m=new B,y=new Se;for(let S=0;S<=r;S++){for(let M=0;M<=i;M++){const v=s+M/i*o;m.x=h*Math.cos(v),m.y=h*Math.sin(v),u.push(m.x,m.y,m.z),f.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let S=0;S<r;S++){const M=S*(i+1);for(let v=0;v<i;v++){const A=v+M,x=A,E=A+i+1,T=A+i+2,P=A+1;a.push(x,E,P),a.push(E,T,P)}}this.setIndex(a),this.setAttribute("position",new Ye(u,3)),this.setAttribute("normal",new Ye(f,3)),this.setAttribute("uv",new Ye(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Lf extends ht{constructor(e=new va([new Se(0,.5),new Se(-.5,-.5),new Se(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let d=0;d<e.length;d++)f(e[d]),this.addGroup(a,u,d),a+=u,u=0;this.setIndex(i),this.setAttribute("position",new Ye(r,3)),this.setAttribute("normal",new Ye(s,3)),this.setAttribute("uv",new Ye(o,2));function f(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;$r.isClockWise(m)===!1&&(m=m.reverse());for(let M=0,v=y.length;M<v;M++){const A=y[M];$r.isClockWise(A)===!0&&(y[M]=A.reverse())}const S=$r.triangulateShape(m,y);for(let M=0,v=y.length;M<v;M++){const A=y[M];m=m.concat(A)}for(let M=0,v=m.length;M<v;M++){const A=m[M];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let M=0,v=S.length;M<v;M++){const A=S[M],x=A[0]+h,E=A[1]+h,T=A[2]+h;i.push(x,E,T),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return xF(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Lf(i,e.curveSegments)}}function xF(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class xu extends ht{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(o+a,Math.PI);let f=0;const d=[],h=new B,p=new B,m=[],y=[],S=[],M=[];for(let v=0;v<=i;v++){const A=[],x=v/i;let E=0;v===0&&o===0?E=.5/t:v===i&&u===Math.PI&&(E=-.5/t);for(let T=0;T<=t;T++){const P=T/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+x*a),h.y=e*Math.cos(o+x*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+x*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),S.push(p.x,p.y,p.z),M.push(P+E,1-x),A.push(f++)}d.push(A)}for(let v=0;v<i;v++)for(let A=0;A<t;A++){const x=d[v][A+1],E=d[v][A],T=d[v+1][A],P=d[v+1][A+1];(v!==0||o>0)&&m.push(x,E,P),(v!==i-1||u<Math.PI)&&m.push(E,T,P)}this.setIndex(m),this.setAttribute("position",new Ye(y,3)),this.setAttribute("normal",new Ye(S,3)),this.setAttribute("uv",new Ye(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class If extends Os{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new If(e.radius,e.detail)}}class Nf extends ht{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],u=[],f=[],d=new B,h=new B,p=new B;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const S=y/r*s,M=m/i*Math.PI*2;h.x=(e+t*Math.cos(M))*Math.cos(S),h.y=(e+t*Math.cos(M))*Math.sin(S),h.z=t*Math.sin(M),a.push(h.x,h.y,h.z),d.x=e*Math.cos(S),d.y=e*Math.sin(S),p.subVectors(h,d).normalize(),u.push(p.x,p.y,p.z),f.push(y/r),f.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const S=(r+1)*m+y-1,M=(r+1)*(m-1)+y-1,v=(r+1)*(m-1)+y,A=(r+1)*m+y;o.push(S,M,A),o.push(M,v,A)}this.setIndex(o),this.setAttribute("position",new Ye(a,3)),this.setAttribute("normal",new Ye(u,3)),this.setAttribute("uv",new Ye(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Df extends ht{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],u=[],f=[],d=[],h=new B,p=new B,m=new B,y=new B,S=new B,M=new B,v=new B;for(let x=0;x<=i;++x){const E=x/i*s*Math.PI*2;A(E,s,o,e,m),A(E+.01,s,o,e,y),M.subVectors(y,m),v.addVectors(y,m),S.crossVectors(M,v),v.crossVectors(S,M),S.normalize(),v.normalize();for(let T=0;T<=r;++T){const P=T/r*Math.PI*2,R=-t*Math.cos(P),L=t*Math.sin(P);h.x=m.x+(R*v.x+L*S.x),h.y=m.y+(R*v.y+L*S.y),h.z=m.z+(R*v.z+L*S.z),u.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),f.push(p.x,p.y,p.z),d.push(x/i),d.push(T/r)}}for(let x=1;x<=i;x++)for(let E=1;E<=r;E++){const T=(r+1)*(x-1)+(E-1),P=(r+1)*x+(E-1),R=(r+1)*x+E,L=(r+1)*(x-1)+E;a.push(T,P,L),a.push(P,R,L)}this.setIndex(a),this.setAttribute("position",new Ye(u,3)),this.setAttribute("normal",new Ye(f,3)),this.setAttribute("uv",new Ye(d,2));function A(x,E,T,P,R){const L=Math.cos(x),C=Math.sin(x),I=T/E*x,F=Math.cos(I);R.x=P*(2+F)*.5*L,R.y=P*(2+F)*C*.5,R.z=P*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Df(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Uf extends ht{constructor(e=new K_(new B(-1,-1,0),new B(-1,1,0),new B(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new B,u=new B,f=new Se;let d=new B;const h=[],p=[],m=[],y=[];S(),this.setIndex(y),this.setAttribute("position",new Ye(h,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function S(){for(let x=0;x<t;x++)M(x);M(s===!1?t:0),A(),v()}function M(x){d=e.getPointAt(x/t,d);const E=o.normals[x],T=o.binormals[x];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,L=Math.sin(R),C=-Math.cos(R);u.x=C*E.x+L*T.x,u.y=C*E.y+L*T.y,u.z=C*E.z+L*T.z,u.normalize(),p.push(u.x,u.y,u.z),a.x=d.x+i*u.x,a.y=d.y+i*u.y,a.z=d.z+i*u.z,h.push(a.x,a.y,a.z)}}function v(){for(let x=1;x<=t;x++)for(let E=1;E<=r;E++){const T=(r+1)*(x-1)+(E-1),P=(r+1)*x+(E-1),R=(r+1)*x+E,L=(r+1)*(x-1)+E;y.push(T,P,L),y.push(P,R,L)}}function A(){for(let x=0;x<=t;x++)for(let E=0;E<=r;E++)f.x=x/t,f.y=E/r,m.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Uf(new ex[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class n2 extends ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new B,s=new B;if(e.index!==null){const o=e.attributes.position,a=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,d=u.length;f<d;++f){const h=u[f],p=h.start,m=h.count;for(let y=p,S=p+m;y<S;y+=3)for(let M=0;M<3;M++){const v=a.getX(y+M),A=a.getX(y+(M+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,A),yM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,u=o.count/3;a<u;a++)for(let f=0;f<3;f++){const d=3*a+f,h=3*a+(f+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),yM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ye(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function yM(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var _M=Object.freeze({__proto__:null,BoxGeometry:Po,CapsuleGeometry:wf,CircleGeometry:Tf,ConeGeometry:Cf,CylinderGeometry:Pa,DodecahedronGeometry:bf,EdgesGeometry:KC,ExtrudeGeometry:Rf,IcosahedronGeometry:yu,LatheGeometry:vu,OctahedronGeometry:_u,PlaneGeometry:mu,PolyhedronGeometry:Os,RingGeometry:Pf,ShapeGeometry:Lf,SphereGeometry:xu,TetrahedronGeometry:If,TorusGeometry:Nf,TorusKnotGeometry:Df,TubeGeometry:Uf,WireframeGeometry:n2});class i2 extends _n{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class r2 extends Nr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Of extends _n{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ro,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fs extends Of{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return un(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class s2 extends _n{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fe(16777215),this.specular=new Fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ro,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=vf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class o2 extends _n{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ro,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class a2 extends _n{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ro,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class l2 extends _n{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ro,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=vf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class u2 extends _n{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ro,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class c2 extends $n{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function tr(n,e,t){return tx(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ca(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function tx(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function f2(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function vy(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let u=0;u!==e;++u)r[o++]=n[a+u]}return r}function nx(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function AF(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let u=0;u<s.tracks.length;++u){const f=s.tracks[u],d=f.getValueSize(),h=[],p=[];for(let m=0;m<f.times.length;++m){const y=f.times[m]*r;if(!(y<t||y>=i)){h.push(f.times[m]);for(let S=0;S<d;++S)p.push(f.values[m*d+S])}}h.length!==0&&(f.times=ca(h,f.times.constructor),f.values=ca(p,f.values.constructor),o.push(f))}s.tracks=o;let a=1/0;for(let u=0;u<s.tracks.length;++u)a>s.tracks[u].times[0]&&(a=s.tracks[u].times[0]);for(let u=0;u<s.tracks.length;++u)s.tracks[u].shift(-1*a);return s.resetDuration(),s}function SF(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],u=a.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===u});if(f===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let S;if(s<=a.times[0]){const v=d,A=h-d;S=tr(a.values,v,A)}else if(s>=a.times[y]){const v=y*h+d,A=v+h-d;S=tr(a.values,v,A)}else{const v=a.createInterpolant(),A=d,x=h-d;v.evaluate(s),S=tr(v.resultBuffer,A,x)}u==="quaternion"&&new Nn().fromArray(S).normalize().conjugate().toArray(S);const M=f.times.length;for(let v=0;v<M;++v){const A=v*m+p;if(u==="quaternion")Nn.multiplyQuaternionsFlat(f.values,A,S,0,f.values,A);else{const x=m-p*2;for(let E=0;E<x;++E)f.values[A+E]-=S[E]}}}return n.blendMode=P_,n}const MF={arraySlice:tr,convertArray:ca,isTypedArray:tx,getKeyframeOrder:f2,sortedArray:vy,flattenJSON:nx,subclip:AF,makeClipAdditive:SF};class Au{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let u=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class d2 extends Au{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:aa,endingEnd:aa}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],u=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case la:s=e,a=2*t-i;break;case ef:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(u===void 0)switch(this.getSettings_().endingEnd){case la:o=e,u=2*i-t;break;case ef:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=t}const f=(i-t)*.5,d=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(u-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,f=u-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),S=y*y,M=S*y,v=-p*M+2*p*S-p*y,A=(1+p)*M+(-1.5-2*p)*S+(-.5+p)*y+1,x=(-1-m)*M+(1.5+m)*S+.5*y,E=m*M-m*S;for(let T=0;T!==a;++T)s[T]=v*o[d+T]+A*o[f+T]+x*o[u+T]+E*o[h+T];return s}}class ix extends Au{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,f=u-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[f+p]*h+o[u+p]*d;return s}}class h2 extends Au{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Br{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ca(t,this.TimeBufferType),this.values=ca(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:ca(e.times,Array),values:ca(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new h2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ix(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new d2(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case nu:t=this.InterpolantFactoryMethodDiscrete;break;case wa:t=this.InterpolantFactoryMethodLinear;break;case op:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nu;case this.InterpolantFactoryMethodLinear:return wa;case this.InterpolantFactoryMethodSmooth:return op}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=tr(i,s,o),this.values=tr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const u=i[a];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,o),e=!1;break}o=u}if(r!==void 0&&tx(r))for(let a=0,u=r.length;a!==u;++a){const f=r[a];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=tr(this.times),t=tr(this.values),i=this.getValueSize(),r=this.getInterpolation()===op,s=e.length-1;let o=1;for(let a=1;a<s;++a){let u=!1;const f=e[a],d=e[a+1];if(f!==d&&(a!==1||f!==e[0]))if(r)u=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const S=t[h+y];if(S!==t[p+y]||S!==t[m+y]){u=!0;break}}}if(u){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,u=o*i,f=0;f!==i;++f)t[u+f]=t[a+f];++o}return o!==e.length?(this.times=tr(e,0,o),this.values=tr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=tr(this.times,0),t=tr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Br.prototype.TimeBufferType=Float32Array;Br.prototype.ValueBufferType=Float32Array;Br.prototype.DefaultInterpolation=wa;class La extends Br{}La.prototype.ValueTypeName="bool";La.prototype.ValueBufferType=Array;La.prototype.DefaultInterpolation=nu;La.prototype.InterpolantFactoryMethodLinear=void 0;La.prototype.InterpolantFactoryMethodSmooth=void 0;class rx extends Br{}rx.prototype.ValueTypeName="color";class ou extends Br{}ou.prototype.ValueTypeName="number";class p2 extends Au{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=(i-t)/(r-t);let f=e*a;for(let d=f+a;f!==d;f+=4)Nn.slerpFlat(s,0,o,f-a,o,f,u);return s}}class wo extends Br{InterpolantFactoryMethodLinear(e){return new p2(this.times,this.values,this.getValueSize(),e)}}wo.prototype.ValueTypeName="quaternion";wo.prototype.DefaultInterpolation=wa;wo.prototype.InterpolantFactoryMethodSmooth=void 0;class Ia extends Br{}Ia.prototype.ValueTypeName="string";Ia.prototype.ValueBufferType=Array;Ia.prototype.DefaultInterpolation=nu;Ia.prototype.InterpolantFactoryMethodLinear=void 0;Ia.prototype.InterpolantFactoryMethodSmooth=void 0;class au extends Br{}au.prototype.ValueTypeName="vector";class lu{constructor(e,t=-1,i,r=rm){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ki(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(wF(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Br.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let u=[],f=[];u.push((a+s-1)%s,a,(a+1)%s),f.push(0,1,0);const d=f2(u);u=vy(u,1,d),f=vy(f,1,d),!r&&u[0]===0&&(u.push(s),f.push(f[0])),o.push(new ou(".morphTargetInfluences["+t[a].name+"]",u,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,u=e.length;a<u;a++){const f=e[a],d=f.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(f)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,S){if(m.length!==0){const M=[],v=[];nx(m,M,v,y),M.length!==0&&S.push(new h(p,M,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let h=0;h<f.length;h++){const p=f[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let S=0;S<p[y].morphTargets.length;S++)m[p[y].morphTargets[S]]=-1;for(const S in m){const M=[],v=[];for(let A=0;A!==p[y].morphTargets.length;++A){const x=p[y];M.push(x.time),v.push(x.morphTarget===S?1:0)}r.push(new ou(".morphTargetInfluence["+S+"]",M,v))}u=m.length*o}else{const m=".bones["+t[h].name+"]";i(au,m+".position",p,"pos",r),i(wo,m+".quaternion",p,"rot",r),i(au,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,u,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function EF(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ou;case"vector":case"vector2":case"vector3":case"vector4":return au;case"color":return rx;case"quaternion":return wo;case"bool":case"boolean":return La;case"string":return Ia}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function wF(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=EF(n.type);if(n.times===void 0){const t=[],i=[];nx(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ca={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class sx{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,h){return f.push(d,h),this},this.removeHandler=function(d){const h=f.indexOf(d);return h!==-1&&f.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=f.length;h<p;h+=2){const m=f[h],y=f[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const Ul=new sx;let Mi=class{constructor(e){this.manager=e!==void 0?e:Ul,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const gs={};class TF extends Error{constructor(e,t){super(e),this.response=t}}class Dr extends Mi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ca.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(gs[e]!==void 0){gs[e].push({onLoad:t,onProgress:i,onError:r});return}gs[e]=[],gs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const d=gs[e],h=f.body.getReader(),p=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let S=0;const M=new ReadableStream({start(v){A();function A(){h.read().then(({done:x,value:E})=>{if(x)v.close();else{S+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:S,total:m});for(let P=0,R=d.length;P<R;P++){const L=d[P];L.onProgress&&L.onProgress(T)}v.enqueue(E),A()}})}}});return new Response(M)}else throw new TF(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return f.json();default:if(a===void 0)return f.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return f.arrayBuffer().then(y=>m.decode(y))}}}).then(f=>{Ca.add(e,f);const d=gs[e];delete gs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(f)}}).catch(f=>{const d=gs[e];if(d===void 0)throw this.manager.itemError(e),f;delete gs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class CF extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Dr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=lu.parse(e[i]);t.push(r)}return t}}class bF extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new q_,u=new Dr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(s.withCredentials);let f=0;function d(h){u.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},f+=1,f===6&&(m.mipmapCount===1&&(a.minFilter=Yt),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else u.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+S]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Yt),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class uf extends Mi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ca.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=nf("img");function u(){d(),Ca.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",u,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",u,!1),a.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class m2 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new Sf,o=new uf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function u(f){o.load(e[f],function(d){s.images[f]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return s}}class g2 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new jl,a=new Dr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(u){const f=s.parse(u);f&&(f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:kn,o.wrapT=f.wrapT!==void 0?f.wrapT:kn,o.magFilter=f.magFilter!==void 0?f.magFilter:Yt,o.minFilter=f.minFilter!==void 0?f.minFilter:Yt,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0?o.colorSpace=f.colorSpace:f.encoding!==void 0&&(o.encoding=f.encoding),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=ts),f.mipmapCount===1&&(o.minFilter=Yt),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f))},i,r),o}}class v2 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new Kt,o=new uf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Lo extends Ct{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Fe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class y2 extends Lo{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ct.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const M0=new ot,xM=new B,AM=new B;class ox{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Se(512,512),this.map=null,this.mapPass=null,this.matrix=new ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new om,this._frameExtents=new Se(1,1),this._viewportCount=1,this._viewports=[new Ft(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;xM.setFromMatrixPosition(e.matrixWorld),t.position.copy(xM),AM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(AM),t.updateMatrixWorld(),M0.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(M0),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(M0)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class RF extends ox{constructor(){super(new Vt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=iu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ax extends Lo{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ct.DEFAULT_UP),this.updateMatrix(),this.target=new Ct,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new RF}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const SM=new ot,oc=new B,E0=new B;class PF extends ox{constructor(){super(new Vt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Se(4,2),this._viewportCount=6,this._viewports=[new Ft(2,1,1,1),new Ft(0,1,1,1),new Ft(3,1,1,1),new Ft(1,1,1,1),new Ft(3,0,1,1),new Ft(1,0,1,1)],this._cubeDirections=[new B(1,0,0),new B(-1,0,0),new B(0,0,1),new B(0,0,-1),new B(0,1,0),new B(0,-1,0)],this._cubeUps=[new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,0,1),new B(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),oc.setFromMatrixPosition(e.matrixWorld),i.position.copy(oc),E0.copy(i.position),E0.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(E0),i.updateMatrixWorld(),r.makeTranslation(-oc.x,-oc.y,-oc.z),SM.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SM)}}class lx extends Lo{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new PF}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class LF extends ox{constructor(){super(new Rr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ux extends Lo{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ct.DEFAULT_UP),this.updateMatrix(),this.target=new Ct,this.shadow=new LF}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _2 extends Lo{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class x2 extends Lo{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class A2{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new B)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class mm extends Lo{constructor(e=new A2,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class gm extends Mi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Dr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=gm.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Fe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Fe().setHex(o.value);break;case"v2":r.uniforms[s].value=new Se().fromArray(o.value);break;case"v3":r.uniforms[s].value=new B().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ft().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Mt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ot().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Se().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Se().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:i2,SpriteMaterial:G_,RawShaderMaterial:r2,ShaderMaterial:Nr,PointsMaterial:fm,MeshPhysicalMaterial:Fs,MeshStandardMaterial:Of,MeshPhongMaterial:s2,MeshToonMaterial:o2,MeshNormalMaterial:a2,MeshLambertMaterial:l2,MeshDepthMaterial:z_,MeshDistanceMaterial:H_,MeshBasicMaterial:Oi,MeshMatcapMaterial:u2,LineDashedMaterial:c2,LineBasicMaterial:$n,Material:_n};return new t[e]}}class uu{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class S2 extends ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class M2 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Dr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const M=m.interleavedBuffers[y],v=s(m,M.buffer),A=Il(M.type,v),x=new Mf(A,M.stride);return x.uuid=M.uuid,t[y]=x,x}function s(m,y){if(i[y]!==void 0)return i[y];const M=m.arrayBuffers[y],v=new Uint32Array(M).buffer;return i[y]=v,v}const o=e.isInstancedBufferGeometry?new S2:new ht,a=e.data.index;if(a!==void 0){const m=Il(a.type,a.array);o.setIndex(new Ut(m,1))}const u=e.data.attributes;for(const m in u){const y=u[m];let S;if(y.isInterleavedBufferAttribute){const M=r(e.data,y.data);S=new Eo(M,y.itemSize,y.offset,y.normalized)}else{const M=Il(y.type,y.array),v=y.isInstancedBufferAttribute?su:Ut;S=new v(M,y.itemSize,y.normalized)}y.name!==void 0&&(S.name=y.name),y.usage!==void 0&&S.setUsage(y.usage),y.updateRange!==void 0&&(S.updateRange.offset=y.updateRange.offset,S.updateRange.count=y.updateRange.count),o.setAttribute(m,S)}const f=e.data.morphAttributes;if(f)for(const m in f){const y=f[m],S=[];for(let M=0,v=y.length;M<v;M++){const A=y[M];let x;if(A.isInterleavedBufferAttribute){const E=r(e.data,A.data);x=new Eo(E,A.itemSize,A.offset,A.normalized)}else{const E=Il(A.type,A.array);x=new Ut(E,A.itemSize,A.normalized)}A.name!==void 0&&(x.name=A.name),S.push(x)}o.morphAttributes[m]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const S=h[m];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new B;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Or(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class IF extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?uu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Dr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?uu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Dr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),u=a.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,s,u,a,i),d=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,r,a,o,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new va().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Ef().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new M2;for(let s=0,o=e.length;s<o;s++){let a;const u=e[s];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(u);break;default:u.type in _M?a=_M[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}a.uuid=u.uuid,u.name!==void 0&&(a.name=u.name),u.userData!==void 0&&(a.userData=u.userData),i[u.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new gm;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const u=e[o];i[u.uuid]===void 0&&(i[u.uuid]=s.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=lu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(u){return i.manager.itemStart(u),s.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function a(u){if(typeof u=="string"){const f=u,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(d)}else return u.data?{data:Il(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new sx(t);s=new uf(u),s.setCrossOrigin(this.crossOrigin);for(let f=0,d=e.length;f<d;f++){const h=e[f],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,S=p.length;y<S;y++){const M=p[y],v=a(M);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new jl(v.data,v.width,v.height)))}r[h.uuid]=new ua(m)}else{const m=a(h.url);r[h.uuid]=new ua(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(u)}else return o.data?{data:Il(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new uf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const u=e[o],f=u.url;if(Array.isArray(f)){const d=[];for(let h=0,p=f.length;h<p;h++){const m=f[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new jl(y.data,y.width,y.height)))}i[u.uuid]=new ua(d)}else{const d=await s(u.url);i[u.uuid]=new ua(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const u=t[a.image],f=u.data;let d;Array.isArray(f)?(d=new Sf,f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new jl:d=new Kt,f&&(d.needsUpdate=!0)),d.source=u,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,NF)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],MM),d.wrapT=i(a.wrap[1],MM)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,EM)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,EM)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function u(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,S=p.length;y<S;y++){const M=p[y];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),m.push(i[M])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function f(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new rf,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Fe(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new um(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new lm(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Vt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Rr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new _2(e.color,e.intensity);break;case"DirectionalLight":o=new ux(e.color,e.intensity);break;case"PointLight":o=new lx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new x2(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new ax(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new y2(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new mm().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=u(e.material),o=new W_(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=u(e.material),o=new Mn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=u(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new j_(d,h,p),o.instanceMatrix=new su(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new su(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new XC;break;case"Line":o=new Ds(a(e.geometry),u(e.material));break;case"LineLoop":o=new X_(a(e.geometry),u(e.material));break;case"LineSegments":o=new Fr(a(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new Y_(a(e.geometry),u(e.material));break;case"Sprite":o=new jC(u(e.material));break;case"Group":o=new Es;break;case"Bone":o=new cm;break;default:o=new Ct}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],S=o.getObjectByProperty("uuid",y.object);S!==void 0&&o.addLevel(S,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const NF={UVMapping:nm,CubeReflectionMapping:Is,CubeRefractionMapping:So,EquirectangularReflectionMapping:eu,EquirectangularRefractionMapping:Kc,CubeUVReflectionMapping:pu},MM={RepeatWrapping:Mo,ClampToEdgeWrapping:kn,MirroredRepeatWrapping:tu},EM={NearestFilter:ln,NearestMipmapNearestFilter:$c,NearestMipmapLinearFilter:Gl,LinearFilter:Yt,LinearMipmapNearestFilter:im,LinearMipmapLinearFilter:ts};class E2 extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ca.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){Ca.add(e,u),t&&t(u),s.manager.itemEnd(e)}).catch(function(u){r&&r(u),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Dh;class cx{static getContext(){return Dh===void 0&&(Dh=new(window.AudioContext||window.webkitAudioContext)),Dh}static setContext(e){Dh=e}}class DF extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Dr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const f=u.slice(0);cx.getContext().decodeAudioData(f,function(h){t(h)},a)}catch(f){a(f)}},i,r);function a(u){r?r(u):console.error(u),s.manager.itemError(e)}}}class UF extends mm{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Fe().set(e),s=new Fe().set(t),o=new B(r.r,r.g,r.b),a=new B(s.r,s.g,s.b),u=Math.sqrt(Math.PI),f=u*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(u),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(f)}}class OF extends mm{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Fe().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const wM=new ot,TM=new ot,jo=new ot;class FF{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,jo.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(ma*t.fov*.5)/t.zoom;let a,u;TM.elements[12]=-r,wM.elements[12]=r,a=-o*t.aspect+s,u=o*t.aspect+s,jo.elements[0]=2*t.near/(u-a),jo.elements[8]=(u+a)/(u-a),this.cameraL.projectionMatrix.copy(jo),a=-o*t.aspect-s,u=o*t.aspect-s,jo.elements[0]=2*t.near/(u-a),jo.elements[8]=(u+a)/(u-a),this.cameraR.projectionMatrix.copy(jo)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(TM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wM)}}class fx{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=CM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=CM();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function CM(){return(typeof performance>"u"?Date:performance).now()}const Xo=new B,bM=new Nn,kF=new B,Yo=new B;class BF extends Ct{constructor(){super(),this.type="AudioListener",this.context=cx.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new fx}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Xo,bM,kF),Yo.set(0,0,-1).applyQuaternion(bM),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Xo.x,r),t.positionY.linearRampToValueAtTime(Xo.y,r),t.positionZ.linearRampToValueAtTime(Xo.z,r),t.forwardX.linearRampToValueAtTime(Yo.x,r),t.forwardY.linearRampToValueAtTime(Yo.y,r),t.forwardZ.linearRampToValueAtTime(Yo.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Xo.x,Xo.y,Xo.z),t.setOrientation(Yo.x,Yo.y,Yo.z,i.x,i.y,i.z)}}class w2 extends Ct{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const qo=new B,RM=new Nn,zF=new B,Jo=new B;class HF extends w2{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(qo,RM,zF),Jo.set(0,0,1).applyQuaternion(RM);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(qo.x,i),t.positionY.linearRampToValueAtTime(qo.y,i),t.positionZ.linearRampToValueAtTime(qo.z,i),t.orientationX.linearRampToValueAtTime(Jo.x,i),t.orientationY.linearRampToValueAtTime(Jo.y,i),t.orientationZ.linearRampToValueAtTime(Jo.z,i)}else t.setPosition(qo.x,qo.y,qo.z),t.setOrientation(Jo.x,Jo.y,Jo.z)}}class VF{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class T2{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(i[u]!==i[u+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Nn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Nn.multiplyQuaternionsFlat(e,o,e,t,e,i),Nn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const u=t+a;e[u]=e[u]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const dx="\\[\\]\\.:\\/",GF=new RegExp("["+dx+"]","g"),hx="[^"+dx+"]",WF="[^"+dx.replace("\\.","")+"]",jF=/((?:WC+[\/:])*)/.source.replace("WC",hx),XF=/(WCOD+)?/.source.replace("WCOD",WF),YF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hx),qF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hx),JF=new RegExp("^"+jF+XF+YF+qF+"$"),QF=["material","materials","bones","map"];class ZF{constructor(e,t,i){const r=i||wt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class wt{constructor(e,t,i){this.path=t,this.parsedPath=i||wt.parseTrackName(t),this.node=wt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new wt.Composite(e,t,i):new wt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(GF,"")}static parseTrackName(e){const t=JF.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);QF.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const u=i(a.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=wt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===f){f=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wt.Composite=ZF;wt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wt.prototype.GetterByBindingType=[wt.prototype._getValue_direct,wt.prototype._getValue_array,wt.prototype._getValue_arrayElement,wt.prototype._getValue_toArray];wt.prototype.SetterByBindingTypeAndVersioning=[[wt.prototype._setValue_direct,wt.prototype._setValue_direct_setNeedsUpdate,wt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wt.prototype._setValue_array,wt.prototype._setValue_array_setNeedsUpdate,wt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wt.prototype._setValue_arrayElement,wt.prototype._setValue_arrayElement_setNeedsUpdate,wt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wt.prototype._setValue_fromArray,wt.prototype._setValue_fromArray_setNeedsUpdate,wt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class KF{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ki(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,u=e.length,f=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=u++,t[m]=y,e.push(p);for(let S=0,M=o;S!==M;++S)s[S].push(new wt(p,i[S],r[S]))}else if(y<f){a=e[y];const S=--f,M=e[S];t[M.uuid]=y,e[y]=M,t[m]=S,e[S]=p;for(let v=0,A=o;v!==A;++v){const x=s[v],E=x[S];let T=x[y];x[y]=E,T===void 0&&(T=new wt(p,i[v],r[v])),x[S]=T}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const u=arguments[o],f=u.uuid,d=t[f];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[f]=h,e[h]=u;for(let m=0,y=r;m!==y;++m){const S=i[m],M=S[h],v=S[d];S[d]=M,S[h]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,u=arguments.length;a!==u;++a){const f=arguments[a],d=f.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,S=e[y];t[m.uuid]=h,e[h]=m,t[S.uuid]=p,e[p]=S,e.pop();for(let M=0,v=r;M!==v;++M){const A=i[M],x=A[p],E=A[y];A[h]=x,A[p]=E,A.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,S=r;y!==S;++y){const M=i[y];M[h]=M[p],M.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,u=this._objects,f=u.length,d=this.nCachedObjects_,h=new Array(f);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=u.length;p!==m;++p){const y=u[p];h[p]=new wt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,u=o[a],f=e[a];t[f]=i,o[i]=u,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class C2{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),u={endingStart:aa,endingEnd:aa};for(let f=0;f!==o;++f){const d=s[f].createInterpolant(null);a[f]=d,d.settings=u}this._interpolantSettings=u,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const u=a.parameterPositions,f=a.sampleValues;return u[0]=s,u[1]=s+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const u=(e-s)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case P_:for(let d=0,h=u.length;d!==h;++d)u[d].evaluate(o),f[d].accumulateAdditive(a);break;case rm:default:for(let d=0,h=u.length;d!==h;++d)u[d].evaluate(o),f[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===AC;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===_C){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const u=this.repetitions-s;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=la,r.endingEnd=la):(e?r.endingStart=this.zeroSlopeAtStart?la:aa:r.endingStart=ef,t?r.endingEnd=this.zeroSlopeAtEnd?la:aa:r.endingEnd=ef)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,u=o.sampleValues;return a[0]=s,u[0]=t,a[1]=s+e,u[1]=i,this}}const $F=new Float32Array(1);class ek extends ns{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,u=i.uuid,f=this._bindingsByRootAndName;let d=f[u];d===void 0&&(d={},f[u]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,u,m));continue}const S=t&&t._propertyBindings[h].binding.parsedPath;y=new T2(wt.create(i,m,S),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,u,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],u=a.knownActions,f=u[u.length-1],d=e._byClipCacheIndex;f._byClipCacheIndex=d,u[d]=f,u.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new ix(new Float32Array(2),new Float32Array(2),1,$F),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?lu.findByName(r,e):e;const a=o!==null?o.uuid:e,u=this._actionsByClip[a];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=rm),u!==void 0){const h=u.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;f=u.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const d=new C2(this,o,t,i);return this._bindAction(d,f),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?lu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,o);const a=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)a[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,u=o.length;a!==u;++a){const f=o[a];this._deactivateAction(f);const d=f._cacheIndex,h=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,u=a[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class px{constructor(e){this.value=e}clone(){return new px(this.value.clone===void 0?this.value:this.value.clone())}}let tk=0;class nk extends ns{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:tk++}),this.name="",this.usage=tf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class ik extends Mf{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class rk{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class mx{constructor(e,t,i=0,r=1/0){this.ray=new _f(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ga,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return yy(e,this,i,t),i.sort(PM),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)yy(e[r],this,i,t);return i.sort(PM),i}}function PM(n,e){return n.distance-e.distance}function yy(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)yy(r[s],e,t,!0)}}class _y{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(un(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class sk{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const LM=new Se;class ok{constructor(e=new Se(1/0,1/0),t=new Se(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=LM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,LM).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const IM=new B,Uh=new B;class ak{constructor(e=new B,t=new B){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){IM.subVectors(e,this.start),Uh.subVectors(this.end,this.start);const i=Uh.dot(Uh);let s=Uh.dot(IM)/i;return t&&(s=un(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const NM=new B;class lk extends Ct{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ht,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,u=32;o<u;o++,a++){const f=o/u*Math.PI*2,d=a/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ye(r,3));const s=new $n({fog:!1,toneMapped:!1});this.cone=new Fr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),NM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(NM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ks=new B,Oh=new ot,w0=new ot;class uk extends Fr{constructor(e){const t=b2(e),i=new ht,r=[],s=[],o=new Fe(0,0,1),a=new Fe(0,1,0);for(let f=0;f<t.length;f++){const d=t[f];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ye(r,3)),i.setAttribute("color",new Ye(s,3));const u=new $n({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");w0.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Oh.multiplyMatrices(w0,a.matrixWorld),Ks.setFromMatrixPosition(Oh),r.setXYZ(o,Ks.x,Ks.y,Ks.z),Oh.multiplyMatrices(w0,a.parent.matrixWorld),Ks.setFromMatrixPosition(Oh),r.setXYZ(o+1,Ks.x,Ks.y,Ks.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function b2(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,b2(n.children[t]));return e}class ck extends Mn{constructor(e,t,i){const r=new xu(t,4,2),s=new Oi({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fk=new B,DM=new Fe,UM=new Fe;class dk extends Ct{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new _u(t);r.rotateY(Math.PI*.5),this.material=new Oi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ut(o,3)),this.add(new Mn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");DM.copy(this.light.color),UM.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?DM:UM;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(fk.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hk extends Fr{constructor(e=10,t=10,i=4473924,r=8947848){i=new Fe(i),r=new Fe(r);const s=t/2,o=e/t,a=e/2,u=[],f=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){u.push(-a,0,y,a,0,y),u.push(y,0,-a,y,0,a);const S=p===s?i:r;S.toArray(f,m),m+=3,S.toArray(f,m),m+=3,S.toArray(f,m),m+=3,S.toArray(f,m),m+=3}const d=new ht;d.setAttribute("position",new Ye(u,3)),d.setAttribute("color",new Ye(f,3));const h=new $n({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class pk extends Fr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Fe(s),o=new Fe(o);const a=[],u=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const S=h&1?s:o;u.push(S.r,S.g,S.b),u.push(S.r,S.g,S.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let S=y/r*(Math.PI*2),M=Math.sin(S)*m,v=Math.cos(S)*m;a.push(M,0,v),u.push(p.r,p.g,p.b),S=(y+1)/r*(Math.PI*2),M=Math.sin(S)*m,v=Math.cos(S)*m,a.push(M,0,v),u.push(p.r,p.g,p.b)}}const f=new ht;f.setAttribute("position",new Ye(a,3)),f.setAttribute("color",new Ye(u,3));const d=new $n({vertexColors:!0,toneMapped:!1});super(f,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const OM=new B,Fh=new B,FM=new B;class mk extends Ct{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ht;r.setAttribute("position",new Ye([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new $n({fog:!1,toneMapped:!1});this.lightPlane=new Ds(r,s),this.add(this.lightPlane),r=new ht,r.setAttribute("position",new Ye([0,0,0,0,0,1],3)),this.targetLine=new Ds(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),OM.setFromMatrixPosition(this.light.matrixWorld),Fh.setFromMatrixPosition(this.light.target.matrixWorld),FM.subVectors(Fh,OM),this.lightPlane.lookAt(Fh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Fh),this.targetLine.scale.z=FM.length()}}const kh=new B,on=new Af;class gk extends Fr{constructor(e){const t=new ht,i=new $n({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,S){u(y),u(S)}function u(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Ye(r,3)),t.setAttribute("color",new Ye(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Fe(16755200),d=new Fe(16711680),h=new Fe(43775),p=new Fe(16777215),m=new Fe(3355443);this.setColors(f,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;on.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),fn("c",t,e,on,0,0,-1),fn("t",t,e,on,0,0,1),fn("n1",t,e,on,-i,-r,-1),fn("n2",t,e,on,i,-r,-1),fn("n3",t,e,on,-i,r,-1),fn("n4",t,e,on,i,r,-1),fn("f1",t,e,on,-i,-r,1),fn("f2",t,e,on,i,-r,1),fn("f3",t,e,on,-i,r,1),fn("f4",t,e,on,i,r,1),fn("u1",t,e,on,i*.7,r*1.1,-1),fn("u2",t,e,on,-i*.7,r*1.1,-1),fn("u3",t,e,on,0,r*2,-1),fn("cf1",t,e,on,-i,0,1),fn("cf2",t,e,on,i,0,1),fn("cf3",t,e,on,0,-r,1),fn("cf4",t,e,on,0,r,1),fn("cn1",t,e,on,-i,0,-1),fn("cn2",t,e,on,i,0,-1),fn("cn3",t,e,on,0,-r,-1),fn("cn4",t,e,on,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function fn(n,e,t,i,r,s,o){kh.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const u=t.getAttribute("position");for(let f=0,d=a.length;f<d;f++)u.setXYZ(a[f],kh.x,kh.y,kh.z)}}const Bh=new Ur;class vk extends Fr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ht;s.setIndex(new Ut(i,1)),s.setAttribute("position",new Ut(r,3)),super(s,new $n({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Bh.setFromObject(this.object),Bh.isEmpty())return;const t=Bh.min,i=Bh.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class yk extends Fr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ht;s.setIndex(new Ut(i,1)),s.setAttribute("position",new Ye(r,3)),super(s,new $n({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _k extends Ds{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ht;o.setAttribute("position",new Ye(s,3)),o.computeBoundingSphere(),super(o,new $n({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new ht;u.setAttribute("position",new Ye(a,3)),u.computeBoundingSphere(),this.add(new Mn(u,new Oi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const kM=new B;let zh,T0;class xk extends Ct{constructor(e=new B(0,0,1),t=new B(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",zh===void 0&&(zh=new ht,zh.setAttribute("position",new Ye([0,0,0,0,1,0],3)),T0=new Pa(0,.5,1,5,1),T0.translate(0,-.5,0)),this.position.copy(t),this.line=new Ds(zh,new $n({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mn(T0,new Oi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{kM.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(kM,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ak extends Fr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ht;r.setAttribute("position",new Ye(t,3)),r.setAttribute("color",new Ye(i,3));const s=new $n({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Fe,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sk{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new sf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const A=[];for(let x=0,E=v.length;x<E;x++){const T=v[x],P=new va;P.curves=T.curves,A.push(P)}return A}function i(v,A){const x=A.length;let E=!1;for(let T=x-1,P=0;P<x;T=P++){let R=A[T],L=A[P],C=L.x-R.x,I=L.y-R.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(R=A[P],C=-C,L=A[T],I=-I),v.y<R.y||v.y>L.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const F=I*(v.x-R.x)-C*(v.y-R.y);if(F===0)return!0;if(F<0)continue;E=!E}}else{if(v.y!==R.y)continue;if(L.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=L.x)return!0}}return E}const r=$r.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,u;const f=[];if(s.length===1)return a=s[0],u=new va,u.curves=a.curves,f.push(u),f;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,S;p[y]=void 0,m[y]=[];for(let v=0,A=s.length;v<A;v++)a=s[v],S=a.getPoints(),o=r(S),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new va,p:S},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:S[0]});if(!p[0])return t(s);if(p.length>1){let v=!1,A=0;for(let x=0,E=p.length;x<E;x++)h[x]=[];for(let x=0,E=p.length;x<E;x++){const T=m[x];for(let P=0;P<T.length;P++){const R=T[P];let L=!0;for(let C=0;C<p.length;C++)i(R.p,p[C].p)&&(x!==C&&A++,L?(L=!1,h[C].push(R)):v=!0);L&&h[x].push(R)}}A>0&&v===!1&&(m=h)}let M;for(let v=0,A=p.length;v<A;v++){u=p[v].s,f.push(u),M=m[v];for(let x=0,E=M.length;x<E;x++)u.holes.push(M[x].h)}return f}}class Mk extends Po{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class Ek extends wf{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class wk extends Tf{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class Tk extends Cf{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class Ck extends Pa{constructor(e,t,i,r,s,o,a,u){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,u)}}class bk extends bf{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Rk extends Rf{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Pk extends yu{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Lk extends vu{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class Ik extends _u{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Nk extends mu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class Dk extends Os{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class Uk extends Pf{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class Ok extends Lf{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Fk extends xu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class kk extends If{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class Bk extends Nf{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class zk extends Df{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class Hk extends Uf{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:em}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=em);const Vk=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:b_,AddEquation:na,AddOperation:$T,AdditiveAnimationBlendMode:P_,AdditiveBlending:Ov,AlphaFormat:uC,AlwaysDepth:XT,AlwaysStencilFunc:TC,AmbientLight:_2,AmbientLightProbe:OF,AnimationAction:C2,AnimationClip:lu,AnimationLoader:CF,AnimationMixer:ek,AnimationObjectGroup:KF,AnimationUtils:MF,ArcCurve:YC,ArrayCamera:HC,ArrowHelper:xk,Audio:w2,AudioAnalyser:VF,AudioContext:cx,AudioListener:BF,AudioLoader:DF,AxesHelper:Ak,BackSide:ai,BasicDepthPacking:MC,BasicShadowMap:IT,Bone:cm,BooleanKeyframeTrack:La,Box2:ok,Box3:Ur,Box3Helper:yk,BoxBufferGeometry:Mk,BoxGeometry:Po,BoxHelper:vk,BufferAttribute:Ut,BufferGeometry:ht,BufferGeometryLoader:M2,ByteType:rC,Cache:Ca,Camera:Af,CameraHelper:gk,CanvasTexture:YO,CapsuleBufferGeometry:Ek,CapsuleGeometry:wf,CatmullRomCurve3:qC,CineonToneMapping:nC,CircleBufferGeometry:wk,CircleGeometry:Tf,ClampToEdgeWrapping:kn,Clock:fx,Color:Fe,ColorKeyframeTrack:rx,ColorManagement:$i,CompressedArrayTexture:XO,CompressedTexture:q_,CompressedTextureLoader:bF,ConeBufferGeometry:Tk,ConeGeometry:Cf,CubeCamera:DC,CubeReflectionMapping:Is,CubeRefractionMapping:So,CubeTexture:Sf,CubeTextureLoader:m2,CubeUVReflectionMapping:pu,CubicBezierCurve:Q_,CubicBezierCurve3:JC,CubicInterpolant:d2,CullFaceBack:Uv,CullFaceFront:LT,CullFaceFrontBack:JL,CullFaceNone:PT,Curve:kr,CurvePath:ZC,CustomBlending:NT,CustomToneMapping:iC,CylinderBufferGeometry:Ck,CylinderGeometry:Pa,Cylindrical:sk,Data3DTexture:U_,DataArrayTexture:sm,DataTexture:jl,DataTextureLoader:g2,DataUtils:yc,DecrementStencilOp:r3,DecrementWrapStencilOp:o3,DefaultLoadingManager:Ul,DepthFormat:yo,DepthStencilFormat:Ea,DepthTexture:VC,DirectionalLight:ux,DirectionalLightHelper:mk,DiscreteInterpolant:h2,DisplayP3ColorSpace:I_,DodecahedronBufferGeometry:bk,DodecahedronGeometry:bf,DoubleSide:Ni,DstAlphaFactor:zT,DstColorFactor:VT,DynamicCopyUsage:A3,DynamicDrawUsage:m3,DynamicReadUsage:y3,EdgesGeometry:KC,EllipseCurve:dm,EqualDepth:qT,EqualStencilFunc:c3,EquirectangularReflectionMapping:eu,EquirectangularRefractionMapping:Kc,Euler:xf,EventDispatcher:ns,ExtrudeBufferGeometry:Rk,ExtrudeGeometry:Rf,FileLoader:Dr,Float16BufferAttribute:lI,Float32BufferAttribute:Ye,Float64BufferAttribute:uI,FloatType:sr,Fog:um,FogExp2:lm,FramebufferTexture:jO,FrontSide:es,Frustum:om,GLBufferAttribute:rk,GLSL1:M3,GLSL3:cy,GreaterDepth:QT,GreaterEqualDepth:JT,GreaterEqualStencilFunc:p3,GreaterStencilFunc:d3,GridHelper:hk,Group:Es,HalfFloatType:wr,HemisphereLight:y2,HemisphereLightHelper:dk,HemisphereLightProbe:UF,IcosahedronBufferGeometry:Pk,IcosahedronGeometry:yu,ImageBitmapLoader:E2,ImageLoader:uf,ImageUtils:D_,IncrementStencilOp:i3,IncrementWrapStencilOp:s3,InstancedBufferAttribute:su,InstancedBufferGeometry:S2,InstancedInterleavedBuffer:ik,InstancedMesh:j_,Int16BufferAttribute:oI,Int32BufferAttribute:aI,Int8BufferAttribute:iI,IntType:oC,InterleavedBuffer:Mf,InterleavedBufferAttribute:Eo,Interpolant:Au,InterpolateDiscrete:nu,InterpolateLinear:wa,InterpolateSmooth:op,InvertStencilOp:a3,KeepStencilOp:ap,KeyframeTrack:Br,LOD:XC,LatheBufferGeometry:Lk,LatheGeometry:vu,Layers:ga,LessDepth:YT,LessEqualDepth:Up,LessEqualStencilFunc:f3,LessStencilFunc:u3,Light:Lo,LightProbe:mm,Line:Ds,Line3:ak,LineBasicMaterial:$n,LineCurve:hm,LineCurve3:QC,LineDashedMaterial:c2,LineLoop:X_,LineSegments:Fr,LinearEncoding:yf,LinearFilter:Yt,LinearInterpolant:ix,LinearMipMapLinearFilter:e3,LinearMipMapNearestFilter:$L,LinearMipmapLinearFilter:ts,LinearMipmapNearestFilter:im,LinearSRGBColorSpace:Lr,LinearToneMapping:eC,Loader:Mi,LoaderUtils:uu,LoadingManager:sx,LoopOnce:_C,LoopPingPong:AC,LoopRepeat:xC,LuminanceAlphaFormat:fC,LuminanceFormat:cC,MOUSE:Ko,Material:_n,MaterialLoader:gm,MathUtils:RC,Matrix3:Mt,Matrix4:ot,MaxEquation:zv,Mesh:Mn,MeshBasicMaterial:Oi,MeshDepthMaterial:z_,MeshDistanceMaterial:H_,MeshLambertMaterial:l2,MeshMatcapMaterial:u2,MeshNormalMaterial:a2,MeshPhongMaterial:s2,MeshPhysicalMaterial:Fs,MeshStandardMaterial:Of,MeshToonMaterial:o2,MinEquation:Bv,MirroredRepeatWrapping:tu,MixOperation:KT,MultiplyBlending:kv,MultiplyOperation:vf,NearestFilter:ln,NearestMipMapLinearFilter:KL,NearestMipMapNearestFilter:ZL,NearestMipmapLinearFilter:Gl,NearestMipmapNearestFilter:$c,NeverDepth:jT,NeverStencilFunc:l3,NoBlending:Ts,NoColorSpace:_o,NoToneMapping:br,NormalAnimationBlendMode:rm,NormalBlending:ha,NotEqualDepth:ZT,NotEqualStencilFunc:h3,NumberKeyframeTrack:ou,Object3D:Ct,ObjectLoader:IF,ObjectSpaceNormalMap:wC,OctahedronBufferGeometry:Ik,OctahedronGeometry:_u,OneFactor:FT,OneMinusDstAlphaFactor:HT,OneMinusDstColorFactor:GT,OneMinusSrcAlphaFactor:C_,OneMinusSrcColorFactor:BT,OrthographicCamera:Rr,PCFShadowMap:tm,PCFSoftShadowMap:Rc,PMREMGenerator:dy,Path:sf,PerspectiveCamera:Vt,Plane:no,PlaneBufferGeometry:Nk,PlaneGeometry:mu,PlaneHelper:_k,PointLight:lx,PointLightHelper:ck,Points:Y_,PointsMaterial:fm,PolarGridHelper:pk,PolyhedronBufferGeometry:Dk,PolyhedronGeometry:Os,PositionalAudio:HF,PropertyBinding:wt,PropertyMixer:T2,QuadraticBezierCurve:Z_,QuadraticBezierCurve3:K_,Quaternion:Nn,QuaternionKeyframeTrack:wo,QuaternionLinearInterpolant:p2,RED_GREEN_RGTC2_Format:ly,RED_RGTC1_Format:yC,REVISION:em,RGBADepthPacking:EC,RGBAFormat:vi,RGBAIntegerFormat:gC,RGBA_ASTC_10x10_Format:ry,RGBA_ASTC_10x5_Format:ty,RGBA_ASTC_10x6_Format:ny,RGBA_ASTC_10x8_Format:iy,RGBA_ASTC_12x10_Format:sy,RGBA_ASTC_12x12_Format:oy,RGBA_ASTC_4x4_Format:Yv,RGBA_ASTC_5x4_Format:qv,RGBA_ASTC_5x5_Format:Jv,RGBA_ASTC_6x5_Format:Qv,RGBA_ASTC_6x6_Format:Zv,RGBA_ASTC_8x5_Format:Kv,RGBA_ASTC_8x6_Format:$v,RGBA_ASTC_8x8_Format:ey,RGBA_BPTC_Format:sp,RGBA_ETC2_EAC_Format:Xv,RGBA_PVRTC_2BPPV1_Format:Wv,RGBA_PVRTC_4BPPV1_Format:Gv,RGBA_S3TC_DXT1_Format:np,RGBA_S3TC_DXT3_Format:ip,RGBA_S3TC_DXT5_Format:rp,RGB_ETC1_Format:vC,RGB_ETC2_Format:jv,RGB_PVRTC_2BPPV1_Format:Vv,RGB_PVRTC_4BPPV1_Format:Hv,RGB_S3TC_DXT1_Format:tp,RGFormat:pC,RGIntegerFormat:mC,RawShaderMaterial:r2,Ray:_f,Raycaster:mx,RectAreaLight:x2,RedFormat:dC,RedIntegerFormat:hC,ReinhardToneMapping:tC,RepeatWrapping:Mo,ReplaceStencilOp:n3,ReverseSubtractEquation:UT,RingBufferGeometry:Uk,RingGeometry:Pf,SIGNED_RED_GREEN_RGTC2_Format:uy,SIGNED_RED_RGTC1_Format:ay,SRGBColorSpace:st,Scene:rf,ShaderChunk:mt,ShaderLib:Er,ShaderMaterial:Nr,ShadowMaterial:i2,Shape:va,ShapeBufferGeometry:Ok,ShapeGeometry:Lf,ShapePath:Sk,ShapeUtils:$r,ShortType:sC,Skeleton:Ef,SkeletonHelper:uk,SkinnedMesh:W_,Source:ua,Sphere:Or,SphereBufferGeometry:Fk,SphereGeometry:xu,Spherical:_y,SphericalHarmonics3:A2,SplineCurve:$_,SpotLight:ax,SpotLightHelper:lk,Sprite:jC,SpriteMaterial:G_,SrcAlphaFactor:T_,SrcAlphaSaturateFactor:WT,SrcColorFactor:kT,StaticCopyUsage:x3,StaticDrawUsage:tf,StaticReadUsage:v3,StereoCamera:FF,StreamCopyUsage:S3,StreamDrawUsage:g3,StreamReadUsage:_3,StringKeyframeTrack:Ia,SubtractEquation:DT,SubtractiveBlending:Fv,TOUCH:$o,TangentSpaceNormalMap:Ro,TetrahedronBufferGeometry:kk,TetrahedronGeometry:If,Texture:Kt,TextureLoader:v2,TorusBufferGeometry:Bk,TorusGeometry:Nf,TorusKnotBufferGeometry:zk,TorusKnotGeometry:Df,Triangle:gi,TriangleFanDrawMode:Op,TriangleStripDrawMode:L_,TrianglesDrawMode:SC,TubeBufferGeometry:Hk,TubeGeometry:Uf,TwoPassDoubleSide:QL,UVMapping:nm,Uint16BufferAttribute:O_,Uint32BufferAttribute:F_,Uint8BufferAttribute:rI,Uint8ClampedBufferAttribute:sI,Uniform:px,UniformsGroup:nk,UniformsLib:Oe,UniformsUtils:NC,UnsignedByteType:Ns,UnsignedInt248Type:pa,UnsignedIntType:lo,UnsignedShort4444Type:aC,UnsignedShort5551Type:lC,UnsignedShortType:R_,VSMShadowMap:Ar,Vector2:Se,Vector3:B,Vector4:Ft,VectorKeyframeTrack:au,VideoTexture:WO,WebGL1Renderer:GC,WebGL3DRenderTarget:X3,WebGLArrayRenderTarget:j3,WebGLCubeRenderTarget:k_,WebGLMultipleRenderTargets:Y3,WebGLRenderTarget:Ir,WebGLRenderer:V_,WebGLUtils:zC,WireframeGeometry:n2,WrapAroundEnding:ef,ZeroCurvatureEnding:aa,ZeroFactor:OT,ZeroSlopeEnding:la,ZeroStencilOp:t3,_SRGBAFormat:Fp,sRGBEncoding:Cs},Symbol.toStringTag,{value:"Module"}));var R2={exports:{}},Na={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Na.ConcurrentRoot=1;Na.ContinuousEventPriority=4;Na.DefaultEventPriority=16;Na.DiscreteEventPriority=1;Na.IdleEventPriority=536870912;Na.LegacyRoot=0;R2.exports=Na;var Ol=R2.exports;function Gk(n){let e;const t=new Set,i=(f,d)=>{const h=typeof f=="function"?f(e):f;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(f,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const S=p;f(p=y,S)}}return t.add(m),()=>t.delete(m)},u={setState:i,getState:r,subscribe:(f,d,h)=>d||h?s(f,d,h):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,u),u}const Wk=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),BM=Wk?de.useEffect:de.useLayoutEffect;function gx(n){const e=typeof n=="function"?Gk(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=de.useReducer(M=>M+1,0),o=e.getState(),a=de.useRef(o),u=de.useRef(i),f=de.useRef(r),d=de.useRef(!1),h=de.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||u.current!==i||f.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),BM(()=>{m&&(h.current=p),a.current=o,u.current=i,f.current=r,d.current=!1});const y=de.useRef(o);BM(()=>{const M=()=>{try{const A=e.getState(),x=u.current(A);f.current(h.current,x)||(a.current=A,h.current=x,s())}catch{d.current=!0,s()}},v=e.subscribe(M);return e.getState()!==y.current&&M(),v},[]);const S=m?p:h.current;return de.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var P2={exports:{}},C0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM;function jk(){return zM||(zM=1,function(n){function e(N,D){var k=N.length;N.push(D);e:for(;0<k;){var te=k-1>>>1,K=N[te];if(0<r(K,D))N[te]=D,N[k]=K,k=te;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var D=N[0],k=N.pop();if(k!==D){N[0]=k;e:for(var te=0,K=N.length,ie=K>>>1;te<ie;){var re=2*(te+1)-1,we=N[re],Z=re+1,U=N[Z];if(0>r(we,k))Z<K&&0>r(U,we)?(N[te]=U,N[Z]=k,te=Z):(N[te]=we,N[re]=k,te=re);else if(Z<K&&0>r(U,k))N[te]=U,N[Z]=k,te=Z;else break e}}return D}function r(N,D){var k=N.sortIndex-D.sortIndex;return k!==0?k:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],d=1,h=null,p=3,m=!1,y=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var D=t(f);D!==null;){if(D.callback===null)i(f);else if(D.startTime<=N)i(f),D.sortIndex=D.expirationTime,e(u,D);else break;D=t(f)}}function E(N){if(S=!1,x(N),!y)if(t(u)!==null)y=!0,ee(T);else{var D=t(f);D!==null&&W(E,D.startTime-N)}}function T(N,D){y=!1,S&&(S=!1,v(L),L=-1),m=!0;var k=p;try{for(x(D),h=t(u);h!==null&&(!(h.expirationTime>D)||N&&!F());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var K=te(h.expirationTime<=D);D=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(u)&&i(u),x(D)}else i(u);h=t(u)}if(h!==null)var ie=!0;else{var re=t(f);re!==null&&W(E,re.startTime-D),ie=!1}return ie}finally{h=null,p=k,m=!1}}var P=!1,R=null,L=-1,C=5,I=-1;function F(){return!(n.unstable_now()-I<C)}function j(){if(R!==null){var N=n.unstable_now();I=N;var D=!0;try{D=R(!0,N)}finally{D?G():(P=!1,R=null)}}else P=!1}var G;if(typeof A=="function")G=function(){A(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=j,G=function(){X.postMessage(null)}}else G=function(){M(j,0)};function ee(N){R=N,P||(P=!0,G())}function W(N,D){L=M(function(){N(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ee(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var k=p;p=D;try{return N()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var k=p;p=N;try{return D()}finally{p=k}},n.unstable_scheduleCallback=function(N,D,k){var te=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?te+k:te):k=te,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=k+K,N={id:d++,callback:D,priorityLevel:N,startTime:k,expirationTime:K,sortIndex:-1},k>te?(N.sortIndex=k,e(f,N),t(u)===null&&N===t(f)&&(S?(v(L),L=-1):S=!0,W(E,k-te))):(N.sortIndex=K,e(u,N),y||m||(y=!0,ee(T))),N},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(N){var D=p;return function(){var k=p;p=D;try{return N.apply(this,arguments)}finally{p=k}}}}(b0)),b0}var HM;function Xk(){return HM||(HM=1,C0.exports=jk()),C0.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk=function(e){var t={},i=de,r=Xk(),s=Object.assign;function o(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:(l=T&&l[T]||l["@@iterator"],typeof l=="function"?l:null)}function R(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case f:return"Portal";case p:return"Profiler";case h:return"StrictMode";case M:return"Suspense";case v:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case S:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case A:return c=l.displayName||null,c!==null?c:R(l.type)||"Memo";case x:c=l._payload,l=l._init;try{return R(l(c))}catch{}}return null}function L(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(c);case 8:return c===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function C(l){var c=l,g=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,c.flags&4098&&(g=c.return),l=c.return;while(l)}return c.tag===3?g:null}function I(l){if(C(l)!==l)throw Error(o(188))}function F(l){var c=l.alternate;if(!c){if(c=C(l),c===null)throw Error(o(188));return c!==l?null:l}for(var g=l,_=c;;){var w=g.return;if(w===null)break;var b=w.alternate;if(b===null){if(_=w.return,_!==null){g=_;continue}break}if(w.child===b.child){for(b=w.child;b;){if(b===g)return I(w),l;if(b===_)return I(w),c;b=b.sibling}throw Error(o(188))}if(g.return!==_.return)g=w,_=b;else{for(var H=!1,$=w.child;$;){if($===g){H=!0,g=w,_=b;break}if($===_){H=!0,_=w,g=b;break}$=$.sibling}if(!H){for($=b.child;$;){if($===g){H=!0,g=b,_=w;break}if($===_){H=!0,_=b,g=w;break}$=$.sibling}if(!H)throw Error(o(189))}}if(g.alternate!==_)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?l:c}function j(l){return l=F(l),l!==null?G(l):null}function G(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=G(l);if(c!==null)return c;l=l.sibling}return null}function J(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var c=J(l);if(c!==null)return c}l=l.sibling}return null}var X=Array.isArray,ee=e.getPublicInstance,W=e.getRootHostContext,N=e.getChildHostContext,D=e.prepareForCommit,k=e.resetAfterCommit,te=e.createInstance,K=e.appendInitialChild,ie=e.finalizeInitialChildren,re=e.prepareUpdate,we=e.shouldSetTextContent,Z=e.createTextInstance,U=e.scheduleTimeout,Me=e.cancelTimeout,Re=e.noTimeout,ce=e.isPrimaryRenderer,he=e.supportsMutation,ue=e.supportsPersistence,se=e.supportsHydration,xe=e.getInstanceFromNode,De=e.preparePortalMount,Ie=e.getCurrentEventPriority,Ve=e.detachDeletedInstance,qe=e.supportsMicrotasks,We=e.scheduleMicrotask,it=e.supportsTestSelectors,xt=e.findFiberRoot,V=e.getBoundingRect,O=e.getTextContent,fe=e.isHiddenSubtree,Ce=e.matchAccessibilityRole,be=e.setFocusIfFocusable,Ue=e.setupIntersectionObserver,et=e.appendChild,ze=e.appendChildToContainer,ye=e.commitTextUpdate,Xe=e.commitMount,Y=e.commitUpdate,ve=e.insertBefore,Ee=e.insertInContainerBefore,Le=e.removeChild,Ke=e.removeChildFromContainer,ct=e.resetTextContent,Bt=e.hideInstance,Q=e.hideTextInstance,me=e.unhideInstance,Te=e.unhideTextInstance,He=e.clearContainer,Je=e.cloneInstance,It=e.createContainerChildSet,Nt=e.appendChildToContainerChildSet,Tn=e.finalizeContainerChildren,ur=e.replaceContainerChildren,Jt=e.cloneHiddenInstance,ei=e.cloneHiddenTextInstance,Vi=e.canHydrateInstance,Da=e.canHydrateTextInstance,zf=e.canHydrateSuspenseInstance,Hf=e.isSuspenseInstancePending,Mu=e.isSuspenseInstanceFallback,vm=e.registerSuspenseInstanceRetry,z=e.getNextHydratableSibling,le=e.getFirstHydratableChild,_e=e.getFirstHydratableChildWithinContainer,oe=e.getFirstHydratableChildWithinSuspenseInstance,Ae=e.hydrateInstance,$e=e.hydrateTextInstance,nt=e.hydrateSuspenseInstance,rt=e.getNextHydratableInstanceAfterSuspenseInstance,ft=e.commitHydratedContainer,vt=e.commitHydratedSuspenseInstance,yt=e.clearSuspenseBoundary,At=e.clearSuspenseBoundaryFromContainer,Dt=e.shouldDeleteUnhydratedTailInstances,Dn=e.didNotMatchHydratedContainerTextInstance,Ei=e.didNotMatchHydratedTextInstance,cr;function Gt(l){if(cr===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);cr=c&&c[1]||""}return`
`+cr+l}var St=!1;function Io(l,c){if(!l||St)return"";St=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ne){var _=Ne}Reflect.construct(l,[],c)}else{try{c.call()}catch(Ne){_=Ne}l.call(c.prototype)}else{try{throw Error()}catch(Ne){_=Ne}l()}}catch(Ne){if(Ne&&_&&typeof Ne.stack=="string"){for(var w=Ne.stack.split(`
`),b=_.stack.split(`
`),H=w.length-1,$=b.length-1;1<=H&&0<=$&&w[H]!==b[$];)$--;for(;1<=H&&0<=$;H--,$--)if(w[H]!==b[$]){if(H!==1||$!==1)do if(H--,$--,0>$||w[H]!==b[$]){var ge=`
`+w[H].replace(" at new "," at ");return l.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",l.displayName)),ge}while(1<=H&&0<=$);break}}}finally{St=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?Gt(l):""}var hn=Object.prototype.hasOwnProperty,fr=[],is=-1;function ci(l){return{current:l}}function Ot(l){0>is||(l.current=fr[is],fr[is]=null,is--)}function dt(l,c){is++,fr[is]=l.current,l.current=c}var Hn={},pn=ci(Hn),zt=ci(!1),dr=Hn;function ks(l,c){var g=l.type.contextTypes;if(!g)return Hn;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===c)return _.__reactInternalMemoizedMaskedChildContext;var w={},b;for(b in g)w[b]=c[b];return _&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=w),w}function Un(l){return l=l.childContextTypes,l!=null}function Vf(){Ot(zt),Ot(pn)}function Ex(l,c,g){if(pn.current!==Hn)throw Error(o(168));dt(pn,c),dt(zt,g)}function wx(l,c,g){var _=l.stateNode;if(c=c.childContextTypes,typeof _.getChildContext!="function")return g;_=_.getChildContext();for(var w in _)if(!(w in c))throw Error(o(108,L(l)||"Unknown",w));return s({},g,_)}function Gf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Hn,dr=pn.current,dt(pn,l),dt(zt,zt.current),!0}function Tx(l,c,g){var _=l.stateNode;if(!_)throw Error(o(169));g?(l=wx(l,c,dr),_.__reactInternalMemoizedMergedChildContext=l,Ot(zt),Ot(pn),dt(pn,l)):Ot(zt),dt(zt,g)}var hr=Math.clz32?Math.clz32:ub,ab=Math.log,lb=Math.LN2;function ub(l){return l>>>=0,l===0?32:31-(ab(l)/lb|0)|0}var Wf=64,jf=4194304;function Eu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Xf(l,c){var g=l.pendingLanes;if(g===0)return 0;var _=0,w=l.suspendedLanes,b=l.pingedLanes,H=g&268435455;if(H!==0){var $=H&~w;$!==0?_=Eu($):(b&=H,b!==0&&(_=Eu(b)))}else H=g&~w,H!==0?_=Eu(H):b!==0&&(_=Eu(b));if(_===0)return 0;if(c!==0&&c!==_&&!(c&w)&&(w=_&-_,b=c&-c,w>=b||w===16&&(b&4194240)!==0))return c;if(_&4&&(_|=g&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=_;0<c;)g=31-hr(c),w=1<<g,_|=l[g],c&=~w;return _}function cb(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fb(l,c){for(var g=l.suspendedLanes,_=l.pingedLanes,w=l.expirationTimes,b=l.pendingLanes;0<b;){var H=31-hr(b),$=1<<H,ge=w[H];ge===-1?(!($&g)||$&_)&&(w[H]=cb($,c)):ge<=c&&(l.expiredLanes|=$),b&=~$}}function ym(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function _m(l){for(var c=[],g=0;31>g;g++)c.push(l);return c}function wu(l,c,g){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-hr(c),l[c]=g}function db(l,c){var g=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var _=l.eventTimes;for(l=l.expirationTimes;0<g;){var w=31-hr(g),b=1<<w;c[w]=0,_[w]=-1,l[w]=-1,g&=~b}}function xm(l,c){var g=l.entangledLanes|=c;for(l=l.entanglements;g;){var _=31-hr(g),w=1<<_;w&c|l[_]&c&&(l[_]|=c),g&=~w}}var Rt=0;function Cx(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var Am=r.unstable_scheduleCallback,bx=r.unstable_cancelCallback,hb=r.unstable_shouldYield,pb=r.unstable_requestPaint,Cn=r.unstable_now,Sm=r.unstable_ImmediatePriority,mb=r.unstable_UserBlockingPriority,Mm=r.unstable_NormalPriority,gb=r.unstable_IdlePriority,Yf=null,zr=null;function vb(l){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(Yf,l,void 0,(l.current.flags&128)===128)}catch{}}function yb(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var Hr=typeof Object.is=="function"?Object.is:yb,rs=null,qf=!1,Em=!1;function Rx(l){rs===null?rs=[l]:rs.push(l)}function _b(l){qf=!0,Rx(l)}function Vr(){if(!Em&&rs!==null){Em=!0;var l=0,c=Rt;try{var g=rs;for(Rt=1;l<g.length;l++){var _=g[l];do _=_(!0);while(_!==null)}rs=null,qf=!1}catch(w){throw rs!==null&&(rs=rs.slice(l+1)),Am(Sm,Vr),w}finally{Rt=c,Em=!1}}return null}var xb=a.ReactCurrentBatchConfig;function Jf(l,c){if(Hr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var g=Object.keys(l),_=Object.keys(c);if(g.length!==_.length)return!1;for(_=0;_<g.length;_++){var w=g[_];if(!hn.call(c,w)||!Hr(l[w],c[w]))return!1}return!0}function Ab(l){switch(l.tag){case 5:return Gt(l.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 2:case 15:return l=Io(l.type,!1),l;case 11:return l=Io(l.type.render,!1),l;case 1:return l=Io(l.type,!0),l;default:return""}}function pr(l,c){if(l&&l.defaultProps){c=s({},c),l=l.defaultProps;for(var g in l)c[g]===void 0&&(c[g]=l[g]);return c}return c}var Qf=ci(null),Zf=null,Ua=null,wm=null;function Tm(){wm=Ua=Zf=null}function Px(l,c,g){ce?(dt(Qf,c._currentValue),c._currentValue=g):(dt(Qf,c._currentValue2),c._currentValue2=g)}function Cm(l){var c=Qf.current;Ot(Qf),ce?l._currentValue=c:l._currentValue2=c}function bm(l,c,g){for(;l!==null;){var _=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,_!==null&&(_.childLanes|=c)):_!==null&&(_.childLanes&c)!==c&&(_.childLanes|=c),l===g)break;l=l.return}}function Oa(l,c){Zf=l,wm=Ua=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&c&&(Ci=!0),l.firstContext=null)}function Gi(l){var c=ce?l._currentValue:l._currentValue2;if(wm!==l)if(l={context:l,memoizedValue:c,next:null},Ua===null){if(Zf===null)throw Error(o(308));Ua=l,Zf.dependencies={lanes:0,firstContext:l}}else Ua=Ua.next=l;return c}var Gr=null,Bs=!1;function Rm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lx(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ss(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function zs(l,c){var g=l.updateQueue;g!==null&&(g=g.shared,mn!==null&&l.mode&1&&!(_t&2)?(l=g.interleaved,l===null?(c.next=c,Gr===null?Gr=[g]:Gr.push(g)):(c.next=l.next,l.next=c),g.interleaved=c):(l=g.pending,l===null?c.next=c:(c.next=l.next,l.next=c),g.pending=c))}function Kf(l,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194240)!==0)){var _=c.lanes;_&=l.pendingLanes,g|=_,c.lanes=g,xm(l,g)}}function Ix(l,c){var g=l.updateQueue,_=l.alternate;if(_!==null&&(_=_.updateQueue,g===_)){var w=null,b=null;if(g=g.firstBaseUpdate,g!==null){do{var H={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};b===null?w=b=H:b=b.next=H,g=g.next}while(g!==null);b===null?w=b=c:b=b.next=c}else w=b=c;g={baseState:_.baseState,firstBaseUpdate:w,lastBaseUpdate:b,shared:_.shared,effects:_.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=c:l.next=c,g.lastBaseUpdate=c}function $f(l,c,g,_){var w=l.updateQueue;Bs=!1;var b=w.firstBaseUpdate,H=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var ge=$,Ne=ge.next;ge.next=null,H===null?b=Ne:H.next=Ne,H=ge;var je=l.alternate;je!==null&&(je=je.updateQueue,$=je.lastBaseUpdate,$!==H&&($===null?je.firstBaseUpdate=Ne:$.next=Ne,je.lastBaseUpdate=ge))}if(b!==null){var at=w.baseState;H=0,je=Ne=ge=null,$=b;do{var tt=$.lane,Ht=$.eventTime;if((_&tt)===tt){je!==null&&(je=je.next={eventTime:Ht,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ze=l,jn=$;switch(tt=c,Ht=g,jn.tag){case 1:if(Ze=jn.payload,typeof Ze=="function"){at=Ze.call(Ht,at,tt);break e}at=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=jn.payload,tt=typeof Ze=="function"?Ze.call(Ht,at,tt):Ze,tt==null)break e;at=s({},at,tt);break e;case 2:Bs=!0}}$.callback!==null&&$.lane!==0&&(l.flags|=64,tt=w.effects,tt===null?w.effects=[$]:tt.push($))}else Ht={eventTime:Ht,lane:tt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},je===null?(Ne=je=Ht,ge=at):je=je.next=Ht,H|=tt;if($=$.next,$===null){if($=w.shared.pending,$===null)break;tt=$,$=tt.next,tt.next=null,w.lastBaseUpdate=tt,w.shared.pending=null}}while(1);if(je===null&&(ge=at),w.baseState=ge,w.firstBaseUpdate=Ne,w.lastBaseUpdate=je,c=w.shared.interleaved,c!==null){w=c;do H|=w.lane,w=w.next;while(w!==c)}else b===null&&(w.shared.lanes=0);ja|=H,l.lanes=H,l.memoizedState=at}}function Nx(l,c,g){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var _=l[c],w=_.callback;if(w!==null){if(_.callback=null,_=g,typeof w!="function")throw Error(o(191,w));w.call(_)}}}var Dx=new i.Component().refs;function Pm(l,c,g,_){c=l.memoizedState,g=g(_,c),g=g==null?c:s({},c,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var ed={isMounted:function(l){return(l=l._reactInternals)?C(l)===l:!1},enqueueSetState:function(l,c,g){l=l._reactInternals;var _=ni(),w=Gs(l),b=ss(_,w);b.payload=c,g!=null&&(b.callback=g),zs(l,b),c=qi(l,w,_),c!==null&&Kf(c,l,w)},enqueueReplaceState:function(l,c,g){l=l._reactInternals;var _=ni(),w=Gs(l),b=ss(_,w);b.tag=1,b.payload=c,g!=null&&(b.callback=g),zs(l,b),c=qi(l,w,_),c!==null&&Kf(c,l,w)},enqueueForceUpdate:function(l,c){l=l._reactInternals;var g=ni(),_=Gs(l),w=ss(g,_);w.tag=2,c!=null&&(w.callback=c),zs(l,w),c=qi(l,_,g),c!==null&&Kf(c,l,_)}};function Ux(l,c,g,_,w,b,H){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,b,H):c.prototype&&c.prototype.isPureReactComponent?!Jf(g,_)||!Jf(w,b):!0}function Ox(l,c,g){var _=!1,w=Hn,b=c.contextType;return typeof b=="object"&&b!==null?b=Gi(b):(w=Un(c)?dr:pn.current,_=c.contextTypes,b=(_=_!=null)?ks(l,w):Hn),c=new c(g,b),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ed,l.stateNode=c,c._reactInternals=l,_&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=b),c}function Fx(l,c,g,_){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,_),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,_),c.state!==l&&ed.enqueueReplaceState(c,c.state,null)}function Lm(l,c,g,_){var w=l.stateNode;w.props=g,w.state=l.memoizedState,w.refs=Dx,Rm(l);var b=c.contextType;typeof b=="object"&&b!==null?w.context=Gi(b):(b=Un(c)?dr:pn.current,w.context=ks(l,b)),w.state=l.memoizedState,b=c.getDerivedStateFromProps,typeof b=="function"&&(Pm(l,c,b,g),w.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&ed.enqueueReplaceState(w,w.state,null),$f(l,g,w,_),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}var Fa=[],ka=0,td=null,nd=0,Wi=[],ji=0,No=null,os=1,as="";function Do(l,c){Fa[ka++]=nd,Fa[ka++]=td,td=l,nd=c}function kx(l,c,g){Wi[ji++]=os,Wi[ji++]=as,Wi[ji++]=No,No=l;var _=os;l=as;var w=32-hr(_)-1;_&=~(1<<w),g+=1;var b=32-hr(c)+w;if(30<b){var H=w-w%5;b=(_&(1<<H)-1).toString(32),_>>=H,w-=H,os=1<<32-hr(c)+w|g<<w|_,as=b+l}else os=1<<b|g<<w|_,as=l}function Im(l){l.return!==null&&(Do(l,1),kx(l,1,0))}function Nm(l){for(;l===td;)td=Fa[--ka],Fa[ka]=null,nd=Fa[--ka],Fa[ka]=null;for(;l===No;)No=Wi[--ji],Wi[ji]=null,as=Wi[--ji],Wi[ji]=null,os=Wi[--ji],Wi[ji]=null}var wi=null,Ti=null,Qt=!1,Tu=!1,mr=null;function Bx(l,c){var g=Ji(5,null,null,0);g.elementType="DELETED",g.stateNode=c,g.return=l,c=l.deletions,c===null?(l.deletions=[g],l.flags|=16):c.push(g)}function zx(l,c){switch(l.tag){case 5:return c=Vi(c,l.type,l.pendingProps),c!==null?(l.stateNode=c,wi=l,Ti=le(c),!0):!1;case 6:return c=Da(c,l.pendingProps),c!==null?(l.stateNode=c,wi=l,Ti=null,!0):!1;case 13:if(c=zf(c),c!==null){var g=No!==null?{id:os,overflow:as}:null;return l.memoizedState={dehydrated:c,treeContext:g,retryLane:1073741824},g=Ji(18,null,null,0),g.stateNode=c,g.return=l,l.child=g,wi=l,Ti=null,!0}return!1;default:return!1}}function Dm(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Um(l){if(Qt){var c=Ti;if(c){var g=c;if(!zx(l,c)){if(Dm(l))throw Error(o(418));c=z(g);var _=wi;c&&zx(l,c)?Bx(_,g):(l.flags=l.flags&-4097|2,Qt=!1,wi=l)}}else{if(Dm(l))throw Error(o(418));l.flags=l.flags&-4097|2,Qt=!1,wi=l}}}function Hx(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;wi=l}function Cu(l){if(!se||l!==wi)return!1;if(!Qt)return Hx(l),Qt=!0,!1;if(l.tag!==3&&(l.tag!==5||Dt(l.type)&&!we(l.type,l.memoizedProps))){var c=Ti;if(c){if(Dm(l)){for(l=Ti;l;)l=z(l);throw Error(o(418))}for(;c;)Bx(l,c),c=z(c)}}if(Hx(l),l.tag===13){if(!se)throw Error(o(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));Ti=rt(l)}else Ti=wi?z(l.stateNode):null;return!0}function Ba(){se&&(Ti=wi=null,Tu=Qt=!1)}function Om(l){mr===null?mr=[l]:mr.push(l)}function bu(l,c,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var _=g.stateNode}if(!_)throw Error(o(147,l));var w=_,b=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===b?c.ref:(c=function(H){var $=w.refs;$===Dx&&($=w.refs={}),H===null?delete $[b]:$[b]=H},c._stringRef=b,c)}if(typeof l!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,l))}return l}function id(l,c){throw l=Object.prototype.toString.call(c),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function Vx(l){var c=l._init;return c(l._payload)}function Gx(l){function c(ae,ne){if(l){var pe=ae.deletions;pe===null?(ae.deletions=[ne],ae.flags|=16):pe.push(ne)}}function g(ae,ne){if(!l)return null;for(;ne!==null;)c(ae,ne),ne=ne.sibling;return null}function _(ae,ne){for(ae=new Map;ne!==null;)ne.key!==null?ae.set(ne.key,ne):ae.set(ne.index,ne),ne=ne.sibling;return ae}function w(ae,ne){return ae=js(ae,ne),ae.index=0,ae.sibling=null,ae}function b(ae,ne,pe){return ae.index=pe,l?(pe=ae.alternate,pe!==null?(pe=pe.index,pe<ne?(ae.flags|=2,ne):pe):(ae.flags|=2,ne)):(ae.flags|=1048576,ne)}function H(ae){return l&&ae.alternate===null&&(ae.flags|=2),ae}function $(ae,ne,pe,Be){return ne===null||ne.tag!==6?(ne=_g(pe,ae.mode,Be),ne.return=ae,ne):(ne=w(ne,pe),ne.return=ae,ne)}function ge(ae,ne,pe,Be){var Qe=pe.type;return Qe===d?je(ae,ne,pe.props.children,Be,pe.key):ne!==null&&(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===x&&Vx(Qe)===ne.type)?(Be=w(ne,pe.props),Be.ref=bu(ae,ne,pe),Be.return=ae,Be):(Be=Dd(pe.type,pe.key,pe.props,null,ae.mode,Be),Be.ref=bu(ae,ne,pe),Be.return=ae,Be)}function Ne(ae,ne,pe,Be){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==pe.containerInfo||ne.stateNode.implementation!==pe.implementation?(ne=xg(pe,ae.mode,Be),ne.return=ae,ne):(ne=w(ne,pe.children||[]),ne.return=ae,ne)}function je(ae,ne,pe,Be,Qe){return ne===null||ne.tag!==7?(ne=Ho(pe,ae.mode,Be,Qe),ne.return=ae,ne):(ne=w(ne,pe),ne.return=ae,ne)}function at(ae,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=_g(""+ne,ae.mode,pe),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case u:return pe=Dd(ne.type,ne.key,ne.props,null,ae.mode,pe),pe.ref=bu(ae,null,ne),pe.return=ae,pe;case f:return ne=xg(ne,ae.mode,pe),ne.return=ae,ne;case x:var Be=ne._init;return at(ae,Be(ne._payload),pe)}if(X(ne)||P(ne))return ne=Ho(ne,ae.mode,pe,null),ne.return=ae,ne;id(ae,ne)}return null}function tt(ae,ne,pe,Be){var Qe=ne!==null?ne.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Qe!==null?null:$(ae,ne,""+pe,Be);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case u:return pe.key===Qe?ge(ae,ne,pe,Be):null;case f:return pe.key===Qe?Ne(ae,ne,pe,Be):null;case x:return Qe=pe._init,tt(ae,ne,Qe(pe._payload),Be)}if(X(pe)||P(pe))return Qe!==null?null:je(ae,ne,pe,Be,null);id(ae,pe)}return null}function Ht(ae,ne,pe,Be,Qe){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ae=ae.get(pe)||null,$(ne,ae,""+Be,Qe);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case u:return ae=ae.get(Be.key===null?pe:Be.key)||null,ge(ne,ae,Be,Qe);case f:return ae=ae.get(Be.key===null?pe:Be.key)||null,Ne(ne,ae,Be,Qe);case x:var pt=Be._init;return Ht(ae,ne,pe,pt(Be._payload),Qe)}if(X(Be)||P(Be))return ae=ae.get(pe)||null,je(ne,ae,Be,Qe,null);id(ne,Be)}return null}function Ze(ae,ne,pe,Be){for(var Qe=null,pt=null,lt=ne,Pt=ne=0,Rn=null;lt!==null&&Pt<pe.length;Pt++){lt.index>Pt?(Rn=lt,lt=null):Rn=lt.sibling;var Lt=tt(ae,lt,pe[Pt],Be);if(Lt===null){lt===null&&(lt=Rn);break}l&&lt&&Lt.alternate===null&&c(ae,lt),ne=b(Lt,ne,Pt),pt===null?Qe=Lt:pt.sibling=Lt,pt=Lt,lt=Rn}if(Pt===pe.length)return g(ae,lt),Qt&&Do(ae,Pt),Qe;if(lt===null){for(;Pt<pe.length;Pt++)lt=at(ae,pe[Pt],Be),lt!==null&&(ne=b(lt,ne,Pt),pt===null?Qe=lt:pt.sibling=lt,pt=lt);return Qt&&Do(ae,Pt),Qe}for(lt=_(ae,lt);Pt<pe.length;Pt++)Rn=Ht(lt,ae,Pt,pe[Pt],Be),Rn!==null&&(l&&Rn.alternate!==null&&lt.delete(Rn.key===null?Pt:Rn.key),ne=b(Rn,ne,Pt),pt===null?Qe=Rn:pt.sibling=Rn,pt=Rn);return l&&lt.forEach(function(Xs){return c(ae,Xs)}),Qt&&Do(ae,Pt),Qe}function jn(ae,ne,pe,Be){var Qe=P(pe);if(typeof Qe!="function")throw Error(o(150));if(pe=Qe.call(pe),pe==null)throw Error(o(151));for(var pt=Qe=null,lt=ne,Pt=ne=0,Rn=null,Lt=pe.next();lt!==null&&!Lt.done;Pt++,Lt=pe.next()){lt.index>Pt?(Rn=lt,lt=null):Rn=lt.sibling;var Xs=tt(ae,lt,Lt.value,Be);if(Xs===null){lt===null&&(lt=Rn);break}l&&lt&&Xs.alternate===null&&c(ae,lt),ne=b(Xs,ne,Pt),pt===null?Qe=Xs:pt.sibling=Xs,pt=Xs,lt=Rn}if(Lt.done)return g(ae,lt),Qt&&Do(ae,Pt),Qe;if(lt===null){for(;!Lt.done;Pt++,Lt=pe.next())Lt=at(ae,Lt.value,Be),Lt!==null&&(ne=b(Lt,ne,Pt),pt===null?Qe=Lt:pt.sibling=Lt,pt=Lt);return Qt&&Do(ae,Pt),Qe}for(lt=_(ae,lt);!Lt.done;Pt++,Lt=pe.next())Lt=Ht(lt,ae,Pt,Lt.value,Be),Lt!==null&&(l&&Lt.alternate!==null&&lt.delete(Lt.key===null?Pt:Lt.key),ne=b(Lt,ne,Pt),pt===null?Qe=Lt:pt.sibling=Lt,pt=Lt);return l&&lt.forEach(function(Zb){return c(ae,Zb)}),Qt&&Do(ae,Pt),Qe}function Qi(ae,ne,pe,Be){if(typeof pe=="object"&&pe!==null&&pe.type===d&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case u:e:{for(var Qe=pe.key,pt=ne;pt!==null;){if(pt.key===Qe){if(Qe=pe.type,Qe===d){if(pt.tag===7){g(ae,pt.sibling),ne=w(pt,pe.props.children),ne.return=ae,ae=ne;break e}}else if(pt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===x&&Vx(Qe)===pt.type){g(ae,pt.sibling),ne=w(pt,pe.props),ne.ref=bu(ae,pt,pe),ne.return=ae,ae=ne;break e}g(ae,pt);break}else c(ae,pt);pt=pt.sibling}pe.type===d?(ne=Ho(pe.props.children,ae.mode,Be,pe.key),ne.return=ae,ae=ne):(Be=Dd(pe.type,pe.key,pe.props,null,ae.mode,Be),Be.ref=bu(ae,ne,pe),Be.return=ae,ae=Be)}return H(ae);case f:e:{for(pt=pe.key;ne!==null;){if(ne.key===pt)if(ne.tag===4&&ne.stateNode.containerInfo===pe.containerInfo&&ne.stateNode.implementation===pe.implementation){g(ae,ne.sibling),ne=w(ne,pe.children||[]),ne.return=ae,ae=ne;break e}else{g(ae,ne);break}else c(ae,ne);ne=ne.sibling}ne=xg(pe,ae.mode,Be),ne.return=ae,ae=ne}return H(ae);case x:return pt=pe._init,Qi(ae,ne,pt(pe._payload),Be)}if(X(pe))return Ze(ae,ne,pe,Be);if(P(pe))return jn(ae,ne,pe,Be);id(ae,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ne!==null&&ne.tag===6?(g(ae,ne.sibling),ne=w(ne,pe),ne.return=ae,ae=ne):(g(ae,ne),ne=_g(pe,ae.mode,Be),ne.return=ae,ae=ne),H(ae)):g(ae,ne)}return Qi}var za=Gx(!0),Wx=Gx(!1),Ru={},Xi=ci(Ru),Pu=ci(Ru),Ha=ci(Ru);function Wr(l){if(l===Ru)throw Error(o(174));return l}function Fm(l,c){dt(Ha,c),dt(Pu,l),dt(Xi,Ru),l=W(c),Ot(Xi),dt(Xi,l)}function Va(){Ot(Xi),Ot(Pu),Ot(Ha)}function jx(l){var c=Wr(Ha.current),g=Wr(Xi.current);c=N(g,l.type,c),g!==c&&(dt(Pu,l),dt(Xi,c))}function km(l){Pu.current===l&&(Ot(Xi),Ot(Pu))}var $t=ci(0);function rd(l){for(var c=l;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Hf(g)||Mu(g)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Bm=[];function zm(){for(var l=0;l<Bm.length;l++){var c=Bm[l];ce?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}Bm.length=0}var sd=a.ReactCurrentDispatcher,Yi=a.ReactCurrentBatchConfig,Ga=0,sn=null,Vn=null,bn=null,od=!1,Lu=!1,Iu=0,Sb=0;function Gn(){throw Error(o(321))}function Hm(l,c){if(c===null)return!1;for(var g=0;g<c.length&&g<l.length;g++)if(!Hr(l[g],c[g]))return!1;return!0}function Vm(l,c,g,_,w,b){if(Ga=b,sn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,sd.current=l===null||l.memoizedState===null?Tb:Cb,l=g(_,w),Lu){b=0;do{if(Lu=!1,Iu=0,25<=b)throw Error(o(301));b+=1,bn=Vn=null,c.updateQueue=null,sd.current=bb,l=g(_,w)}while(Lu)}if(sd.current=fd,c=Vn!==null&&Vn.next!==null,Ga=0,bn=Vn=sn=null,od=!1,c)throw Error(o(300));return l}function Gm(){var l=Iu!==0;return Iu=0,l}function ls(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?sn.memoizedState=bn=l:bn=bn.next=l,bn}function jr(){if(Vn===null){var l=sn.alternate;l=l!==null?l.memoizedState:null}else l=Vn.next;var c=bn===null?sn.memoizedState:bn.next;if(c!==null)bn=c,Vn=l;else{if(l===null)throw Error(o(310));Vn=l,l={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},bn===null?sn.memoizedState=bn=l:bn=bn.next=l}return bn}function Uo(l,c){return typeof c=="function"?c(l):c}function ad(l){var c=jr(),g=c.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=l;var _=Vn,w=_.baseQueue,b=g.pending;if(b!==null){if(w!==null){var H=w.next;w.next=b.next,b.next=H}_.baseQueue=w=b,g.pending=null}if(w!==null){b=w.next,_=_.baseState;var $=H=null,ge=null,Ne=b;do{var je=Ne.lane;if((Ga&je)===je)ge!==null&&(ge=ge.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),_=Ne.hasEagerState?Ne.eagerState:l(_,Ne.action);else{var at={lane:je,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ge===null?($=ge=at,H=_):ge=ge.next=at,sn.lanes|=je,ja|=je}Ne=Ne.next}while(Ne!==null&&Ne!==b);ge===null?H=_:ge.next=$,Hr(_,c.memoizedState)||(Ci=!0),c.memoizedState=_,c.baseState=H,c.baseQueue=ge,g.lastRenderedState=_}if(l=g.interleaved,l!==null){w=l;do b=w.lane,sn.lanes|=b,ja|=b,w=w.next;while(w!==l)}else w===null&&(g.lanes=0);return[c.memoizedState,g.dispatch]}function ld(l){var c=jr(),g=c.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=l;var _=g.dispatch,w=g.pending,b=c.memoizedState;if(w!==null){g.pending=null;var H=w=w.next;do b=l(b,H.action),H=H.next;while(H!==w);Hr(b,c.memoizedState)||(Ci=!0),c.memoizedState=b,c.baseQueue===null&&(c.baseState=b),g.lastRenderedState=b}return[b,_]}function Xx(){}function Yx(l,c){var g=sn,_=jr(),w=c(),b=!Hr(_.memoizedState,w);if(b&&(_.memoizedState=w,Ci=!0),_=_.queue,Du(Qx.bind(null,g,_,l),[l]),_.getSnapshot!==c||b||bn!==null&&bn.memoizedState.tag&1){if(g.flags|=2048,Nu(9,Jx.bind(null,g,_,w,c),void 0,null),mn===null)throw Error(o(349));Ga&30||qx(g,c,w)}return w}function qx(l,c,g){l.flags|=16384,l={getSnapshot:c,value:g},c=sn.updateQueue,c===null?(c={lastEffect:null,stores:null},sn.updateQueue=c,c.stores=[l]):(g=c.stores,g===null?c.stores=[l]:g.push(l))}function Jx(l,c,g,_){c.value=g,c.getSnapshot=_,Zx(c)&&qi(l,1,-1)}function Qx(l,c,g){return g(function(){Zx(c)&&qi(l,1,-1)})}function Zx(l){var c=l.getSnapshot;l=l.value;try{var g=c();return!Hr(l,g)}catch{return!0}}function Wm(l){var c=ls();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:l},c.queue=l,l=l.dispatch=wb.bind(null,sn,l),[c.memoizedState,l]}function Nu(l,c,g,_){return l={tag:l,create:c,destroy:g,deps:_,next:null},c=sn.updateQueue,c===null?(c={lastEffect:null,stores:null},sn.updateQueue=c,c.lastEffect=l.next=l):(g=c.lastEffect,g===null?c.lastEffect=l.next=l:(_=g.next,g.next=l,l.next=_,c.lastEffect=l)),l}function Kx(){return jr().memoizedState}function ud(l,c,g,_){var w=ls();sn.flags|=l,w.memoizedState=Nu(1|c,g,void 0,_===void 0?null:_)}function cd(l,c,g,_){var w=jr();_=_===void 0?null:_;var b=void 0;if(Vn!==null){var H=Vn.memoizedState;if(b=H.destroy,_!==null&&Hm(_,H.deps)){w.memoizedState=Nu(c,g,b,_);return}}sn.flags|=l,w.memoizedState=Nu(1|c,g,b,_)}function jm(l,c){return ud(8390656,8,l,c)}function Du(l,c){return cd(2048,8,l,c)}function $x(l,c){return cd(4,2,l,c)}function e1(l,c){return cd(4,4,l,c)}function t1(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function n1(l,c,g){return g=g!=null?g.concat([l]):null,cd(4,4,t1.bind(null,c,l),g)}function Xm(){}function i1(l,c){var g=jr();c=c===void 0?null:c;var _=g.memoizedState;return _!==null&&c!==null&&Hm(c,_[1])?_[0]:(g.memoizedState=[l,c],l)}function r1(l,c){var g=jr();c=c===void 0?null:c;var _=g.memoizedState;return _!==null&&c!==null&&Hm(c,_[1])?_[0]:(l=l(),g.memoizedState=[l,c],l)}function Mb(l,c){var g=Rt;Rt=g!==0&&4>g?g:4,l(!0);var _=Yi.transition;Yi.transition={};try{l(!1),c()}finally{Rt=g,Yi.transition=_}}function s1(){return jr().memoizedState}function Eb(l,c,g){var _=Gs(l);g={lane:_,action:g,hasEagerState:!1,eagerState:null,next:null},o1(l)?a1(c,g):(l1(l,c,g),g=ni(),l=qi(l,_,g),l!==null&&u1(l,c,_))}function wb(l,c,g){var _=Gs(l),w={lane:_,action:g,hasEagerState:!1,eagerState:null,next:null};if(o1(l))a1(c,w);else{l1(l,c,w);var b=l.alternate;if(l.lanes===0&&(b===null||b.lanes===0)&&(b=c.lastRenderedReducer,b!==null))try{var H=c.lastRenderedState,$=b(H,g);if(w.hasEagerState=!0,w.eagerState=$,Hr($,H))return}catch{}finally{}g=ni(),l=qi(l,_,g),l!==null&&u1(l,c,_)}}function o1(l){var c=l.alternate;return l===sn||c!==null&&c===sn}function a1(l,c){Lu=od=!0;var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}function l1(l,c,g){mn!==null&&l.mode&1&&!(_t&2)?(l=c.interleaved,l===null?(g.next=g,Gr===null?Gr=[c]:Gr.push(c)):(g.next=l.next,l.next=g),c.interleaved=g):(l=c.pending,l===null?g.next=g:(g.next=l.next,l.next=g),c.pending=g)}function u1(l,c,g){if(g&4194240){var _=c.lanes;_&=l.pendingLanes,g|=_,c.lanes=g,xm(l,g)}}var fd={readContext:Gi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},Tb={readContext:Gi,useCallback:function(l,c){return ls().memoizedState=[l,c===void 0?null:c],l},useContext:Gi,useEffect:jm,useImperativeHandle:function(l,c,g){return g=g!=null?g.concat([l]):null,ud(4194308,4,t1.bind(null,c,l),g)},useLayoutEffect:function(l,c){return ud(4194308,4,l,c)},useInsertionEffect:function(l,c){return ud(4,2,l,c)},useMemo:function(l,c){var g=ls();return c=c===void 0?null:c,l=l(),g.memoizedState=[l,c],l},useReducer:function(l,c,g){var _=ls();return c=g!==void 0?g(c):c,_.memoizedState=_.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},_.queue=l,l=l.dispatch=Eb.bind(null,sn,l),[_.memoizedState,l]},useRef:function(l){var c=ls();return l={current:l},c.memoizedState=l},useState:Wm,useDebugValue:Xm,useDeferredValue:function(l){var c=Wm(l),g=c[0],_=c[1];return jm(function(){var w=Yi.transition;Yi.transition={};try{_(l)}finally{Yi.transition=w}},[l]),g},useTransition:function(){var l=Wm(!1),c=l[0];return l=Mb.bind(null,l[1]),ls().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,g){var _=sn,w=ls();if(Qt){if(g===void 0)throw Error(o(407));g=g()}else{if(g=c(),mn===null)throw Error(o(349));Ga&30||qx(_,c,g)}w.memoizedState=g;var b={value:g,getSnapshot:c};return w.queue=b,jm(Qx.bind(null,_,b,l),[l]),_.flags|=2048,Nu(9,Jx.bind(null,_,b,g,c),void 0,null),g},useId:function(){var l=ls(),c=mn.identifierPrefix;if(Qt){var g=as,_=os;g=(_&~(1<<32-hr(_)-1)).toString(32)+g,c=":"+c+"R"+g,g=Iu++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=Sb++,c=":"+c+"r"+g.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},Cb={readContext:Gi,useCallback:i1,useContext:Gi,useEffect:Du,useImperativeHandle:n1,useInsertionEffect:$x,useLayoutEffect:e1,useMemo:r1,useReducer:ad,useRef:Kx,useState:function(){return ad(Uo)},useDebugValue:Xm,useDeferredValue:function(l){var c=ad(Uo),g=c[0],_=c[1];return Du(function(){var w=Yi.transition;Yi.transition={};try{_(l)}finally{Yi.transition=w}},[l]),g},useTransition:function(){var l=ad(Uo)[0],c=jr().memoizedState;return[l,c]},useMutableSource:Xx,useSyncExternalStore:Yx,useId:s1,unstable_isNewReconciler:!1},bb={readContext:Gi,useCallback:i1,useContext:Gi,useEffect:Du,useImperativeHandle:n1,useInsertionEffect:$x,useLayoutEffect:e1,useMemo:r1,useReducer:ld,useRef:Kx,useState:function(){return ld(Uo)},useDebugValue:Xm,useDeferredValue:function(l){var c=ld(Uo),g=c[0],_=c[1];return Du(function(){var w=Yi.transition;Yi.transition={};try{_(l)}finally{Yi.transition=w}},[l]),g},useTransition:function(){var l=ld(Uo)[0],c=jr().memoizedState;return[l,c]},useMutableSource:Xx,useSyncExternalStore:Yx,useId:s1,unstable_isNewReconciler:!1};function Ym(l,c){try{var g="",_=c;do g+=Ab(_),_=_.return;while(_);var w=g}catch(b){w=`
Error generating stack: `+b.message+`
`+b.stack}return{value:l,source:c,stack:w}}function qm(l,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var Rb=typeof WeakMap=="function"?WeakMap:Map;function c1(l,c,g){g=ss(-1,g),g.tag=3,g.payload={element:null};var _=c.value;return g.callback=function(){Cd||(Cd=!0,dg=_),qm(l,c)},g}function f1(l,c,g){g=ss(-1,g),g.tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var w=c.value;g.payload=function(){return _(w)},g.callback=function(){qm(l,c)}}var b=l.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(g.callback=function(){qm(l,c),typeof _!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var H=c.stack;this.componentDidCatch(c.value,{componentStack:H!==null?H:""})}),g}function d1(l,c,g){var _=l.pingCache;if(_===null){_=l.pingCache=new Rb;var w=new Set;_.set(c,w)}else w=_.get(c),w===void 0&&(w=new Set,_.set(c,w));w.has(g)||(w.add(g),l=Gb.bind(null,l,c,g),c.then(l,l))}function h1(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function p1(l,c,g,_,w){return l.mode&1?(l.flags|=65536,l.lanes=w,l):(l===c?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(c=ss(-1,1),c.tag=2,zs(g,c))),g.lanes|=1),l)}function Xr(l){l.flags|=4}function m1(l,c){if(l!==null&&l.child===c.child)return!0;if(c.flags&16)return!1;for(l=c.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var Uu,Ou,dd,hd;if(he)Uu=function(l,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)K(l,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Ou=function(){},dd=function(l,c,g,_,w){if(l=l.memoizedProps,l!==_){var b=c.stateNode,H=Wr(Xi.current);g=re(b,g,l,_,w,H),(c.updateQueue=g)&&Xr(c)}},hd=function(l,c,g,_){g!==_&&Xr(c)};else if(ue){Uu=function(l,c,g,_){for(var w=c.child;w!==null;){if(w.tag===5){var b=w.stateNode;g&&_&&(b=Jt(b,w.type,w.memoizedProps,w)),K(l,b)}else if(w.tag===6)b=w.stateNode,g&&_&&(b=ei(b,w.memoizedProps,w)),K(l,b);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)b=w.child,b!==null&&(b.return=w),Uu(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var g1=function(l,c,g,_){for(var w=c.child;w!==null;){if(w.tag===5){var b=w.stateNode;g&&_&&(b=Jt(b,w.type,w.memoizedProps,w)),Nt(l,b)}else if(w.tag===6)b=w.stateNode,g&&_&&(b=ei(b,w.memoizedProps,w)),Nt(l,b);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)b=w.child,b!==null&&(b.return=w),g1(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};Ou=function(l,c){var g=c.stateNode;if(!m1(l,c)){l=g.containerInfo;var _=It(l);g1(_,c,!1,!1),g.pendingChildren=_,Xr(c),Tn(l,_)}},dd=function(l,c,g,_,w){var b=l.stateNode,H=l.memoizedProps;if((l=m1(l,c))&&H===_)c.stateNode=b;else{var $=c.stateNode,ge=Wr(Xi.current),Ne=null;H!==_&&(Ne=re($,g,H,_,w,ge)),l&&Ne===null?c.stateNode=b:(b=Je(b,Ne,g,H,_,c,l,$),ie(b,g,_,w,ge)&&Xr(c),c.stateNode=b,l?Xr(c):Uu(b,c,!1,!1))}},hd=function(l,c,g,_){g!==_?(l=Wr(Ha.current),g=Wr(Xi.current),c.stateNode=Z(_,l,g,c),Xr(c)):c.stateNode=l.stateNode}}else Ou=function(){},dd=function(){},hd=function(){};function Fu(l,c){if(!Qt)switch(l.tailMode){case"hidden":c=l.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function Wn(l){var c=l.alternate!==null&&l.alternate.child===l.child,g=0,_=0;if(c)for(var w=l.child;w!==null;)g|=w.lanes|w.childLanes,_|=w.subtreeFlags&14680064,_|=w.flags&14680064,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)g|=w.lanes|w.childLanes,_|=w.subtreeFlags,_|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=_,l.childLanes=g,c}function Pb(l,c,g){var _=c.pendingProps;switch(Nm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(c),null;case 1:return Un(c.type)&&Vf(),Wn(c),null;case 3:return _=c.stateNode,Va(),Ot(zt),Ot(pn),zm(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(l===null||l.child===null)&&(Cu(c)?Xr(c):l===null||l.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,mr!==null&&(mg(mr),mr=null))),Ou(l,c),Wn(c),null;case 5:km(c),g=Wr(Ha.current);var w=c.type;if(l!==null&&c.stateNode!=null)dd(l,c,w,_,g),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!_){if(c.stateNode===null)throw Error(o(166));return Wn(c),null}if(l=Wr(Xi.current),Cu(c)){if(!se)throw Error(o(175));l=Ae(c.stateNode,c.type,c.memoizedProps,g,l,c,!Tu),c.updateQueue=l,l!==null&&Xr(c)}else{var b=te(w,_,g,l,c);Uu(b,c,!1,!1),c.stateNode=b,ie(b,w,_,g,l)&&Xr(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Wn(c),null;case 6:if(l&&c.stateNode!=null)hd(l,c,l.memoizedProps,_);else{if(typeof _!="string"&&c.stateNode===null)throw Error(o(166));if(l=Wr(Ha.current),g=Wr(Xi.current),Cu(c)){if(!se)throw Error(o(176));if(l=c.stateNode,_=c.memoizedProps,(g=$e(l,_,c,!Tu))&&(w=wi,w!==null))switch(b=(w.mode&1)!==0,w.tag){case 3:Dn(w.stateNode.containerInfo,l,_,b);break;case 5:Ei(w.type,w.memoizedProps,w.stateNode,l,_,b)}g&&Xr(c)}else c.stateNode=Z(_,l,g,c)}return Wn(c),null;case 13:if(Ot($t),_=c.memoizedState,Qt&&Ti!==null&&c.mode&1&&!(c.flags&128)){for(l=Ti;l;)l=z(l);return Ba(),c.flags|=98560,c}if(_!==null&&_.dehydrated!==null){if(_=Cu(c),l===null){if(!_)throw Error(o(318));if(!se)throw Error(o(344));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));nt(l,c)}else Ba(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;return Wn(c),null}return mr!==null&&(mg(mr),mr=null),c.flags&128?(c.lanes=g,c):(_=_!==null,g=!1,l===null?Cu(c):g=l.memoizedState!==null,_&&!g&&(c.child.flags|=8192,c.mode&1&&(l===null||$t.current&1?xn===0&&(xn=3):vg())),c.updateQueue!==null&&(c.flags|=4),Wn(c),null);case 4:return Va(),Ou(l,c),l===null&&De(c.stateNode.containerInfo),Wn(c),null;case 10:return Cm(c.type._context),Wn(c),null;case 17:return Un(c.type)&&Vf(),Wn(c),null;case 19:if(Ot($t),w=c.memoizedState,w===null)return Wn(c),null;if(_=(c.flags&128)!==0,b=w.rendering,b===null)if(_)Fu(w,!1);else{if(xn!==0||l!==null&&l.flags&128)for(l=c.child;l!==null;){if(b=rd(l),b!==null){for(c.flags|=128,Fu(w,!1),l=b.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),c.subtreeFlags=0,l=g,_=c.child;_!==null;)g=_,w=l,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=w,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,w=b.dependencies,g.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),_=_.sibling;return dt($t,$t.current&1|2),c.child}l=l.sibling}w.tail!==null&&Cn()>fg&&(c.flags|=128,_=!0,Fu(w,!1),c.lanes=4194304)}else{if(!_)if(l=rd(b),l!==null){if(c.flags|=128,_=!0,l=l.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),Fu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!Qt)return Wn(c),null}else 2*Cn()-w.renderingStartTime>fg&&g!==1073741824&&(c.flags|=128,_=!0,Fu(w,!1),c.lanes=4194304);w.isBackwards?(b.sibling=c.child,c.child=b):(l=w.last,l!==null?l.sibling=b:c.child=b,w.last=b)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=Cn(),c.sibling=null,l=$t.current,dt($t,_?l&1|2:l&1),c):(Wn(c),null);case 22:case 23:return gg(),_=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==_&&(c.flags|=8192),_&&c.mode&1?bi&1073741824&&(Wn(c),he&&c.subtreeFlags&6&&(c.flags|=8192)):Wn(c),null;case 24:return null;case 25:return null}throw Error(o(156,c.tag))}var Lb=a.ReactCurrentOwner,Ci=!1;function ti(l,c,g,_){c.child=l===null?Wx(c,null,g,_):za(c,l.child,g,_)}function v1(l,c,g,_,w){g=g.render;var b=c.ref;return Oa(c,w),_=Vm(l,c,g,_,b,w),g=Gm(),l!==null&&!Ci?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~w,us(l,c,w)):(Qt&&g&&Im(c),c.flags|=1,ti(l,c,_,w),c.child)}function y1(l,c,g,_,w){if(l===null){var b=g.type;return typeof b=="function"&&!yg(b)&&b.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=b,_1(l,c,b,_,w)):(l=Dd(g.type,null,_,c,c.mode,w),l.ref=c.ref,l.return=c,c.child=l)}if(b=l.child,!(l.lanes&w)){var H=b.memoizedProps;if(g=g.compare,g=g!==null?g:Jf,g(H,_)&&l.ref===c.ref)return us(l,c,w)}return c.flags|=1,l=js(b,_),l.ref=c.ref,l.return=c,c.child=l}function _1(l,c,g,_,w){if(l!==null&&Jf(l.memoizedProps,_)&&l.ref===c.ref)if(Ci=!1,(l.lanes&w)!==0)l.flags&131072&&(Ci=!0);else return c.lanes=l.lanes,us(l,c,w);return Jm(l,c,g,_,w)}function x1(l,c,g){var _=c.pendingProps,w=_.children,b=l!==null?l.memoizedState:null;if(_.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null},dt(Wa,bi),bi|=g;else if(g&1073741824)c.memoizedState={baseLanes:0,cachePool:null},_=b!==null?b.baseLanes:g,dt(Wa,bi),bi|=_;else return l=b!==null?b.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null},c.updateQueue=null,dt(Wa,bi),bi|=l,null;else b!==null?(_=b.baseLanes|g,c.memoizedState=null):_=g,dt(Wa,bi),bi|=_;return ti(l,c,w,g),c.child}function A1(l,c){var g=c.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(c.flags|=512,c.flags|=2097152)}function Jm(l,c,g,_,w){var b=Un(g)?dr:pn.current;return b=ks(c,b),Oa(c,w),g=Vm(l,c,g,_,b,w),_=Gm(),l!==null&&!Ci?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~w,us(l,c,w)):(Qt&&_&&Im(c),c.flags|=1,ti(l,c,g,w),c.child)}function S1(l,c,g,_,w){if(Un(g)){var b=!0;Gf(c)}else b=!1;if(Oa(c,w),c.stateNode===null)l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),Ox(c,g,_),Lm(c,g,_,w),_=!0;else if(l===null){var H=c.stateNode,$=c.memoizedProps;H.props=$;var ge=H.context,Ne=g.contextType;typeof Ne=="object"&&Ne!==null?Ne=Gi(Ne):(Ne=Un(g)?dr:pn.current,Ne=ks(c,Ne));var je=g.getDerivedStateFromProps,at=typeof je=="function"||typeof H.getSnapshotBeforeUpdate=="function";at||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||($!==_||ge!==Ne)&&Fx(c,H,_,Ne),Bs=!1;var tt=c.memoizedState;H.state=tt,$f(c,_,H,w),ge=c.memoizedState,$!==_||tt!==ge||zt.current||Bs?(typeof je=="function"&&(Pm(c,g,je,_),ge=c.memoizedState),($=Bs||Ux(c,g,$,_,tt,ge,Ne))?(at||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(c.flags|=4194308)):(typeof H.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=_,c.memoizedState=ge),H.props=_,H.state=ge,H.context=Ne,_=$):(typeof H.componentDidMount=="function"&&(c.flags|=4194308),_=!1)}else{H=c.stateNode,Lx(l,c),$=c.memoizedProps,Ne=c.type===c.elementType?$:pr(c.type,$),H.props=Ne,at=c.pendingProps,tt=H.context,ge=g.contextType,typeof ge=="object"&&ge!==null?ge=Gi(ge):(ge=Un(g)?dr:pn.current,ge=ks(c,ge));var Ht=g.getDerivedStateFromProps;(je=typeof Ht=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||($!==at||tt!==ge)&&Fx(c,H,_,ge),Bs=!1,tt=c.memoizedState,H.state=tt,$f(c,_,H,w);var Ze=c.memoizedState;$!==at||tt!==Ze||zt.current||Bs?(typeof Ht=="function"&&(Pm(c,g,Ht,_),Ze=c.memoizedState),(Ne=Bs||Ux(c,g,Ne,_,tt,Ze,ge)||!1)?(je||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(_,Ze,ge),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(_,Ze,ge)),typeof H.componentDidUpdate=="function"&&(c.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof H.componentDidUpdate!="function"||$===l.memoizedProps&&tt===l.memoizedState||(c.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&tt===l.memoizedState||(c.flags|=1024),c.memoizedProps=_,c.memoizedState=Ze),H.props=_,H.state=Ze,H.context=ge,_=Ne):(typeof H.componentDidUpdate!="function"||$===l.memoizedProps&&tt===l.memoizedState||(c.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&tt===l.memoizedState||(c.flags|=1024),_=!1)}return Qm(l,c,g,_,b,w)}function Qm(l,c,g,_,w,b){A1(l,c);var H=(c.flags&128)!==0;if(!_&&!H)return w&&Tx(c,g,!1),us(l,c,b);_=c.stateNode,Lb.current=c;var $=H&&typeof g.getDerivedStateFromError!="function"?null:_.render();return c.flags|=1,l!==null&&H?(c.child=za(c,l.child,null,b),c.child=za(c,null,$,b)):ti(l,c,$,b),c.memoizedState=_.state,w&&Tx(c,g,!0),c.child}function M1(l){var c=l.stateNode;c.pendingContext?Ex(l,c.pendingContext,c.pendingContext!==c.context):c.context&&Ex(l,c.context,!1),Fm(l,c.containerInfo)}function E1(l,c,g,_,w){return Ba(),Om(w),c.flags|=256,ti(l,c,g,_),c.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(l){return{baseLanes:l,cachePool:null}}function w1(l,c,g){var _=c.pendingProps,w=$t.current,b=!1,H=(c.flags&128)!==0,$;if(($=H)||($=l!==null&&l.memoizedState===null?!1:(w&2)!==0),$?(b=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(w|=1),dt($t,w&1),l===null)return Um(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(c.mode&1?Mu(l)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(w=_.children,l=_.fallback,b?(_=c.mode,b=c.child,w={mode:"hidden",children:w},!(_&1)&&b!==null?(b.childLanes=0,b.pendingProps=w):b=Ud(w,_,0,null),l=Ho(l,_,g,null),b.return=c,l.return=c,b.sibling=l,c.child=b,c.child.memoizedState=md(g),c.memoizedState=pd,l):Zm(c,w));if(w=l.memoizedState,w!==null){if($=w.dehydrated,$!==null){if(H)return c.flags&256?(c.flags&=-257,gd(l,c,g,Error(o(422)))):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(b=_.fallback,w=c.mode,_=Ud({mode:"visible",children:_.children},w,0,null),b=Ho(b,w,g,null),b.flags|=2,_.return=c,b.return=c,_.sibling=b,c.child=_,c.mode&1&&za(c,l.child,null,g),c.child.memoizedState=md(g),c.memoizedState=pd,b);if(!(c.mode&1))c=gd(l,c,g,null);else if(Mu($))c=gd(l,c,g,Error(o(419)));else if(_=(g&l.childLanes)!==0,Ci||_){if(_=mn,_!==null){switch(g&-g){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}_=b&(_.suspendedLanes|g)?0:b,_!==0&&_!==w.retryLane&&(w.retryLane=_,qi(l,_,-1))}vg(),c=gd(l,c,g,Error(o(421)))}else Hf($)?(c.flags|=128,c.child=l.child,c=Wb.bind(null,l),vm($,c),c=null):(g=w.treeContext,se&&(Ti=oe($),wi=c,Qt=!0,mr=null,Tu=!1,g!==null&&(Wi[ji++]=os,Wi[ji++]=as,Wi[ji++]=No,os=g.id,as=g.overflow,No=c)),c=Zm(c,c.pendingProps.children),c.flags|=4096);return c}return b?(_=C1(l,c,_.children,_.fallback,g),b=c.child,w=l.child.memoizedState,b.memoizedState=w===null?md(g):{baseLanes:w.baseLanes|g,cachePool:null},b.childLanes=l.childLanes&~g,c.memoizedState=pd,_):(g=T1(l,c,_.children,g),c.memoizedState=null,g)}return b?(_=C1(l,c,_.children,_.fallback,g),b=c.child,w=l.child.memoizedState,b.memoizedState=w===null?md(g):{baseLanes:w.baseLanes|g,cachePool:null},b.childLanes=l.childLanes&~g,c.memoizedState=pd,_):(g=T1(l,c,_.children,g),c.memoizedState=null,g)}function Zm(l,c){return c=Ud({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function T1(l,c,g,_){var w=l.child;return l=w.sibling,g=js(w,{mode:"visible",children:g}),!(c.mode&1)&&(g.lanes=_),g.return=c,g.sibling=null,l!==null&&(_=c.deletions,_===null?(c.deletions=[l],c.flags|=16):_.push(l)),c.child=g}function C1(l,c,g,_,w){var b=c.mode;l=l.child;var H=l.sibling,$={mode:"hidden",children:g};return!(b&1)&&c.child!==l?(g=c.child,g.childLanes=0,g.pendingProps=$,c.deletions=null):(g=js(l,$),g.subtreeFlags=l.subtreeFlags&14680064),H!==null?_=js(H,_):(_=Ho(_,b,w,null),_.flags|=2),_.return=c,g.return=c,g.sibling=_,c.child=g,_}function gd(l,c,g,_){return _!==null&&Om(_),za(c,l.child,null,g),l=Zm(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function b1(l,c,g){l.lanes|=c;var _=l.alternate;_!==null&&(_.lanes|=c),bm(l.return,c,g)}function Km(l,c,g,_,w){var b=l.memoizedState;b===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:_,tail:g,tailMode:w}:(b.isBackwards=c,b.rendering=null,b.renderingStartTime=0,b.last=_,b.tail=g,b.tailMode=w)}function R1(l,c,g){var _=c.pendingProps,w=_.revealOrder,b=_.tail;if(ti(l,c,_.children,g),_=$t.current,_&2)_=_&1|2,c.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&b1(l,g,c);else if(l.tag===19)b1(l,g,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(dt($t,_),!(c.mode&1))c.memoizedState=null;else switch(w){case"forwards":for(g=c.child,w=null;g!==null;)l=g.alternate,l!==null&&rd(l)===null&&(w=g),g=g.sibling;g=w,g===null?(w=c.child,c.child=null):(w=g.sibling,g.sibling=null),Km(c,!1,w,g,b);break;case"backwards":for(g=null,w=c.child,c.child=null;w!==null;){if(l=w.alternate,l!==null&&rd(l)===null){c.child=w;break}l=w.sibling,w.sibling=g,g=w,w=l}Km(c,!0,g,null,b);break;case"together":Km(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function us(l,c,g){if(l!==null&&(c.dependencies=l.dependencies),ja|=c.lanes,!(g&c.childLanes))return null;if(l!==null&&c.child!==l.child)throw Error(o(153));if(c.child!==null){for(l=c.child,g=js(l,l.pendingProps),c.child=g,g.return=c;l.sibling!==null;)l=l.sibling,g=g.sibling=js(l,l.pendingProps),g.return=c;g.sibling=null}return c.child}function Ib(l,c,g){switch(c.tag){case 3:M1(c),Ba();break;case 5:jx(c);break;case 1:Un(c.type)&&Gf(c);break;case 4:Fm(c,c.stateNode.containerInfo);break;case 10:Px(c,c.type._context,c.memoizedProps.value);break;case 13:var _=c.memoizedState;if(_!==null)return _.dehydrated!==null?(dt($t,$t.current&1),c.flags|=128,null):g&c.child.childLanes?w1(l,c,g):(dt($t,$t.current&1),l=us(l,c,g),l!==null?l.sibling:null);dt($t,$t.current&1);break;case 19:if(_=(g&c.childLanes)!==0,l.flags&128){if(_)return R1(l,c,g);c.flags|=128}var w=c.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),dt($t,$t.current),_)break;return null;case 22:case 23:return c.lanes=0,x1(l,c,g)}return us(l,c,g)}function Nb(l,c){switch(Nm(c),c.tag){case 1:return Un(c.type)&&Vf(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Va(),Ot(zt),Ot(pn),zm(),l=c.flags,l&65536&&!(l&128)?(c.flags=l&-65537|128,c):null;case 5:return km(c),null;case 13:if(Ot($t),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(o(340));Ba()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Ot($t),null;case 4:return Va(),null;case 10:return Cm(c.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var vd=!1,Oo=!1,Db=typeof WeakSet=="function"?WeakSet:Set,ke=null;function yd(l,c){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(_){hi(l,c,_)}else g.current=null}function $m(l,c,g){try{g()}catch(_){hi(l,c,_)}}var P1=!1;function Ub(l,c){for(D(l.containerInfo),ke=c;ke!==null;)if(l=ke,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,ke=c;else for(;ke!==null;){l=ke;try{var g=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,b=l.stateNode,H=b.getSnapshotBeforeUpdate(l.elementType===l.type?_:pr(l.type,_),w);b.__reactInternalSnapshotBeforeUpdate=H}break;case 3:he&&He(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch($){hi(l,l.return,$)}if(c=l.sibling,c!==null){c.return=l.return,ke=c;break}ke=l.return}return g=P1,P1=!1,g}function Fo(l,c,g){var _=c.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var w=_=_.next;do{if((w.tag&l)===l){var b=w.destroy;w.destroy=void 0,b!==void 0&&$m(c,g,b)}w=w.next}while(w!==_)}}function ku(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&l)===l){var _=g.create;g.destroy=_()}g=g.next}while(g!==c)}}function eg(l){var c=l.ref;if(c!==null){var g=l.stateNode;switch(l.tag){case 5:l=ee(g);break;default:l=g}typeof c=="function"?c(l):c.current=l}}function L1(l,c,g){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(Yf,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:if(l=c.updateQueue,l!==null&&(l=l.lastEffect,l!==null)){var _=l=l.next;do{var w=_,b=w.destroy;w=w.tag,b!==void 0&&(w&2||w&4)&&$m(c,g,b),_=_.next}while(_!==l)}break;case 1:if(yd(c,g),l=c.stateNode,typeof l.componentWillUnmount=="function")try{l.props=c.memoizedProps,l.state=c.memoizedState,l.componentWillUnmount()}catch(H){hi(c,g,H)}break;case 5:yd(c,g);break;case 4:he?F1(l,c,g):ue&&ue&&(c=c.stateNode.containerInfo,g=It(c),ur(c,g))}}function I1(l,c,g){for(var _=c;;)if(L1(l,_,g),_.child===null||he&&_.tag===4){if(_===c)break;for(;_.sibling===null;){if(_.return===null||_.return===c)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else _.child.return=_,_=_.child}function N1(l){var c=l.alternate;c!==null&&(l.alternate=null,N1(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Ve(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function D1(l){return l.tag===5||l.tag===3||l.tag===4}function U1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||D1(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function O1(l){if(he){e:{for(var c=l.return;c!==null;){if(D1(c))break e;c=c.return}throw Error(o(160))}var g=c;switch(g.tag){case 5:c=g.stateNode,g.flags&32&&(ct(c),g.flags&=-33),g=U1(l),ng(l,g,c);break;case 3:case 4:c=g.stateNode.containerInfo,g=U1(l),tg(l,g,c);break;default:throw Error(o(161))}}}function tg(l,c,g){var _=l.tag;if(_===5||_===6)l=l.stateNode,c?Ee(g,l,c):ze(g,l);else if(_!==4&&(l=l.child,l!==null))for(tg(l,c,g),l=l.sibling;l!==null;)tg(l,c,g),l=l.sibling}function ng(l,c,g){var _=l.tag;if(_===5||_===6)l=l.stateNode,c?ve(g,l,c):et(g,l);else if(_!==4&&(l=l.child,l!==null))for(ng(l,c,g),l=l.sibling;l!==null;)ng(l,c,g),l=l.sibling}function F1(l,c,g){for(var _=c,w=!1,b,H;;){if(!w){w=_.return;e:for(;;){if(w===null)throw Error(o(160));switch(b=w.stateNode,w.tag){case 5:H=!1;break e;case 3:b=b.containerInfo,H=!0;break e;case 4:b=b.containerInfo,H=!0;break e}w=w.return}w=!0}if(_.tag===5||_.tag===6)I1(l,_,g),H?Ke(b,_.stateNode):Le(b,_.stateNode);else if(_.tag===18)H?At(b,_.stateNode):yt(b,_.stateNode);else if(_.tag===4){if(_.child!==null){b=_.stateNode.containerInfo,H=!0,_.child.return=_,_=_.child;continue}}else if(L1(l,_,g),_.child!==null){_.child.return=_,_=_.child;continue}if(_===c)break;for(;_.sibling===null;){if(_.return===null||_.return===c)return;_=_.return,_.tag===4&&(w=!1)}_.sibling.return=_.return,_=_.sibling}}function ig(l,c){if(he){switch(c.tag){case 0:case 11:case 14:case 15:Fo(3,c,c.return),ku(3,c),Fo(5,c,c.return);return;case 1:return;case 5:var g=c.stateNode;if(g!=null){var _=c.memoizedProps;l=l!==null?l.memoizedProps:_;var w=c.type,b=c.updateQueue;c.updateQueue=null,b!==null&&Y(g,b,w,l,_,c)}return;case 6:if(c.stateNode===null)throw Error(o(162));g=c.memoizedProps,ye(c.stateNode,l!==null?l.memoizedProps:g,g);return;case 3:se&&l!==null&&l.memoizedState.isDehydrated&&ft(c.stateNode.containerInfo);return;case 12:return;case 13:_d(c);return;case 19:_d(c);return;case 17:return}throw Error(o(163))}switch(c.tag){case 0:case 11:case 14:case 15:Fo(3,c,c.return),ku(3,c),Fo(5,c,c.return);return;case 12:return;case 13:_d(c);return;case 19:_d(c);return;case 3:se&&l!==null&&l.memoizedState.isDehydrated&&ft(c.stateNode.containerInfo);break;case 22:case 23:return}e:if(ue){switch(c.tag){case 1:case 5:case 6:break e;case 3:case 4:c=c.stateNode,ur(c.containerInfo,c.pendingChildren);break e}throw Error(o(163))}}function _d(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new Db),c.forEach(function(_){var w=jb.bind(null,l,_);g.has(_)||(g.add(_),_.then(w,w))})}}function Ob(l,c){for(ke=c;ke!==null;){c=ke;var g=c.deletions;if(g!==null)for(var _=0;_<g.length;_++){var w=g[_];try{var b=l;he?F1(b,w,c):I1(b,w,c);var H=w.alternate;H!==null&&(H.return=null),w.return=null}catch(Qe){hi(w,c,Qe)}}if(g=c.child,c.subtreeFlags&12854&&g!==null)g.return=c,ke=g;else for(;ke!==null;){c=ke;try{var $=c.flags;if($&32&&he&&ct(c.stateNode),$&512){var ge=c.alternate;if(ge!==null){var Ne=ge.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if($&8192)switch(c.tag){case 13:if(c.memoizedState!==null){var je=c.alternate;(je===null||je.memoizedState===null)&&(cg=Cn())}break;case 22:var at=c.memoizedState!==null,tt=c.alternate,Ht=tt!==null&&tt.memoizedState!==null;if(g=c,he){e:if(_=g,w=at,b=null,he)for(var Ze=_;;){if(Ze.tag===5){if(b===null){b=Ze;var jn=Ze.stateNode;w?Bt(jn):me(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(b===null){var Qi=Ze.stateNode;w?Q(Qi):Te(Qi,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===_)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===_)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===_)break e;b===Ze&&(b=null),Ze=Ze.return}b===Ze&&(b=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(at&&!Ht&&g.mode&1){ke=g;for(var ae=g.child;ae!==null;){for(g=ke=ae;ke!==null;){_=ke;var ne=_.child;switch(_.tag){case 0:case 11:case 14:case 15:Fo(4,_,_.return);break;case 1:yd(_,_.return);var pe=_.stateNode;if(typeof pe.componentWillUnmount=="function"){var Be=_.return;try{pe.props=_.memoizedProps,pe.state=_.memoizedState,pe.componentWillUnmount()}catch(Qe){hi(_,Be,Qe)}}break;case 5:yd(_,_.return);break;case 22:if(_.memoizedState!==null){z1(g);continue}}ne!==null?(ne.return=_,ke=ne):z1(g)}ae=ae.sibling}}}switch($&4102){case 2:O1(c),c.flags&=-3;break;case 6:O1(c),c.flags&=-3,ig(c.alternate,c);break;case 4096:c.flags&=-4097;break;case 4100:c.flags&=-4097,ig(c.alternate,c);break;case 4:ig(c.alternate,c)}}catch(Qe){hi(c,c.return,Qe)}if(g=c.sibling,g!==null){g.return=c.return,ke=g;break}ke=c.return}}}function Fb(l,c,g){ke=l,k1(l)}function k1(l,c,g){for(var _=(l.mode&1)!==0;ke!==null;){var w=ke,b=w.child;if(w.tag===22&&_){var H=w.memoizedState!==null||vd;if(!H){var $=w.alternate,ge=$!==null&&$.memoizedState!==null||Oo;$=vd;var Ne=Oo;if(vd=H,(Oo=ge)&&!Ne)for(ke=w;ke!==null;)H=ke,ge=H.child,H.tag===22&&H.memoizedState!==null?H1(w):ge!==null?(ge.return=H,ke=ge):H1(w);for(;b!==null;)ke=b,k1(b),b=b.sibling;ke=w,vd=$,Oo=Ne}B1(l)}else w.subtreeFlags&8772&&b!==null?(b.return=w,ke=b):B1(l)}}function B1(l){for(;ke!==null;){var c=ke;if(c.flags&8772){var g=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:Oo||ku(5,c);break;case 1:var _=c.stateNode;if(c.flags&4&&!Oo)if(g===null)_.componentDidMount();else{var w=c.elementType===c.type?g.memoizedProps:pr(c.type,g.memoizedProps);_.componentDidUpdate(w,g.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var b=c.updateQueue;b!==null&&Nx(c,b,_);break;case 3:var H=c.updateQueue;if(H!==null){if(g=null,c.child!==null)switch(c.child.tag){case 5:g=ee(c.child.stateNode);break;case 1:g=c.child.stateNode}Nx(c,H,g)}break;case 5:var $=c.stateNode;g===null&&c.flags&4&&Xe($,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(se&&c.memoizedState===null){var ge=c.alternate;if(ge!==null){var Ne=ge.memoizedState;if(Ne!==null){var je=Ne.dehydrated;je!==null&&vt(je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Oo||c.flags&512&&eg(c)}catch(at){hi(c,c.return,at)}}if(c===l){ke=null;break}if(g=c.sibling,g!==null){g.return=c.return,ke=g;break}ke=c.return}}function z1(l){for(;ke!==null;){var c=ke;if(c===l){ke=null;break}var g=c.sibling;if(g!==null){g.return=c.return,ke=g;break}ke=c.return}}function H1(l){for(;ke!==null;){var c=ke;try{switch(c.tag){case 0:case 11:case 15:var g=c.return;try{ku(4,c)}catch(ge){hi(c,g,ge)}break;case 1:var _=c.stateNode;if(typeof _.componentDidMount=="function"){var w=c.return;try{_.componentDidMount()}catch(ge){hi(c,w,ge)}}var b=c.return;try{eg(c)}catch(ge){hi(c,b,ge)}break;case 5:var H=c.return;try{eg(c)}catch(ge){hi(c,H,ge)}}}catch(ge){hi(c,c.return,ge)}if(c===l){ke=null;break}var $=c.sibling;if($!==null){$.return=c.return,ke=$;break}ke=c.return}}var xd=0,Ad=1,Sd=2,Md=3,Ed=4;if(typeof Symbol=="function"&&Symbol.for){var Bu=Symbol.for;xd=Bu("selector.component"),Ad=Bu("selector.has_pseudo_class"),Sd=Bu("selector.role"),Md=Bu("selector.test_id"),Ed=Bu("selector.text")}function rg(l){var c=xe(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(o(364));return c}if(l=xt(l),l===null)throw Error(o(362));return l.stateNode.current}function sg(l,c){switch(c.$$typeof){case xd:if(l.type===c.value)return!0;break;case Ad:e:{c=c.value,l=[l,0];for(var g=0;g<l.length;){var _=l[g++],w=l[g++],b=c[w];if(_.tag!==5||!fe(_)){for(;b!=null&&sg(_,b);)w++,b=c[w];if(w===c.length){c=!0;break e}else for(_=_.child;_!==null;)l.push(_,w),_=_.sibling}}c=!1}return c;case Sd:if(l.tag===5&&Ce(l.stateNode,c.value))return!0;break;case Ed:if((l.tag===5||l.tag===6)&&(l=O(l),l!==null&&0<=l.indexOf(c.value)))return!0;break;case Md:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function og(l){switch(l.$$typeof){case xd:return"<"+(R(l.value)||"Unknown")+">";case Ad:return":has("+(og(l)||"")+")";case Sd:return'[role="'+l.value+'"]';case Ed:return'"'+l.value+'"';case Md:return'[data-testname="'+l.value+'"]';default:throw Error(o(365))}}function V1(l,c){var g=[];l=[l,0];for(var _=0;_<l.length;){var w=l[_++],b=l[_++],H=c[b];if(w.tag!==5||!fe(w)){for(;H!=null&&sg(w,H);)b++,H=c[b];if(b===c.length)g.push(w);else for(w=w.child;w!==null;)l.push(w,b),w=w.sibling}}return g}function ag(l,c){if(!it)throw Error(o(363));l=rg(l),l=V1(l,c),c=[],l=Array.from(l);for(var g=0;g<l.length;){var _=l[g++];if(_.tag===5)fe(_)||c.push(_.stateNode);else for(_=_.child;_!==null;)l.push(_),_=_.sibling}return c}var kb=Math.ceil,wd=a.ReactCurrentDispatcher,lg=a.ReactCurrentOwner,cn=a.ReactCurrentBatchConfig,_t=0,mn=null,gn=null,On=0,bi=0,Wa=ci(0),xn=0,zu=null,ja=0,Td=0,ug=0,Hu=null,fi=null,cg=0,fg=1/0;function Xa(){fg=Cn()+500}var Cd=!1,dg=null,Hs=null,bd=!1,Vs=null,Rd=0,Vu=0,hg=null,Pd=-1,Ld=0;function ni(){return _t&6?Cn():Pd!==-1?Pd:Pd=Cn()}function Gs(l){return l.mode&1?_t&2&&On!==0?On&-On:xb.transition!==null?(Ld===0&&(l=Wf,Wf<<=1,!(Wf&4194240)&&(Wf=64),Ld=l),Ld):(l=Rt,l!==0?l:Ie()):1}function qi(l,c,g){if(50<Vu)throw Vu=0,hg=null,Error(o(185));var _=Id(l,c);return _===null?null:(wu(_,c,g),(!(_t&2)||_!==mn)&&(_===mn&&(!(_t&2)&&(Td|=c),xn===4&&Ws(_,On)),di(_,g),c===1&&_t===0&&!(l.mode&1)&&(Xa(),qf&&Vr())),_)}function Id(l,c){l.lanes|=c;var g=l.alternate;for(g!==null&&(g.lanes|=c),g=l,l=l.return;l!==null;)l.childLanes|=c,g=l.alternate,g!==null&&(g.childLanes|=c),g=l,l=l.return;return g.tag===3?g.stateNode:null}function di(l,c){var g=l.callbackNode;fb(l,c);var _=Xf(l,l===mn?On:0);if(_===0)g!==null&&bx(g),l.callbackNode=null,l.callbackPriority=0;else if(c=_&-_,l.callbackPriority!==c){if(g!=null&&bx(g),c===1)l.tag===0?_b(W1.bind(null,l)):Rx(W1.bind(null,l)),qe?We(function(){_t===0&&Vr()}):Am(Sm,Vr),g=null;else{switch(Cx(_)){case 1:g=Sm;break;case 4:g=mb;break;case 16:g=Mm;break;case 536870912:g=gb;break;default:g=Mm}g=$1(g,G1.bind(null,l))}l.callbackPriority=c,l.callbackNode=g}}function G1(l,c){if(Pd=-1,Ld=0,_t&6)throw Error(o(327));var g=l.callbackNode;if(zo()&&l.callbackNode!==g)return null;var _=Xf(l,l===mn?On:0);if(_===0)return null;if(_&30||_&l.expiredLanes||c)c=Nd(l,_);else{c=_;var w=_t;_t|=2;var b=Y1();(mn!==l||On!==c)&&(Xa(),ko(l,c));do try{Hb();break}catch($){X1(l,$)}while(1);Tm(),wd.current=b,_t=w,gn!==null?c=0:(mn=null,On=0,c=xn)}if(c!==0){if(c===2&&(w=ym(l),w!==0&&(_=w,c=pg(l,w))),c===1)throw g=zu,ko(l,0),Ws(l,_),di(l,Cn()),g;if(c===6)Ws(l,_);else{if(w=l.current.alternate,!(_&30)&&!Bb(w)&&(c=Nd(l,_),c===2&&(b=ym(l),b!==0&&(_=b,c=pg(l,b))),c===1))throw g=zu,ko(l,0),Ws(l,_),di(l,Cn()),g;switch(l.finishedWork=w,l.finishedLanes=_,c){case 0:case 1:throw Error(o(345));case 2:Bo(l,fi);break;case 3:if(Ws(l,_),(_&130023424)===_&&(c=cg+500-Cn(),10<c)){if(Xf(l,0)!==0)break;if(w=l.suspendedLanes,(w&_)!==_){ni(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=U(Bo.bind(null,l,fi),c);break}Bo(l,fi);break;case 4:if(Ws(l,_),(_&4194240)===_)break;for(c=l.eventTimes,w=-1;0<_;){var H=31-hr(_);b=1<<H,H=c[H],H>w&&(w=H),_&=~b}if(_=w,_=Cn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*kb(_/1960))-_,10<_){l.timeoutHandle=U(Bo.bind(null,l,fi),_);break}Bo(l,fi);break;case 5:Bo(l,fi);break;default:throw Error(o(329))}}}return di(l,Cn()),l.callbackNode===g?G1.bind(null,l):null}function pg(l,c){var g=Hu;return l.current.memoizedState.isDehydrated&&(ko(l,c).flags|=256),l=Nd(l,c),l!==2&&(c=fi,fi=g,c!==null&&mg(c)),l}function mg(l){fi===null?fi=l:fi.push.apply(fi,l)}function Bb(l){for(var c=l;;){if(c.flags&16384){var g=c.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var _=0;_<g.length;_++){var w=g[_],b=w.getSnapshot;w=w.value;try{if(!Hr(b(),w))return!1}catch{return!1}}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ws(l,c){for(c&=~ug,c&=~Td,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var g=31-hr(c),_=1<<g;l[g]=-1,c&=~_}}function W1(l){if(_t&6)throw Error(o(327));zo();var c=Xf(l,0);if(!(c&1))return di(l,Cn()),null;var g=Nd(l,c);if(l.tag!==0&&g===2){var _=ym(l);_!==0&&(c=_,g=pg(l,_))}if(g===1)throw g=zu,ko(l,0),Ws(l,c),di(l,Cn()),g;if(g===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,Bo(l,fi),di(l,Cn()),null}function j1(l){Vs!==null&&Vs.tag===0&&!(_t&6)&&zo();var c=_t;_t|=1;var g=cn.transition,_=Rt;try{if(cn.transition=null,Rt=1,l)return l()}finally{Rt=_,cn.transition=g,_t=c,!(_t&6)&&Vr()}}function gg(){bi=Wa.current,Ot(Wa)}function ko(l,c){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==Re&&(l.timeoutHandle=Re,Me(g)),gn!==null)for(g=gn.return;g!==null;){var _=g;switch(Nm(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Vf();break;case 3:Va(),Ot(zt),Ot(pn),zm();break;case 5:km(_);break;case 4:Va();break;case 13:Ot($t);break;case 19:Ot($t);break;case 10:Cm(_.type._context);break;case 22:case 23:gg()}g=g.return}if(mn=l,gn=l=js(l.current,null),On=bi=c,xn=0,zu=null,ug=Td=ja=0,fi=Hu=null,Gr!==null){for(c=0;c<Gr.length;c++)if(g=Gr[c],_=g.interleaved,_!==null){g.interleaved=null;var w=_.next,b=g.pending;if(b!==null){var H=b.next;b.next=w,_.next=H}g.pending=_}Gr=null}return l}function X1(l,c){do{var g=gn;try{if(Tm(),sd.current=fd,od){for(var _=sn.memoizedState;_!==null;){var w=_.queue;w!==null&&(w.pending=null),_=_.next}od=!1}if(Ga=0,bn=Vn=sn=null,Lu=!1,Iu=0,lg.current=null,g===null||g.return===null){xn=1,zu=c,gn=null;break}e:{var b=l,H=g.return,$=g,ge=c;if(c=On,$.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ne=ge,je=$,at=je.tag;if(!(je.mode&1)&&(at===0||at===11||at===15)){var tt=je.alternate;tt?(je.updateQueue=tt.updateQueue,je.memoizedState=tt.memoizedState,je.lanes=tt.lanes):(je.updateQueue=null,je.memoizedState=null)}var Ht=h1(H);if(Ht!==null){Ht.flags&=-257,p1(Ht,H,$,b,c),Ht.mode&1&&d1(b,Ne,c),c=Ht,ge=Ne;var Ze=c.updateQueue;if(Ze===null){var jn=new Set;jn.add(ge),c.updateQueue=jn}else Ze.add(ge);break e}else{if(!(c&1)){d1(b,Ne,c),vg();break e}ge=Error(o(426))}}else if(Qt&&$.mode&1){var Qi=h1(H);if(Qi!==null){!(Qi.flags&65536)&&(Qi.flags|=256),p1(Qi,H,$,b,c),Om(ge);break e}}b=ge,xn!==4&&(xn=2),Hu===null?Hu=[b]:Hu.push(b),ge=Ym(ge,$),$=H;do{switch($.tag){case 3:$.flags|=65536,c&=-c,$.lanes|=c;var ae=c1($,ge,c);Ix($,ae);break e;case 1:b=ge;var ne=$.type,pe=$.stateNode;if(!($.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Hs===null||!Hs.has(pe)))){$.flags|=65536,c&=-c,$.lanes|=c;var Be=f1($,b,c);Ix($,Be);break e}}$=$.return}while($!==null)}J1(g)}catch(Qe){c=Qe,gn===g&&g!==null&&(gn=g=g.return);continue}break}while(1)}function Y1(){var l=wd.current;return wd.current=fd,l===null?fd:l}function vg(){(xn===0||xn===3||xn===2)&&(xn=4),mn===null||!(ja&268435455)&&!(Td&268435455)||Ws(mn,On)}function Nd(l,c){var g=_t;_t|=2;var _=Y1();mn===l&&On===c||ko(l,c);do try{zb();break}catch(w){X1(l,w)}while(1);if(Tm(),_t=g,wd.current=_,gn!==null)throw Error(o(261));return mn=null,On=0,xn}function zb(){for(;gn!==null;)q1(gn)}function Hb(){for(;gn!==null&&!hb();)q1(gn)}function q1(l){var c=K1(l.alternate,l,bi);l.memoizedProps=l.pendingProps,c===null?J1(l):gn=c,lg.current=null}function J1(l){var c=l;do{var g=c.alternate;if(l=c.return,c.flags&32768){if(g=Nb(g,c),g!==null){g.flags&=32767,gn=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{xn=6,gn=null;return}}else if(g=Pb(g,c,bi),g!==null){gn=g;return}if(c=c.sibling,c!==null){gn=c;return}gn=c=l}while(c!==null);xn===0&&(xn=5)}function Bo(l,c){var g=Rt,_=cn.transition;try{cn.transition=null,Rt=1,Vb(l,c,g)}finally{cn.transition=_,Rt=g}return null}function Vb(l,c,g){do zo();while(Vs!==null);if(_t&6)throw Error(o(327));var _=l.finishedWork,w=l.finishedLanes;if(_===null)return null;if(l.finishedWork=null,l.finishedLanes=0,_===l.current)throw Error(o(177));l.callbackNode=null,l.callbackPriority=0;var b=_.lanes|_.childLanes;if(db(l,b),l===mn&&(gn=mn=null,On=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||bd||(bd=!0,$1(Mm,function(){return zo(),null})),b=(_.flags&15990)!==0,_.subtreeFlags&15990||b){b=cn.transition,cn.transition=null;var H=Rt;Rt=1;var $=_t;_t|=4,lg.current=null,Ub(l,_),Ob(l,_),k(l.containerInfo),l.current=_,Fb(_),pb(),_t=$,Rt=H,cn.transition=b}else l.current=_;if(bd&&(bd=!1,Vs=l,Rd=w),b=l.pendingLanes,b===0&&(Hs=null),vb(_.stateNode),di(l,Cn()),c!==null)for(g=l.onRecoverableError,_=0;_<c.length;_++)g(c[_]);if(Cd)throw Cd=!1,l=dg,dg=null,l;return Rd&1&&l.tag!==0&&zo(),b=l.pendingLanes,b&1?l===hg?Vu++:(Vu=0,hg=l):Vu=0,Vr(),null}function zo(){if(Vs!==null){var l=Cx(Rd),c=cn.transition,g=Rt;try{if(cn.transition=null,Rt=16>l?16:l,Vs===null)var _=!1;else{if(l=Vs,Vs=null,Rd=0,_t&6)throw Error(o(331));var w=_t;for(_t|=4,ke=l.current;ke!==null;){var b=ke,H=b.child;if(ke.flags&16){var $=b.deletions;if($!==null){for(var ge=0;ge<$.length;ge++){var Ne=$[ge];for(ke=Ne;ke!==null;){var je=ke;switch(je.tag){case 0:case 11:case 15:Fo(8,je,b)}var at=je.child;if(at!==null)at.return=je,ke=at;else for(;ke!==null;){je=ke;var tt=je.sibling,Ht=je.return;if(N1(je),je===Ne){ke=null;break}if(tt!==null){tt.return=Ht,ke=tt;break}ke=Ht}}}var Ze=b.alternate;if(Ze!==null){var jn=Ze.child;if(jn!==null){Ze.child=null;do{var Qi=jn.sibling;jn.sibling=null,jn=Qi}while(jn!==null)}}ke=b}}if(b.subtreeFlags&2064&&H!==null)H.return=b,ke=H;else e:for(;ke!==null;){if(b=ke,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Fo(9,b,b.return)}var ae=b.sibling;if(ae!==null){ae.return=b.return,ke=ae;break e}ke=b.return}}var ne=l.current;for(ke=ne;ke!==null;){H=ke;var pe=H.child;if(H.subtreeFlags&2064&&pe!==null)pe.return=H,ke=pe;else e:for(H=ne;ke!==null;){if($=ke,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:ku(9,$)}}catch(Qe){hi($,$.return,Qe)}if($===H){ke=null;break e}var Be=$.sibling;if(Be!==null){Be.return=$.return,ke=Be;break e}ke=$.return}}if(_t=w,Vr(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(Yf,l)}catch{}_=!0}return _}finally{Rt=g,cn.transition=c}}return!1}function Q1(l,c,g){c=Ym(g,c),c=c1(l,c,1),zs(l,c),c=ni(),l=Id(l,1),l!==null&&(wu(l,1,c),di(l,c))}function hi(l,c,g){if(l.tag===3)Q1(l,l,g);else for(;c!==null;){if(c.tag===3){Q1(c,l,g);break}else if(c.tag===1){var _=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Hs===null||!Hs.has(_))){l=Ym(g,l),l=f1(c,l,1),zs(c,l),l=ni(),c=Id(c,1),c!==null&&(wu(c,1,l),di(c,l));break}}c=c.return}}function Gb(l,c,g){var _=l.pingCache;_!==null&&_.delete(c),c=ni(),l.pingedLanes|=l.suspendedLanes&g,mn===l&&(On&g)===g&&(xn===4||xn===3&&(On&130023424)===On&&500>Cn()-cg?ko(l,0):ug|=g),di(l,c)}function Z1(l,c){c===0&&(l.mode&1?(c=jf,jf<<=1,!(jf&130023424)&&(jf=4194304)):c=1);var g=ni();l=Id(l,c),l!==null&&(wu(l,c,g),di(l,g))}function Wb(l){var c=l.memoizedState,g=0;c!==null&&(g=c.retryLane),Z1(l,g)}function jb(l,c){var g=0;switch(l.tag){case 13:var _=l.stateNode,w=l.memoizedState;w!==null&&(g=w.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(c),Z1(l,g)}var K1;K1=function(l,c,g){if(l!==null)if(l.memoizedProps!==c.pendingProps||zt.current)Ci=!0;else{if(!(l.lanes&g)&&!(c.flags&128))return Ci=!1,Ib(l,c,g);Ci=!!(l.flags&131072)}else Ci=!1,Qt&&c.flags&1048576&&kx(c,nd,c.index);switch(c.lanes=0,c.tag){case 2:var _=c.type;l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),l=c.pendingProps;var w=ks(c,pn.current);Oa(c,g),w=Vm(null,c,_,l,w,g);var b=Gm();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Un(_)?(b=!0,Gf(c)):b=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Rm(c),w.updater=ed,c.stateNode=w,w._reactInternals=c,Lm(c,_,l,g),c=Qm(null,c,_,!0,b,g)):(c.tag=0,Qt&&b&&Im(c),ti(null,c,w,g),c=c.child),c;case 16:_=c.elementType;e:{switch(l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),l=c.pendingProps,w=_._init,_=w(_._payload),c.type=_,w=c.tag=Yb(_),l=pr(_,l),w){case 0:c=Jm(null,c,_,l,g);break e;case 1:c=S1(null,c,_,l,g);break e;case 11:c=v1(null,c,_,l,g);break e;case 14:c=y1(null,c,_,pr(_.type,l),g);break e}throw Error(o(306,_,""))}return c;case 0:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:pr(_,w),Jm(l,c,_,w,g);case 1:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:pr(_,w),S1(l,c,_,w,g);case 3:e:{if(M1(c),l===null)throw Error(o(387));_=c.pendingProps,b=c.memoizedState,w=b.element,Lx(l,c),$f(c,_,null,g);var H=c.memoizedState;if(_=H.element,se&&b.isDehydrated)if(b={element:_,isDehydrated:!1,cache:H.cache,transitions:H.transitions},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){w=Error(o(423)),c=E1(l,c,_,g,w);break e}else if(_!==w){w=Error(o(424)),c=E1(l,c,_,g,w);break e}else for(se&&(Ti=_e(c.stateNode.containerInfo),wi=c,Qt=!0,mr=null,Tu=!1),g=Wx(c,null,_,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Ba(),_===w){c=us(l,c,g);break e}ti(l,c,_,g)}c=c.child}return c;case 5:return jx(c),l===null&&Um(c),_=c.type,w=c.pendingProps,b=l!==null?l.memoizedProps:null,H=w.children,we(_,w)?H=null:b!==null&&we(_,b)&&(c.flags|=32),A1(l,c),ti(l,c,H,g),c.child;case 6:return l===null&&Um(c),null;case 13:return w1(l,c,g);case 4:return Fm(c,c.stateNode.containerInfo),_=c.pendingProps,l===null?c.child=za(c,null,_,g):ti(l,c,_,g),c.child;case 11:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:pr(_,w),v1(l,c,_,w,g);case 7:return ti(l,c,c.pendingProps,g),c.child;case 8:return ti(l,c,c.pendingProps.children,g),c.child;case 12:return ti(l,c,c.pendingProps.children,g),c.child;case 10:e:{if(_=c.type._context,w=c.pendingProps,b=c.memoizedProps,H=w.value,Px(c,_,H),b!==null)if(Hr(b.value,H)){if(b.children===w.children&&!zt.current){c=us(l,c,g);break e}}else for(b=c.child,b!==null&&(b.return=c);b!==null;){var $=b.dependencies;if($!==null){H=b.child;for(var ge=$.firstContext;ge!==null;){if(ge.context===_){if(b.tag===1){ge=ss(-1,g&-g),ge.tag=2;var Ne=b.updateQueue;if(Ne!==null){Ne=Ne.shared;var je=Ne.pending;je===null?ge.next=ge:(ge.next=je.next,je.next=ge),Ne.pending=ge}}b.lanes|=g,ge=b.alternate,ge!==null&&(ge.lanes|=g),bm(b.return,g,c),$.lanes|=g;break}ge=ge.next}}else if(b.tag===10)H=b.type===c.type?null:b.child;else if(b.tag===18){if(H=b.return,H===null)throw Error(o(341));H.lanes|=g,$=H.alternate,$!==null&&($.lanes|=g),bm(H,g,c),H=b.sibling}else H=b.child;if(H!==null)H.return=b;else for(H=b;H!==null;){if(H===c){H=null;break}if(b=H.sibling,b!==null){b.return=H.return,H=b;break}H=H.return}b=H}ti(l,c,w.children,g),c=c.child}return c;case 9:return w=c.type,_=c.pendingProps.children,Oa(c,g),w=Gi(w),_=_(w),c.flags|=1,ti(l,c,_,g),c.child;case 14:return _=c.type,w=pr(_,c.pendingProps),w=pr(_.type,w),y1(l,c,_,w,g);case 15:return _1(l,c,c.type,c.pendingProps,g);case 17:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:pr(_,w),l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,Un(_)?(l=!0,Gf(c)):l=!1,Oa(c,g),Ox(c,_,w),Lm(c,_,w,g),Qm(null,c,_,!0,l,g);case 19:return R1(l,c,g);case 22:return x1(l,c,g)}throw Error(o(156,c.tag))};function $1(l,c){return Am(l,c)}function Xb(l,c,g,_){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(l,c,g,_){return new Xb(l,c,g,_)}function yg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Yb(l){if(typeof l=="function")return yg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===S)return 11;if(l===A)return 14}return 2}function js(l,c){var g=l.alternate;return g===null?(g=Ji(l.tag,c,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=c,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,c=l.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function Dd(l,c,g,_,w,b){var H=2;if(_=l,typeof l=="function")yg(l)&&(H=1);else if(typeof l=="string")H=5;else e:switch(l){case d:return Ho(g.children,w,b,c);case h:H=8,w|=8;break;case p:return l=Ji(12,g,c,w|2),l.elementType=p,l.lanes=b,l;case M:return l=Ji(13,g,c,w),l.elementType=M,l.lanes=b,l;case v:return l=Ji(19,g,c,w),l.elementType=v,l.lanes=b,l;case E:return Ud(g,w,b,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:H=10;break e;case y:H=9;break e;case S:H=11;break e;case A:H=14;break e;case x:H=16,_=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return c=Ji(H,g,c,w),c.elementType=l,c.type=_,c.lanes=b,c}function Ho(l,c,g,_){return l=Ji(7,l,_,c),l.lanes=g,l}function Ud(l,c,g,_){return l=Ji(22,l,_,c),l.elementType=E,l.lanes=g,l.stateNode={},l}function _g(l,c,g){return l=Ji(6,l,null,c),l.lanes=g,l}function xg(l,c,g){return c=Ji(4,l.children!==null?l.children:[],l.key,c),c.lanes=g,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function qb(l,c,g,_,w){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_m(0),this.expirationTimes=_m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_m(0),this.identifierPrefix=_,this.onRecoverableError=w,se&&(this.mutableSourceEagerHydrationData=null)}function eA(l,c,g,_,w,b,H,$,ge){return l=new qb(l,c,g,$,ge),c===1?(c=1,b===!0&&(c|=8)):c=0,b=Ji(3,null,null,c),l.current=b,b.stateNode=l,b.memoizedState={element:_,isDehydrated:g,cache:null,transitions:null},Rm(b),l}function tA(l){if(!l)return Hn;l=l._reactInternals;e:{if(C(l)!==l||l.tag!==1)throw Error(o(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Un(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(o(171))}if(l.tag===1){var g=l.type;if(Un(g))return wx(l,g,c)}return c}function nA(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return l=j(c),l===null?null:l.stateNode}function iA(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<c?g:c}}function Ag(l,c){iA(l,c),(l=l.alternate)&&iA(l,c)}function Jb(l){return l=j(l),l===null?null:l.stateNode}function Qb(){return null}return t.attemptContinuousHydration=function(l){if(l.tag===13){var c=ni();qi(l,134217728,c),Ag(l,134217728)}},t.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var c=ni(),g=Gs(l);qi(l,g,c),Ag(l,g)}},t.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var g=Eu(c.pendingLanes);g!==0&&(xm(c,g|1),di(c,Cn()),!(_t&6)&&(Xa(),Vr()))}break;case 13:var _=ni();j1(function(){return qi(l,1,_)}),Ag(l,1)}},t.batchedUpdates=function(l,c){var g=_t;_t|=1;try{return l(c)}finally{_t=g,_t===0&&(Xa(),qf&&Vr())}},t.createComponentSelector=function(l){return{$$typeof:xd,value:l}},t.createContainer=function(l,c,g,_,w,b,H){return eA(l,c,!1,null,g,_,w,b,H)},t.createHasPseudoClassSelector=function(l){return{$$typeof:Ad,value:l}},t.createHydrationContainer=function(l,c,g,_,w,b,H,$,ge){return l=eA(g,_,!0,l,w,b,H,$,ge),l.context=tA(null),g=l.current,_=ni(),w=Gs(g),b=ss(_,w),b.callback=c??null,zs(g,b),l.current.lanes=w,wu(l,w,_),di(l,_),l},t.createPortal=function(l,c,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:_==null?null:""+_,children:l,containerInfo:c,implementation:g}},t.createRoleSelector=function(l){return{$$typeof:Sd,value:l}},t.createTestNameSelector=function(l){return{$$typeof:Md,value:l}},t.createTextSelector=function(l){return{$$typeof:Ed,value:l}},t.deferredUpdates=function(l){var c=Rt,g=cn.transition;try{return cn.transition=null,Rt=16,l()}finally{Rt=c,cn.transition=g}},t.discreteUpdates=function(l,c,g,_,w){var b=Rt,H=cn.transition;try{return cn.transition=null,Rt=1,l(c,g,_,w)}finally{Rt=b,cn.transition=H,_t===0&&Xa()}},t.findAllNodes=ag,t.findBoundingRects=function(l,c){if(!it)throw Error(o(363));c=ag(l,c),l=[];for(var g=0;g<c.length;g++)l.push(V(c[g]));for(c=l.length-1;0<c;c--){g=l[c];for(var _=g.x,w=_+g.width,b=g.y,H=b+g.height,$=c-1;0<=$;$--)if(c!==$){var ge=l[$],Ne=ge.x,je=Ne+ge.width,at=ge.y,tt=at+ge.height;if(_>=Ne&&b>=at&&w<=je&&H<=tt){l.splice(c,1);break}else if(_!==Ne||g.width!==ge.width||tt<b||at>H){if(!(b!==at||g.height!==ge.height||je<_||Ne>w)){Ne>_&&(ge.width+=Ne-_,ge.x=_),je<w&&(ge.width=w-Ne),l.splice(c,1);break}}else{at>b&&(ge.height+=at-b,ge.y=b),tt<H&&(ge.height=H-at),l.splice(c,1);break}}}return l},t.findHostInstance=nA,t.findHostInstanceWithNoPortals=function(l){return l=F(l),l=l!==null?J(l):null,l===null?null:l.stateNode},t.findHostInstanceWithWarning=function(l){return nA(l)},t.flushControlled=function(l){var c=_t;_t|=1;var g=cn.transition,_=Rt;try{cn.transition=null,Rt=1,l()}finally{Rt=_,cn.transition=g,_t=c,_t===0&&(Xa(),Vr())}},t.flushPassiveEffects=zo,t.flushSync=j1,t.focusWithin=function(l,c){if(!it)throw Error(o(363));for(l=rg(l),c=V1(l,c),c=Array.from(c),l=0;l<c.length;){var g=c[l++];if(!fe(g)){if(g.tag===5&&be(g.stateNode))return!0;for(g=g.child;g!==null;)c.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Rt},t.getFindAllNodesFailureDescription=function(l,c){if(!it)throw Error(o(363));var g=0,_=[];l=[rg(l),0];for(var w=0;w<l.length;){var b=l[w++],H=l[w++],$=c[H];if((b.tag!==5||!fe(b))&&(sg(b,$)&&(_.push(og($)),H++,H>g&&(g=H)),H<c.length))for(b=b.child;b!==null;)l.push(b,H),b=b.sibling}if(g<c.length){for(l=[];g<c.length;g++)l.push(og(c[g]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},t.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return ee(l.child.stateNode);default:return l.child.stateNode}},t.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Jb,findFiberByHostInstance:l.findFiberByHostInstance||Qb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{Yf=c.inject(l),zr=c}catch{}l=!!c.checkDCE}}return l},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(l,c,g,_){if(!it)throw Error(o(363));l=ag(l,c);var w=Ue(l,g,_).disconnect;return{disconnect:function(){w()}}},t.registerMutableSourceForHydration=function(l,c){var g=c._getVersion;g=g(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,g]:l.mutableSourceEagerHydrationData.push(c,g)},t.runWithPriority=function(l,c){var g=Rt;try{return Rt=l,c()}finally{Rt=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(l,c,g,_){var w=c.current,b=ni(),H=Gs(w);return g=tA(g),c.context===null?c.context=g:c.pendingContext=g,c=ss(b,H),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),zs(w,c),l=qi(w,H,b),l!==null&&Kf(l,w,H),H},t};P2.exports=Yk;var qk=P2.exports;const Jk=Ty(qk);var L2={exports:{}},I2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,D){var k=N.length;N.push(D);e:for(;0<k;){var te=k-1>>>1,K=N[te];if(0<r(K,D))N[te]=D,N[k]=K,k=te;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var D=N[0],k=N.pop();if(k!==D){N[0]=k;e:for(var te=0,K=N.length,ie=K>>>1;te<ie;){var re=2*(te+1)-1,we=N[re],Z=re+1,U=N[Z];if(0>r(we,k))Z<K&&0>r(U,we)?(N[te]=U,N[Z]=k,te=Z):(N[te]=we,N[re]=k,te=re);else if(Z<K&&0>r(U,k))N[te]=U,N[Z]=k,te=Z;else break e}}return D}function r(N,D){var k=N.sortIndex-D.sortIndex;return k!==0?k:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],d=1,h=null,p=3,m=!1,y=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var D=t(f);D!==null;){if(D.callback===null)i(f);else if(D.startTime<=N)i(f),D.sortIndex=D.expirationTime,e(u,D);else break;D=t(f)}}function E(N){if(S=!1,x(N),!y)if(t(u)!==null)y=!0,ee(T);else{var D=t(f);D!==null&&W(E,D.startTime-N)}}function T(N,D){y=!1,S&&(S=!1,v(L),L=-1),m=!0;var k=p;try{for(x(D),h=t(u);h!==null&&(!(h.expirationTime>D)||N&&!F());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var K=te(h.expirationTime<=D);D=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(u)&&i(u),x(D)}else i(u);h=t(u)}if(h!==null)var ie=!0;else{var re=t(f);re!==null&&W(E,re.startTime-D),ie=!1}return ie}finally{h=null,p=k,m=!1}}var P=!1,R=null,L=-1,C=5,I=-1;function F(){return!(n.unstable_now()-I<C)}function j(){if(R!==null){var N=n.unstable_now();I=N;var D=!0;try{D=R(!0,N)}finally{D?G():(P=!1,R=null)}}else P=!1}var G;if(typeof A=="function")G=function(){A(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=j,G=function(){X.postMessage(null)}}else G=function(){M(j,0)};function ee(N){R=N,P||(P=!0,G())}function W(N,D){L=M(function(){N(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ee(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var k=p;p=D;try{return N()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var k=p;p=N;try{return D()}finally{p=k}},n.unstable_scheduleCallback=function(N,D,k){var te=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?te+k:te):k=te,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=k+K,N={id:d++,callback:D,priorityLevel:N,startTime:k,expirationTime:K,sortIndex:-1},k>te?(N.sortIndex=k,e(f,N),t(u)===null&&N===t(f)&&(S?(v(L),L=-1):S=!0,W(E,k-te))):(N.sortIndex=K,e(u,N),y||m||(y=!0,ee(T))),N},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(N){var D=p;return function(){var k=p;p=D;try{return N.apply(this,arguments)}finally{p=k}}}})(I2);L2.exports=I2;var VM=L2.exports;function N2(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const As=[];function D2(n,e,t=!1,i={}){for(const s of As)if(N2(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=As.indexOf(r);s!==-1&&As.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(As.push(r),!t)throw r.promise}const Qk=(n,e,t)=>D2(n,e,!1,t),Zk=(n,e,t)=>void D2(n,e,!0,t),Kk=n=>{if(n===void 0||n.length===0)As.splice(0,As.length);else{const e=As.find(t=>N2(n,t.keys,t.equal));if(e){const t=As.indexOf(e);t!==-1&&As.splice(t,1)}}},vx={},U2=n=>void Object.assign(vx,n);function $k(n,e){function t(d,{args:h=[],attach:p,...m},y){let S=`${d[0].toUpperCase()}${d.slice(1)}`,M;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;M=yl(v,{type:d,root:y,attach:p,primitive:!0})}else{const v=vx[S];if(!v)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");M=yl(new v(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return M.__r3f.attach===void 0&&(M instanceof ht?M.__r3f.attach="geometry":M instanceof _n&&(M.__r3f.attach="material")),S!=="inject"&&L0(M,m),M}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?P0(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||yl(h,{}),h.__r3f.parent=d,Ay(h),_l(h)}}function r(d,h,p){let m=!1;if(h){var y,S;if((y=h.__r3f)!=null&&y.attach)P0(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const M=d.children.filter(A=>A!==h),v=M.indexOf(p);d.children=[...M.slice(0,v),h,...M.slice(v)],m=!0}m||(S=d.__r3f)==null||S.objects.push(h),h.__r3f||yl(h,{}),h.__r3f.parent=d,Ay(h),_l(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,S;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(E=>E!==h)),(y=h.__r3f)!=null&&y.attach)YM(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var M;d.remove(h),(M=h.__r3f)!=null&&M.root&&oB(h.__r3f.root,h)}const A=(S=h.__r3f)==null?void 0:S.primitive,x=p===void 0?h.dispose!==null&&!A:p;if(!A){var v;s((v=h.__r3f)==null?void 0:v.objects,h,x),s(h.children,h,x)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,A||delete h.__r3f),x&&h.dispose&&h.type!=="Scene"&&VM.unstable_scheduleCallback(VM.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),_l(d)}}function a(d,h,p,m){var y;const S=(y=d.__r3f)==null?void 0:y.parent;if(!S)return;const M=t(h,p,d.__r3f.root);if(d.children){for(const v of d.children)v.__r3f&&i(M,v);d.children=d.children.filter(v=>!v.__r3f)}d.__r3f.objects.forEach(v=>i(M,v)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(S,d),M.parent&&(M.__r3f.autoRemovedBeforeAppend=!0),i(S,M),M.raycast&&M.__r3f.eventCount&&M.__r3f.root.getState().internal.interaction.push(M),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=M,v.ref&&(typeof v.ref=="function"?v.ref(M):v.ref.current=M))})}const u=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Jk({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){if(d.__r3f.primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:S,...M}=m,{args:v=[],children:A,...x}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,P)=>T!==v[P]))return[!0];const E=V2(d,M,x,!0);return E.changes.length?[!1,E]:null}},commitUpdate(d,[h,p],m,y,S,M){h?a(d,m,S,M):L0(d,p)},commitMount(d,h,p,m){var y;const S=(y=d.__r3f)!=null?y:{};d.raycast&&S.handlers&&S.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>yl(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&YM(m,d,p),d.isObject3D&&(d.visible=!1),_l(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&P0(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),_l(d)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():Ol.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Xt.fun(performance.now)?performance.now:Xt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Xt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Xt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:L0}}var GM,WM;const R0=n=>"colorSpace"in n||"outputColorSpace"in n,O2=()=>{var n;return(n=vx.ColorManagement)!=null?n:null},F2=n=>n&&n.isOrthographicCamera,eB=n=>n&&n.hasOwnProperty("current"),Ff=typeof window<"u"&&((GM=window.document)!=null&&GM.createElement||((WM=window.navigator)==null?void 0:WM.product)==="ReactNative")?de.useLayoutEffect:de.useEffect;function k2(n){const e=de.useRef(n);return Ff(()=>void(e.current=n),[n]),e}function tB({set:n}){return Ff(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class B2 extends de.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}B2.getDerivedStateFromError=()=>({error:!0});const z2="__default",jM=new Map,nB=n=>n&&!!n.memoized&&!!n.changes;function H2(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const ac=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Xt={obj:n=>n===Object(n)&&!Xt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Xt.str(n)||Xt.num(n))return n===e;const s=Xt.obj(n);if(s&&i==="reference")return n===e;const o=Xt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Xt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Xt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function iB(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function rB(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function yl(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function xy(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const XM=/-\d+$/;function P0(n,e,t){if(Xt.str(t)){if(XM.test(t)){const s=t.replace(XM,""),{target:o,key:a}=xy(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=xy(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function YM(n,e,t){var i,r;if(Xt.str(t)){const{target:s,key:o}=xy(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function V2(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...u}={},f=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(f){const S=Object.keys(u);for(let M=0;M<S.length;M++)r.hasOwnProperty(S[M])||p.unshift([S[M],z2+"remove"])}p.forEach(([S,M])=>{var v;if((v=n.__r3f)!=null&&v.primitive&&S==="object"||Xt.equ(M,u[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return m.push([S,M,!0,[]]);let A=[];S.includes("-")&&(A=S.split("-")),m.push([S,M,!1,A]);for(const x in r){const E=r[x];x.startsWith(`${S}-`)&&m.push([x,E,!1,x.split("-")])}});const y={...r};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function L0(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:u,changes:f}=nB(e)?e:V2(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=u);for(let p=0;p<f.length;p++){let[m,y,S,M]=f[p];if(R0(n)){const E="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?E:T):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?E:T)}let v=n,A=v[m];if(M.length&&(A=M.reduce((x,E)=>x[E],n),!(A&&A.set))){const[x,...E]=M.reverse();v=E.reverse().reduce((T,P)=>T[P],n),m=x}if(y===z2+"remove")if(v.constructor){let x=jM.get(v.constructor);x||(x=new v.constructor,jM.set(v.constructor,x)),y=x[m]}else y=0;if(S)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(A&&A.set&&(A.copy||A instanceof ga)){if(Array.isArray(y))A.fromArray?A.fromArray(y):A.set(...y);else if(A.copy&&y&&y.constructor&&A.constructor===y.constructor)A.copy(y);else if(y!==void 0){const x=A instanceof Fe;!x&&A.setScalar?A.setScalar(y):A instanceof ga&&y instanceof ga?A.mask=y.mask:A.set(y),!O2()&&!a.linear&&x&&A.convertSRGBToLinear()}}else if(v[m]=y,v[m]instanceof Kt&&v[m].format===vi&&v[m].type===Ns){const x=v[m];R0(x)&&R0(a.gl)?x.colorSpace=a.gl.outputColorSpace:x.encoding=a.gl.outputEncoding}_l(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(r=n.__r3f)!=null&&r.parent&&Ay(n),n}function _l(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function Ay(n){n.onUpdate==null||n.onUpdate(n)}function G2(n,e){n.manual||(F2(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Hh(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function sB(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ol.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ol.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ol.ContinuousEventPriority;default:return Ol.DefaultEventPriority}}function W2(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function oB(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{W2(t.capturedMap,e,i,r)})}function aB(n){function e(u){const{internal:f}=n.getState(),d=u.offsetX-f.initialClick[0],h=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=f.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(u,f){const d=n.getState(),h=new Set,p=[],m=f?f(d.internal.interaction):d.internal.interaction;for(let v=0;v<m.length;v++){const A=ac(m[v]);A&&(A.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(u,d);function y(v){const A=ac(v);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var x;A.events.compute==null||A.events.compute(u,A,(x=A.previousRoot)==null?void 0:x.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(v,!0):[]}let S=m.flatMap(y).sort((v,A)=>{const x=ac(v.object),E=ac(A.object);return!x||!E?v.distance-A.distance:E.events.priority-x.events.priority||v.distance-A.distance}).filter(v=>{const A=Hh(v);return h.has(A)?!1:(h.add(A),!0)});d.events.filter&&(S=d.events.filter(S,d));for(const v of S){let A=v.object;for(;A;){var M;(M=A.__r3f)!=null&&M.eventCount&&p.push({...v,eventObject:A}),A=A.parent}}if("pointerId"in u&&d.internal.capturedMap.has(u.pointerId))for(let v of d.internal.capturedMap.get(u.pointerId).values())h.has(Hh(v.intersection))||p.push(v.intersection);return p}function r(u,f,d,h){const p=n.getState();if(u.length){const m={stopped:!1};for(const y of u){const S=ac(y.object)||p,{raycaster:M,pointer:v,camera:A,internal:x}=S,E=new B(v.x,v.y,0).unproject(A),T=I=>{var F,j;return(F=(j=x.capturedMap.get(I))==null?void 0:j.has(y.eventObject))!=null?F:!1},P=I=>{const F={intersection:y,target:f.target};x.capturedMap.has(I)?x.capturedMap.get(I).set(y.eventObject,F):x.capturedMap.set(I,new Map([[y.eventObject,F]])),f.target.setPointerCapture(I)},R=I=>{const F=x.capturedMap.get(I);F&&W2(x.capturedMap,y.eventObject,F,I)};let L={};for(let I in f){let F=f[I];typeof F!="function"&&(L[I]=F)}let C={...y,...L,pointer:v,intersections:u,stopped:m.stopped,delta:d,unprojectedPoint:E,ray:M.ray,camera:A,stopPropagation(){const I="pointerId"in f&&x.capturedMap.get(f.pointerId);if((!I||I.has(y.eventObject))&&(C.stopped=m.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(F=>F.eventObject===y.eventObject))){const F=u.slice(0,u.indexOf(y));s([...F,y])}},target:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:R},nativeEvent:f};if(h(C),m.stopped===!0)break}}return u}function s(u){const{internal:f}=n.getState();for(const d of f.hovered.values())if(!u.length||!u.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(f.hovered.delete(Hh(d)),p!=null&&p.eventCount){const y={...d,intersections:u};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(u,f){for(let d=0;d<f.length;d++){const h=f[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(u)}}function a(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:d}=n.getState();"pointerId"in f&&d.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(f.pointerId)&&(d.capturedMap.delete(f.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=u==="onPointerMove",y=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",M=i(d,m?t:void 0),v=y?e(d):0;u==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=M.map(x=>x.eventObject)),y&&!M.length&&v<=2&&(o(d,p.interaction),h&&h(d)),m&&s(M);function A(x){const E=x.eventObject,T=E.__r3f,P=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=Hh(x),L=p.hovered.get(R);L?L.stopped&&x.stopPropagation():(p.hovered.set(R,x),P.onPointerOver==null||P.onPointerOver(x),P.onPointerEnter==null||P.onPointerEnter(x))}P.onPointerMove==null||P.onPointerMove(x)}else{const R=P[u];R?(!y||p.initialHits.includes(E))&&(o(d,p.interaction.filter(L=>!p.initialHits.includes(L))),R(x)):y&&p.initialHits.includes(E)&&o(d,p.interaction.filter(L=>!p.initialHits.includes(L)))}}r(M,d,v,A)}}return{handlePointer:a}}const lB=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],j2=n=>!!(n!=null&&n.render),yx=de.createContext(null),uB=(n,e)=>{const t=gx((a,u)=>{const f=new B,d=new B,h=new B;function p(v=u().camera,A=d,x=u().size){const{width:E,height:T,top:P,left:R}=x,L=E/T;A instanceof B?h.copy(A):h.set(...A);const C=v.getWorldPosition(f).distanceTo(h);if(F2(v))return{width:E/v.zoom,height:T/v.zoom,top:P,left:R,factor:1,distance:C,aspect:L};{const I=v.fov*Math.PI/180,F=2*Math.tan(I/2)*C,j=F*(E/T);return{width:j,height:F,top:P,left:R,factor:E/j,distance:C,aspect:L}}}let m;const y=v=>a(A=>({performance:{...A.performance,current:v}})),S=new Se;return{set:a,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>n(u(),v),advance:(v,A)=>e(v,A,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new fx,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=u();m&&clearTimeout(m),v.performance.current!==v.performance.min&&y(v.performance.min),m=setTimeout(()=>y(u().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(A=>({...A,events:{...A.events,...v}})),setSize:(v,A,x,E,T)=>{const P=u().camera,R={width:v,height:A,top:E||0,left:T||0,updateStyle:x};a(L=>({size:R,viewport:{...L.viewport,...p(P,d,R)}}))},setDpr:v=>a(A=>{const x=H2(v);return{viewport:{...A.viewport,dpr:x,initialDpr:A.viewport.initialDpr||x}}}),setFrameloop:(v="always")=>{const A=u().clock;A.stop(),A.elapsedTime=0,v!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:de.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,A,x)=>{const E=u().internal;return E.priority=E.priority+(A>0?1:0),E.subscribers.push({ref:v,priority:A,store:x}),E.subscribers=E.subscribers.sort((T,P)=>T.priority-P.priority),()=>{const T=u().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(A>0?1:0),T.subscribers=T.subscribers.filter(P=>P.ref!==v))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:u,viewport:f,gl:d,set:h}=t.getState();if(u!==r||f.dpr!==s){var p;r=u,s=f.dpr,G2(a,u),d.setPixelRatio(f.dpr);const m=(p=u.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(u.width,u.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Vh,cB=new Set,fB=new Set,dB=new Set;function I0(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function lc(n,e){switch(n){case"before":return I0(cB,e);case"after":return I0(fB,e);case"tail":return I0(dB,e)}}let N0,D0;function U0(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),N0=e.internal.subscribers,Vh=0;Vh<N0.length;Vh++)D0=N0[Vh],D0.ref.current(D0.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hB(n){let e=!1,t,i,r;function s(u){i=requestAnimationFrame(s),e=!0,t=0,lc("before",u);for(const d of n.values()){var f;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((f=r.gl.xr)!=null&&f.isPresenting)&&(t+=U0(u,r))}if(lc("after",u),t===0)return lc("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,f=1){var d;if(!u)return n.forEach(h=>o(h.store.getState()),f);(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(u.internal.frames=Math.min(60,u.internal.frames+f),e||(e=!0,requestAnimationFrame(s)))}function a(u,f=!0,d,h){if(f&&lc("before",u),d)U0(u,d,h);else for(const p of n.values())U0(u,p.store.getState());f&&lc("after",u)}return{loop:s,invalidate:o,advance:a}}function _x(){const n=de.useContext(yx);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Qn(n=t=>t,e){return _x()(n,e)}function Su(n,e=0){const t=_x(),i=t.getState().internal.subscribe,r=k2(n);return Ff(()=>i(r,e,t),[e,i,t]),null}function X2(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,u=>{u.scene&&Object.assign(u,iB(u.scene)),o(u)},e,u=>a(new Error(`Could not load ${s}: ${u.message})`))))))}}function kf(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Qk(X2(t,i),[n,...r],{equal:Xt.equ});return Array.isArray(e)?s:s[0]}kf.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Zk(X2(t),[n,...i])};kf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Kk([n,...t])};const cu=new Map,{invalidate:qM,advance:JM}=hB(cu),{reconciler:cf,applyProps:gl}=$k(cu,sB),vl={objects:"shallow",strict:!1},pB=(n,e)=>{const t=typeof n=="function"?n(e):n;return j2(t)?t:new V_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function mB(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function gB(n){const e=cu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||uB(qM,JM),o=t||cf.createContainer(s,Ol.ConcurrentRoot,null,!1,null,"",r,null);e||cu.set(n,{fiber:o,store:s});let a,u=!1,f;return{configure(d={}){let{gl:h,size:p,scene:m,events:y,onCreated:S,shadows:M=!1,linear:v=!1,flat:A=!1,legacy:x=!1,orthographic:E=!1,frameloop:T="always",dpr:P=[1,2],performance:R,raycaster:L,camera:C,onPointerMissed:I}=d,F=s.getState(),j=F.gl;F.gl||F.set({gl:j=pB(h,n)});let G=F.raycaster;G||F.set({raycaster:G=new mx});const{params:J,...X}=L||{};if(Xt.equ(X,G,vl)||gl(G,{...X}),Xt.equ(J,G.params,vl)||gl(G,{params:{...G.params,...J}}),!F.camera||F.camera===f&&!Xt.equ(f,C,vl)){f=C;const te=C instanceof Af,K=te?C:E?new Rr(0,0,0,0,.1,1e3):new Vt(75,0,.1,1e3);te||(K.position.z=5,C&&gl(K,C),!F.camera&&!(C!=null&&C.rotation)&&K.lookAt(0,0,0)),F.set({camera:K})}if(!F.scene){let te;m instanceof rf?te=m:(te=new rf,m&&gl(te,m)),F.set({scene:yl(te)})}if(!F.xr){const te=(re,we)=>{const Z=s.getState();Z.frameloop!=="never"&&JM(re,!0,Z,we)},K=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?te:null),re.gl.xr.isPresenting||qM(re)},ie={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",K),re.xr.addEventListener("sessionend",K)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",K),re.xr.removeEventListener("sessionend",K)}};j.xr&&ie.connect(),F.set({xr:ie})}if(j.shadowMap){const te=j.shadowMap.enabled,K=j.shadowMap.type;if(j.shadowMap.enabled=!!M,Xt.boo(M))j.shadowMap.type=Rc;else if(Xt.str(M)){var ee;const ie={basic:IT,percentage:tm,soft:Rc,variance:Ar};j.shadowMap.type=(ee=ie[M])!=null?ee:Rc}else Xt.obj(M)&&Object.assign(j.shadowMap,M);(te!==j.shadowMap.enabled||K!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const W=O2();W&&("enabled"in W?W.enabled=!x:"legacyMode"in W&&(W.legacyMode=x)),gl(j,{outputEncoding:v?3e3:3001,toneMapping:A?br:b_}),F.legacy!==x&&F.set(()=>({legacy:x})),F.linear!==v&&F.set(()=>({linear:v})),F.flat!==A&&F.set(()=>({flat:A})),h&&!Xt.fun(h)&&!j2(h)&&!Xt.equ(h,j,vl)&&gl(j,h),y&&!F.events.handlers&&F.set({events:y(s)});const k=mB(n,p);return Xt.equ(k,F.size,vl)||F.setSize(k.width,k.height,k.updateStyle,k.top,k.left),P&&F.viewport.dpr!==H2(P)&&F.setDpr(P),F.frameloop!==T&&F.setFrameloop(T),F.onPointerMissed||F.set({onPointerMissed:I}),R&&!Xt.equ(R,F.performance,vl)&&F.set(te=>({performance:{...te.performance,...R}})),a=S,u=!0,this},render(d){return u||this.configure(),cf.updateContainer(de.createElement(vB,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Y2(n)}}}function vB({store:n,children:e,onCreated:t,rootElement:i}){return Ff(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),de.createElement(yx.Provider,{value:n},e)}function Y2(n,e){const t=cu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),cf.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,u;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),rB(r),cu.delete(n),e&&e(n)}catch{}},500)})}}function yB(n,e,t){return de.createElement(_B,{key:e.uuid,children:n,container:e,state:t})}function _B({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,o=_x(),[a]=de.useState(()=>new mx),[u]=de.useState(()=>new Se),f=de.useCallback((h,p)=>{const m={...h};Object.keys(h).forEach(S=>{(lB.includes(S)||h[S]!==p[S]&&p[S])&&delete m[S]});let y;if(p&&r){const S=p.camera;y=h.viewport.getCurrentViewport(S,new B,r),S!==h.camera&&G2(S,r)}return{...m,scene:t,raycaster:a,pointer:u,mouse:u,previousRoot:o,events:{...h.events,...p==null?void 0:p.events,...i},size:{...h.size,...r},viewport:{...h.viewport,...y},...s}},[n]),[d]=de.useState(()=>{const h=o.getState();return gx((m,y)=>({...h,scene:t,raycaster:a,pointer:u,mouse:u,previousRoot:o,events:{...h.events,...i},size:{...h.size,...r},...s,set:m,get:y,setEvents:S=>m(M=>({...M,events:{...M.events,...S}}))}))});return de.useEffect(()=>{const h=o.subscribe(p=>d.setState(m=>f(p,m)));return()=>{h(),d.destroy()}},[]),de.useEffect(()=>{d.setState(h=>f(o.getState(),h))},[f]),de.createElement(de.Fragment,null,cf.createPortal(de.createElement(yx.Provider,{value:d},e),d,null))}cf.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:de.version});function Sy(n,e,t){var i,r,s,o,a;e==null&&(e=100);function u(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(u,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var f=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(u,e)),d&&(a=n.apply(s,r),s=r=null),a};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},f}Sy.debounce=Sy;var xB=Sy;const QM=Ty(xB);function AB(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=de.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=de.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),f=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=de.useRef(!1);de.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=de.useMemo(()=>{const A=()=>{if(!u.current.element)return;const{left:x,top:E,width:T,height:P,bottom:R,right:L,x:C,y:I}=u.current.element.getBoundingClientRect(),F={left:x,top:E,width:T,height:P,bottom:R,right:L,x:C,y:I};u.current.element instanceof HTMLElement&&r&&(F.height=u.current.element.offsetHeight,F.width=u.current.element.offsetWidth),Object.freeze(F),h.current&&!wB(u.current.lastBounds,F)&&a(u.current.lastBounds=F)};return[A,d?QM(A,d):A,f?QM(A,f):A]},[a,r,f,d]);function S(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null)}function M(){u.current.element&&(u.current.resizeObserver=new s(y),u.current.resizeObserver.observe(u.current.element),t&&u.current.scrollContainers&&u.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})))}const v=A=>{!A||A===u.current.element||(S(),u.current.element=A,u.current.scrollContainers=q2(A),M())};return MB(y,!!t),SB(m),de.useEffect(()=>{S(),M()},[t,y,m]),de.useEffect(()=>S,[]),[v,o,p]}function SB(n){de.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function MB(n,e){de.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function q2(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...q2(n.parentElement)]}const EB=["x","y","top","bottom","left","right","width","height"],wB=(n,e)=>EB.every(t=>n[t]===e[t]);var TB=Object.defineProperty,CB=Object.defineProperties,bB=Object.getOwnPropertyDescriptors,ZM=Object.getOwnPropertySymbols,RB=Object.prototype.hasOwnProperty,PB=Object.prototype.propertyIsEnumerable,KM=(n,e,t)=>e in n?TB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$M=(n,e)=>{for(var t in e||(e={}))RB.call(e,t)&&KM(n,t,e[t]);if(ZM)for(var t of ZM(e))PB.call(e,t)&&KM(n,t,e[t]);return n},LB=(n,e)=>CB(n,bB(e));function J2(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=J2(i,e,t);if(r)return r;i=e?null:i.sibling}}function Q2(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const xx=Q2(de.createContext(null));class Z2 extends de.Component{render(){return de.createElement(xx.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:eE,ReactCurrentDispatcher:tE}=de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function IB(){const n=de.useContext(xx);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=de.useId();return de.useMemo(()=>{for(const i of[eE==null?void 0:eE.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=J2(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function NB(){var n,e;const t=IB(),[i]=de.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==xx&&!i.has(s)&&i.set(s,(e=tE==null?void 0:tE.current)==null?void 0:e.readContext(Q2(s))),r=r.return}return i}function DB(){const n=NB();return de.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>de.createElement(e,null,de.createElement(t.Provider,LB($M({},i),{value:n.get(t)}))),e=>de.createElement(Z2,$M({},e))),[n])}const O0={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function UB(n){const{handlePointer:e}=aB(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(O0).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[u,f]=O0[o];t.addEventListener(u,a,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=O0[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const OB=de.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=UB,eventSource:a,eventPrefix:u,shadows:f,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:S,performance:M,raycaster:v,camera:A,onPointerMissed:x,onCreated:E,...T},P){de.useMemo(()=>U2(Vk),[]);const R=DB(),[L,C]=AB({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=de.useRef(null),F=de.useRef(null);de.useImperativeHandle(P,()=>I.current);const j=k2(x),[G,J]=de.useState(!1),[X,ee]=de.useState(!1);if(G)throw G;if(X)throw X;const W=de.useRef(null);Ff(()=>{const D=I.current;C.width>0&&C.height>0&&D&&(W.current||(W.current=gB(D)),W.current.configure({gl:s,events:o,shadows:f,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:S,performance:M,raycaster:v,camera:A,size:C,onPointerMissed:(...k)=>j.current==null?void 0:j.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(a?eB(a)?a.current:a:F.current),u&&k.setEvents({compute:(te,K)=>{const ie=te[u+"X"],re=te[u+"Y"];K.pointer.set(ie/K.size.width*2-1,-(re/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),E==null||E(k)}}),W.current.render(de.createElement(R,null,de.createElement(B2,{set:ee},de.createElement(de.Suspense,{fallback:de.createElement(tB,{set:J})},e)))))}),de.useEffect(()=>{const D=I.current;if(D)return()=>Y2(D)},[]);const N=a?"none":"auto";return de.createElement("div",Ma({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:N,...r}},T),de.createElement("div",{ref:L,style:{width:"100%",height:"100%"}},de.createElement("canvas",{ref:I,style:{display:"block"}},t)))}),K2=de.forwardRef(function(e,t){return de.createElement(Z2,null,de.createElement(OB,Ma({},e,{ref:t})))}),Bf=new B,Ax=new B,FB=new B;function kB(n,e,t){const i=Bf.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function BB(n,e){const t=Bf.setFromMatrixPosition(n.matrixWorld),i=Ax.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(FB);return r.angleTo(s)>Math.PI/2}function zB(n,e,t,i){const r=Bf.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function HB(n,e){if(e instanceof Rr)return e.zoom;if(e instanceof Vt){const t=Bf.setFromMatrixPosition(n.matrixWorld),i=Ax.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function VB(n,e,t){if(e instanceof Vt||e instanceof Rr){const i=Bf.setFromMatrixPosition(n.matrixWorld),r=Ax.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const My=n=>Math.abs(n)<1e-10?0:n;function $2(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=My(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const GB=(n=>e=>$2(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),WB=(n=>(e,t)=>$2(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function jB(n){return n&&typeof n=="object"&&"current"in n}const XB=de.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:u,sprite:f=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:y,material:S,geometry:M,zIndexRange:v=[16777271,0],calculatePosition:A=kB,as:x="div",wrapperClass:E,pointerEvents:T="auto",...P},R)=>{const{gl:L,camera:C,scene:I,size:F,raycaster:j,events:G,viewport:J}=Qn(),[X]=de.useState(()=>document.createElement(x)),ee=de.useRef(),W=de.useRef(null),N=de.useRef(0),D=de.useRef([0,0]),k=de.useRef(null),te=de.useRef(null),K=(a==null?void 0:a.current)||G.connected||L.domElement.parentNode,ie=de.useRef(null),re=de.useRef(!1),we=de.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&jB(h[0]),[h]);de.useLayoutEffect(()=>{const ce=L.domElement;h&&h==="blending"?(ce.style.zIndex=`${Math.floor(v[0]/2)}`,ce.style.position="absolute",ce.style.pointerEvents="none"):(ce.style.zIndex=null,ce.style.position=null,ce.style.pointerEvents=null)},[h]),de.useLayoutEffect(()=>{if(W.current){const ce=ee.current=ST(X);if(I.updateMatrixWorld(),d)X.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const he=A(W.current,C,F);X.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${he[0]}px,${he[1]}px,0);transform-origin:0 0;`}return K&&(r?K.prepend(X):K.appendChild(X)),()=>{K&&K.removeChild(X),ce.unmount()}}},[K,d]),de.useLayoutEffect(()=>{E&&(X.className=E)},[E]);const Z=de.useMemo(()=>d?{position:"absolute",top:0,left:0,width:F.width,height:F.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-F.height/2,left:-F.width/2,width:F.width,height:F.height},...t},[t,s,o,F,d]),U=de.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);de.useLayoutEffect(()=>{if(re.current=!1,d){var ce;(ce=ee.current)==null||ce.render(de.createElement("div",{ref:k,style:Z},de.createElement("div",{ref:te,style:U},de.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var he;(he=ee.current)==null||he.render(de.createElement("div",{ref:R,style:Z,className:i,children:n}))}});const Me=de.useRef(!0);Su(ce=>{if(W.current){C.updateMatrixWorld(),W.current.updateWorldMatrix(!0,!1);const he=d?D.current:A(W.current,C,F);if(d||Math.abs(N.current-C.zoom)>e||Math.abs(D.current[0]-he[0])>e||Math.abs(D.current[1]-he[1])>e){const ue=BB(W.current,C);let se=!1;we&&(h!=="blending"?se=[I]:Array.isArray(h)&&(se=h.map(Ve=>Ve.current)));const xe=Me.current;if(se){const Ve=zB(W.current,C,j,se);Me.current=Ve&&!ue}else Me.current=!ue;xe!==Me.current&&(p?p(!Me.current):X.style.display=Me.current?"block":"none");const De=Math.floor(v[0]/2),Ie=h?we?[v[0],De]:[De-1,0]:v;if(X.style.zIndex=`${VB(W.current,C,Ie)}`,d){const[Ve,qe]=[F.width/2,F.height/2],We=C.projectionMatrix.elements[5]*qe,{isOrthographicCamera:it,top:xt,left:V,bottom:O,right:fe}=C,Ce=GB(C.matrixWorldInverse),be=it?`scale(${We})translate(${My(-(fe+V)/2)}px,${My((xt+O)/2)}px)`:`translateZ(${We}px)`;let Ue=W.current.matrixWorld;f&&(Ue=C.matrixWorldInverse.clone().transpose().copyPosition(Ue).scale(W.current.scale),Ue.elements[3]=Ue.elements[7]=Ue.elements[11]=0,Ue.elements[15]=1),X.style.width=F.width+"px",X.style.height=F.height+"px",X.style.perspective=it?"":`${We}px`,k.current&&te.current&&(k.current.style.transform=`${be}${Ce}translate(${Ve}px,${qe}px)`,te.current.style.transform=WB(Ue,1/((u||10)/400)))}else{const Ve=u===void 0?1:HB(W.current,C)*u;X.style.transform=`translate3d(${he[0]}px,${he[1]}px,0) scale(${Ve})`}D.current=he,N.current=C.zoom}}if(!we&&ie.current&&!re.current)if(d){if(k.current){const he=k.current.children[0];if(he!=null&&he.clientWidth&&he!=null&&he.clientHeight){const{isOrthographicCamera:ue}=C;if(ue||M)P.scale&&(Array.isArray(P.scale)?P.scale instanceof B?ie.current.scale.copy(P.scale.clone().divideScalar(1)):ie.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):ie.current.scale.setScalar(1/P.scale));else{const se=(u||10)/400,xe=he.clientWidth*se,De=he.clientHeight*se;ie.current.scale.set(xe,De,1)}re.current=!0}}}else{const he=X.children[0];if(he!=null&&he.clientWidth&&he!=null&&he.clientHeight){const ue=1/J.factor,se=he.clientWidth*ue,xe=he.clientHeight*ue;ie.current.scale.set(se,xe,1),re.current=!0}ie.current.lookAt(ce.camera.position)}});const Re=de.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return de.createElement("group",Ma({},P,{ref:W}),h&&!we&&de.createElement("mesh",{castShadow:m,receiveShadow:y,ref:ie},M||de.createElement("planeGeometry",null),S||de.createElement("shaderMaterial",{side:Ni,vertexShader:Re.vertexShader,fragmentShader:Re.fragmentShader})))});let uc=0;const YB=gx(n=>(Ul.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-uc)/(i-uc)*100})},Ul.onLoad=()=>{n({active:!1})},Ul.onError=e=>n(t=>({errors:[...t.errors,e]})),Ul.onProgress=(e,t,i)=>{t===i&&(uc=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-uc)/(i-uc)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function ff(n){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(n)}function qB(n,e){if(ff(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ff(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function JB(n){var e=qB(n,"string");return ff(e)==="symbol"?e:String(e)}function ut(n,e,t){return e=JB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const QB=n=>n&&n.isCubeTexture;class ZB extends Mn{constructor(e,t){var i,r;const s=QB(e),a=((i=s?(r=e.image[0])===null||r===void 0?void 0:r.width:e.image.width)!=null?i:1024)/4,u=Math.floor(Math.log2(a)),f=Math.pow(2,u),d=3*Math.max(f,16*7),h=4*f,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${u}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,S={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},M=new yu(1,16),v=new Nr({uniforms:S,fragmentShader:y,vertexShader:m,side:Ni});super(M,v)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const nE=(n,e)=>(n%e+e)%e;let KB=class extends ns{constructor(e,t){super(),ut(this,"object",void 0),ut(this,"domElement",void 0),ut(this,"enabled",!0),ut(this,"target",new B),ut(this,"minDistance",0),ut(this,"maxDistance",1/0),ut(this,"minZoom",0),ut(this,"maxZoom",1/0),ut(this,"minPolarAngle",0),ut(this,"maxPolarAngle",Math.PI),ut(this,"minAzimuthAngle",-1/0),ut(this,"maxAzimuthAngle",1/0),ut(this,"enableDamping",!1),ut(this,"dampingFactor",.05),ut(this,"enableZoom",!0),ut(this,"zoomSpeed",1),ut(this,"enableRotate",!0),ut(this,"rotateSpeed",1),ut(this,"enablePan",!0),ut(this,"panSpeed",1),ut(this,"screenSpacePanning",!0),ut(this,"keyPanSpeed",7),ut(this,"autoRotate",!1),ut(this,"autoRotateSpeed",2),ut(this,"reverseOrbit",!1),ut(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ut(this,"mouseButtons",{LEFT:Ko.ROTATE,MIDDLE:Ko.DOLLY,RIGHT:Ko.PAN}),ut(this,"touches",{ONE:$o.ROTATE,TWO:$o.DOLLY_PAN}),ut(this,"target0",void 0),ut(this,"position0",void 0),ut(this,"zoom0",void 0),ut(this,"_domElementKeyEvents",null),ut(this,"getPolarAngle",void 0),ut(this,"getAzimuthalAngle",void 0),ut(this,"setPolarAngle",void 0),ut(this,"setAzimuthalAngle",void 0),ut(this,"getDistance",void 0),ut(this,"listenToKeyEvents",void 0),ut(this,"saveState",void 0),ut(this,"reset",void 0),ut(this,"update",void 0),ut(this,"connect",void 0),ut(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Vt?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Y=>{let ve=nE(Y,2*Math.PI),Ee=d.phi;Ee<0&&(Ee+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let Le=Math.abs(ve-Ee);2*Math.PI-Le<Le&&(ve<Ee?ve+=2*Math.PI:Ee+=2*Math.PI),h.phi=ve-Ee,i.update()},this.setAzimuthalAngle=Y=>{let ve=nE(Y,2*Math.PI),Ee=d.theta;Ee<0&&(Ee+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let Le=Math.abs(ve-Ee);2*Math.PI-Le<Le&&(ve<Ee?ve+=2*Math.PI:Ee+=2*Math.PI),h.theta=ve-Ee,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",fe),this._domElementKeyEvents=Y},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof Vt?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof Vt&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),u=a.NONE},this.update=(()=>{const Y=new B,ve=new Nn().setFromUnitVectors(e.up,new B(0,1,0)),Ee=ve.clone().invert(),Le=new B,Ke=new Nn,ct=2*Math.PI;return function(){const Q=i.object.position;Y.copy(Q).sub(i.target),Y.applyQuaternion(ve),d.setFromVector3(Y),i.autoRotate&&u===a.NONE&&j(I()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let me=i.minAzimuthAngle,Te=i.maxAzimuthAngle;return isFinite(me)&&isFinite(Te)&&(me<-Math.PI?me+=ct:me>Math.PI&&(me-=ct),Te<-Math.PI?Te+=ct:Te>Math.PI&&(Te-=ct),me<=Te?d.theta=Math.max(me,Math.min(Te,d.theta)):d.theta=d.theta>(me+Te)/2?Math.max(me,d.theta):Math.min(Te,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(i.minDistance,Math.min(i.maxDistance,d.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),Y.setFromSpherical(d),Y.applyQuaternion(Ee),Q.copy(i.target).add(Y),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||Le.distanceToSquared(i.object.position)>f||8*(1-Ke.dot(i.object.quaternion))>f?(i.dispatchEvent(r),Le.copy(i.object.position),Ke.copy(i.object.quaternion),y=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ue),i.domElement.addEventListener("pointerdown",Ve),i.domElement.addEventListener("pointercancel",it),i.domElement.addEventListener("wheel",O)},this.dispose=()=>{var Y,ve,Ee,Le,Ke,ct;(Y=i.domElement)===null||Y===void 0||Y.removeEventListener("contextmenu",Ue),(ve=i.domElement)===null||ve===void 0||ve.removeEventListener("pointerdown",Ve),(Ee=i.domElement)===null||Ee===void 0||Ee.removeEventListener("pointercancel",it),(Le=i.domElement)===null||Le===void 0||Le.removeEventListener("wheel",O),(Ke=i.domElement)===null||Ke===void 0||Ke.ownerDocument.removeEventListener("pointermove",qe),(ct=i.domElement)===null||ct===void 0||ct.ownerDocument.removeEventListener("pointerup",We),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",fe)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=a.NONE;const f=1e-6,d=new _y,h=new _y;let p=1;const m=new B;let y=!1;const S=new Se,M=new Se,v=new Se,A=new Se,x=new Se,E=new Se,T=new Se,P=new Se,R=new Se,L=[],C={};function I(){return 2*Math.PI/60/60*i.autoRotateSpeed}function F(){return Math.pow(.95,i.zoomSpeed)}function j(Y){i.reverseOrbit?h.theta+=Y:h.theta-=Y}function G(Y){i.reverseOrbit?h.phi+=Y:h.phi-=Y}const J=(()=>{const Y=new B;return function(Ee,Le){Y.setFromMatrixColumn(Le,0),Y.multiplyScalar(-Ee),m.add(Y)}})(),X=(()=>{const Y=new B;return function(Ee,Le){i.screenSpacePanning===!0?Y.setFromMatrixColumn(Le,1):(Y.setFromMatrixColumn(Le,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(Ee),m.add(Y)}})(),ee=(()=>{const Y=new B;return function(Ee,Le){const Ke=i.domElement;if(Ke&&i.object instanceof Vt&&i.object.isPerspectiveCamera){const ct=i.object.position;Y.copy(ct).sub(i.target);let Bt=Y.length();Bt*=Math.tan(i.object.fov/2*Math.PI/180),J(2*Ee*Bt/Ke.clientHeight,i.object.matrix),X(2*Le*Bt/Ke.clientHeight,i.object.matrix)}else Ke&&i.object instanceof Rr&&i.object.isOrthographicCamera?(J(Ee*(i.object.right-i.object.left)/i.object.zoom/Ke.clientWidth,i.object.matrix),X(Le*(i.object.top-i.object.bottom)/i.object.zoom/Ke.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function W(Y){i.object instanceof Vt&&i.object.isPerspectiveCamera?p/=Y:i.object instanceof Rr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*Y)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function N(Y){i.object instanceof Vt&&i.object.isPerspectiveCamera?p*=Y:i.object instanceof Rr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/Y)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function D(Y){S.set(Y.clientX,Y.clientY)}function k(Y){T.set(Y.clientX,Y.clientY)}function te(Y){A.set(Y.clientX,Y.clientY)}function K(Y){M.set(Y.clientX,Y.clientY),v.subVectors(M,S).multiplyScalar(i.rotateSpeed);const ve=i.domElement;ve&&(j(2*Math.PI*v.x/ve.clientHeight),G(2*Math.PI*v.y/ve.clientHeight)),S.copy(M),i.update()}function ie(Y){P.set(Y.clientX,Y.clientY),R.subVectors(P,T),R.y>0?W(F()):R.y<0&&N(F()),T.copy(P),i.update()}function re(Y){x.set(Y.clientX,Y.clientY),E.subVectors(x,A).multiplyScalar(i.panSpeed),ee(E.x,E.y),A.copy(x),i.update()}function we(Y){Y.deltaY<0?N(F()):Y.deltaY>0&&W(F()),i.update()}function Z(Y){let ve=!1;switch(Y.code){case i.keys.UP:ee(0,i.keyPanSpeed),ve=!0;break;case i.keys.BOTTOM:ee(0,-i.keyPanSpeed),ve=!0;break;case i.keys.LEFT:ee(i.keyPanSpeed,0),ve=!0;break;case i.keys.RIGHT:ee(-i.keyPanSpeed,0),ve=!0;break}ve&&(Y.preventDefault(),i.update())}function U(){if(L.length==1)S.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),ve=.5*(L[0].pageY+L[1].pageY);S.set(Y,ve)}}function Me(){if(L.length==1)A.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),ve=.5*(L[0].pageY+L[1].pageY);A.set(Y,ve)}}function Re(){const Y=L[0].pageX-L[1].pageX,ve=L[0].pageY-L[1].pageY,Ee=Math.sqrt(Y*Y+ve*ve);T.set(0,Ee)}function ce(){i.enableZoom&&Re(),i.enablePan&&Me()}function he(){i.enableZoom&&Re(),i.enableRotate&&U()}function ue(Y){if(L.length==1)M.set(Y.pageX,Y.pageY);else{const Ee=Xe(Y),Le=.5*(Y.pageX+Ee.x),Ke=.5*(Y.pageY+Ee.y);M.set(Le,Ke)}v.subVectors(M,S).multiplyScalar(i.rotateSpeed);const ve=i.domElement;ve&&(j(2*Math.PI*v.x/ve.clientHeight),G(2*Math.PI*v.y/ve.clientHeight)),S.copy(M)}function se(Y){if(L.length==1)x.set(Y.pageX,Y.pageY);else{const ve=Xe(Y),Ee=.5*(Y.pageX+ve.x),Le=.5*(Y.pageY+ve.y);x.set(Ee,Le)}E.subVectors(x,A).multiplyScalar(i.panSpeed),ee(E.x,E.y),A.copy(x)}function xe(Y){const ve=Xe(Y),Ee=Y.pageX-ve.x,Le=Y.pageY-ve.y,Ke=Math.sqrt(Ee*Ee+Le*Le);P.set(0,Ke),R.set(0,Math.pow(P.y/T.y,i.zoomSpeed)),W(R.y),T.copy(P)}function De(Y){i.enableZoom&&xe(Y),i.enablePan&&se(Y)}function Ie(Y){i.enableZoom&&xe(Y),i.enableRotate&&ue(Y)}function Ve(Y){if(i.enabled!==!1){if(L.length===0){var ve,Ee;(ve=i.domElement)===null||ve===void 0||ve.ownerDocument.addEventListener("pointermove",qe),(Ee=i.domElement)===null||Ee===void 0||Ee.ownerDocument.addEventListener("pointerup",We)}et(Y),Y.pointerType==="touch"?Ce(Y):xt(Y)}}function qe(Y){i.enabled!==!1&&(Y.pointerType==="touch"?be(Y):V(Y))}function We(Y){if(ze(Y),L.length===0){var ve,Ee,Le;(ve=i.domElement)===null||ve===void 0||ve.releasePointerCapture(Y.pointerId),(Ee=i.domElement)===null||Ee===void 0||Ee.ownerDocument.removeEventListener("pointermove",qe),(Le=i.domElement)===null||Le===void 0||Le.ownerDocument.removeEventListener("pointerup",We)}i.dispatchEvent(o),u=a.NONE}function it(Y){ze(Y)}function xt(Y){let ve;switch(Y.button){case 0:ve=i.mouseButtons.LEFT;break;case 1:ve=i.mouseButtons.MIDDLE;break;case 2:ve=i.mouseButtons.RIGHT;break;default:ve=-1}switch(ve){case Ko.DOLLY:if(i.enableZoom===!1)return;k(Y),u=a.DOLLY;break;case Ko.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;te(Y),u=a.PAN}else{if(i.enableRotate===!1)return;D(Y),u=a.ROTATE}break;case Ko.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;D(Y),u=a.ROTATE}else{if(i.enablePan===!1)return;te(Y),u=a.PAN}break;default:u=a.NONE}u!==a.NONE&&i.dispatchEvent(s)}function V(Y){if(i.enabled!==!1)switch(u){case a.ROTATE:if(i.enableRotate===!1)return;K(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;ie(Y);break;case a.PAN:if(i.enablePan===!1)return;re(Y);break}}function O(Y){i.enabled===!1||i.enableZoom===!1||u!==a.NONE&&u!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),we(Y),i.dispatchEvent(o))}function fe(Y){i.enabled===!1||i.enablePan===!1||Z(Y)}function Ce(Y){switch(ye(Y),L.length){case 1:switch(i.touches.ONE){case $o.ROTATE:if(i.enableRotate===!1)return;U(),u=a.TOUCH_ROTATE;break;case $o.PAN:if(i.enablePan===!1)return;Me(),u=a.TOUCH_PAN;break;default:u=a.NONE}break;case 2:switch(i.touches.TWO){case $o.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ce(),u=a.TOUCH_DOLLY_PAN;break;case $o.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;he(),u=a.TOUCH_DOLLY_ROTATE;break;default:u=a.NONE}break;default:u=a.NONE}u!==a.NONE&&i.dispatchEvent(s)}function be(Y){switch(ye(Y),u){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;ue(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;se(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;De(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ie(Y),i.update();break;default:u=a.NONE}}function Ue(Y){i.enabled!==!1&&Y.preventDefault()}function et(Y){L.push(Y)}function ze(Y){delete C[Y.pointerId];for(let ve=0;ve<L.length;ve++)if(L[ve].pointerId==Y.pointerId){L.splice(ve,1);return}}function ye(Y){let ve=C[Y.pointerId];ve===void 0&&(ve=new Se,C[Y.pointerId]=ve),ve.set(Y.pageX,Y.pageY)}function Xe(Y){const ve=Y.pointerId===L[0].pointerId?L[1]:L[0];return C[ve.pointerId]}t!==void 0&&this.connect(t),this.update()}};class $B extends g2{constructor(e){super(e),this.type=wr}parse(e){const a=function(x,E){switch(x){case 1:console.error("THREE.RGBELoader Read Error: "+(E||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(E||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(E||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(E||""))}return-1},h=`
`,p=function(x,E,T){E=E||1024;let R=x.pos,L=-1,C=0,I="",F=String.fromCharCode.apply(null,new Uint16Array(x.subarray(R,R+128)));for(;0>(L=F.indexOf(h))&&C<E&&R<x.byteLength;)I+=F,C+=F.length,R+=128,F+=String.fromCharCode.apply(null,new Uint16Array(x.subarray(R,R+128)));return-1<L?(T!==!1&&(x.pos+=C+L+1),I+F.slice(0,L)):!1},m=function(x){const E=/^#\?(\S+)/,T=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*FORMAT=(\S+)\s*$/,L=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,C={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let I,F;if(x.pos>=x.byteLength||!(I=p(x)))return a(1,"no header found");if(!(F=I.match(E)))return a(3,"bad initial token");for(C.valid|=1,C.programtype=F[1],C.string+=I+`
`;I=p(x),I!==!1;){if(C.string+=I+`
`,I.charAt(0)==="#"){C.comments+=I+`
`;continue}if((F=I.match(T))&&(C.gamma=parseFloat(F[1])),(F=I.match(P))&&(C.exposure=parseFloat(F[1])),(F=I.match(R))&&(C.valid|=2,C.format=F[1]),(F=I.match(L))&&(C.valid|=4,C.height=parseInt(F[1],10),C.width=parseInt(F[2],10)),C.valid&2&&C.valid&4)break}return C.valid&2?C.valid&4?C:a(3,"missing image size specifier"):a(3,"missing format specifier")},y=function(x,E,T){const P=E;if(P<8||P>32767||x[0]!==2||x[1]!==2||x[2]&128)return new Uint8Array(x);if(P!==(x[2]<<8|x[3]))return a(3,"wrong scanline width");const R=new Uint8Array(4*E*T);if(!R.length)return a(4,"unable to allocate buffer space");let L=0,C=0;const I=4*P,F=new Uint8Array(4),j=new Uint8Array(I);let G=T;for(;G>0&&C<x.byteLength;){if(C+4>x.byteLength)return a(1);if(F[0]=x[C++],F[1]=x[C++],F[2]=x[C++],F[3]=x[C++],F[0]!=2||F[1]!=2||(F[2]<<8|F[3])!=P)return a(3,"bad rgbe scanline format");let J=0,X;for(;J<I&&C<x.byteLength;){X=x[C++];const W=X>128;if(W&&(X-=128),X===0||J+X>I)return a(3,"bad scanline data");if(W){const N=x[C++];for(let D=0;D<X;D++)j[J++]=N}else j.set(x.subarray(C,C+X),J),J+=X,C+=X}const ee=P;for(let W=0;W<ee;W++){let N=0;R[L]=j[W+N],N+=P,R[L+1]=j[W+N],N+=P,R[L+2]=j[W+N],N+=P,R[L+3]=j[W+N],L+=4}G--}return R},S=function(x,E,T,P){const R=x[E+3],L=Math.pow(2,R-128)/255;T[P+0]=x[E+0]*L,T[P+1]=x[E+1]*L,T[P+2]=x[E+2]*L,T[P+3]=1},M=function(x,E,T,P){const R=x[E+3],L=Math.pow(2,R-128)/255;T[P+0]=yc.toHalfFloat(Math.min(x[E+0]*L,65504)),T[P+1]=yc.toHalfFloat(Math.min(x[E+1]*L,65504)),T[P+2]=yc.toHalfFloat(Math.min(x[E+2]*L,65504)),T[P+3]=yc.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const A=m(v);if(A!==-1){const x=A.width,E=A.height,T=y(v.subarray(v.pos),x,E);if(T!==-1){let P,R,L;switch(this.type){case sr:L=T.length/4;const C=new Float32Array(L*4);for(let F=0;F<L;F++)S(T,F*4,C,F*4);P=C,R=sr;break;case wr:L=T.length/4;const I=new Uint16Array(L*4);for(let F=0;F<L;F++)M(T,F*4,I,F*4);P=I,R=wr;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:x,height:E,data:P,header:A.string,gamma:A.gamma,exposure:A.exposure,type:R}}}return null}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){switch(o.type){case sr:case wr:o.encoding=yf,o.minFilter=Yt,o.magFilter=Yt,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,i,r)}}const eb=de.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...u},f)=>{const d=Qn(T=>T.invalidate),h=Qn(T=>T.camera),p=Qn(T=>T.gl),m=Qn(T=>T.events),y=Qn(T=>T.setEvents),S=Qn(T=>T.set),M=Qn(T=>T.get),v=Qn(T=>T.performance),A=e||h,x=i||m.connected||p.domElement,E=de.useMemo(()=>new KB(A),[A]);return Su(()=>{E.enabled&&E.update()},-1),de.useEffect(()=>(E.connect(x),()=>void E.dispose()),[x,t,E,d]),de.useEffect(()=>{const T=L=>{d(),t&&v.regress(),s&&s(L)},P=L=>{o&&o(L)},R=L=>{a&&a(L)};return E.addEventListener("change",T),E.addEventListener("start",P),E.addEventListener("end",R),()=>{E.removeEventListener("start",P),E.removeEventListener("end",R),E.removeEventListener("change",T)}},[s,o,a,E,d,y]),de.useEffect(()=>{if(n){const T=M().controls;return S({controls:E}),()=>S({controls:T})}},[n,E]),de.createElement("primitive",Ma({ref:f,object:E,enableDamping:r},u))}),F0={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},e4="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function tb({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:i=void 0,extensions:r}={}){if(t){if(!(t in F0))throw new Error("Preset must be one of: "+Object.keys(F0).join(", "));n=F0[t],e=e4}const s=Array.isArray(n),a=kf(s?m2:$B,s?[n]:n,f=>{f.setPath(e),r&&r(f)}),u=s?a[0]:a;return u.mapping=s?Is:eu,u.encoding=i??s?Cs:yf,u}const t4=n=>n.current&&n.current.isScene,n4=n=>t4(n)?n.current:n;function Sx(n,e,t,i,r=0){const s=n4(e||t),o=s.background,a=s.environment,u=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=i),n&&(s.background=i),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=r),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=u)}}function Mx({scene:n,background:e=!1,blur:t,map:i}){const r=Qn(s=>s.scene);return de.useLayoutEffect(()=>{if(i)return Sx(e,n,r,i,t)},[r,n,i,e,t]),null}function nb({background:n=!1,scene:e,blur:t,...i}){const r=tb(i),s=Qn(o=>o.scene);return de.useLayoutEffect(()=>Sx(n,e,s,r,t),[r,n,e,s,t]),null}function i4({children:n,near:e=1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:o=!1,blur:a,scene:u,files:f,path:d,preset:h=void 0,extensions:p}){const m=Qn(x=>x.gl),y=Qn(x=>x.scene),S=de.useRef(null),[M]=de.useState(()=>new rf),v=de.useMemo(()=>{const x=new k_(i);return x.texture.type=wr,x},[i]);de.useLayoutEffect(()=>(r===1&&S.current.update(m,M),Sx(o,u,y,v.texture,a)),[n,M,v.texture,u,y,o,r,m]);let A=1;return Su(()=>{(r===1/0||A<r)&&(S.current.update(m,M),A++)}),de.createElement(de.Fragment,null,yB(de.createElement(de.Fragment,null,n,de.createElement("cubeCamera",{ref:S,args:[e,t,v]}),f||h?de.createElement(nb,{background:!0,files:f,preset:h,path:d,extensions:p}):s?de.createElement(Mx,{background:!0,map:s,extensions:p}):null),M))}function r4(n){var e,t,i,r;const s=tb(n),o=n.map||s;de.useMemo(()=>U2({GroundProjectedEnvImpl:ZB}),[]);const a=de.useMemo(()=>[o],[o]),u=(e=n.ground)==null?void 0:e.height,f=(t=n.ground)==null?void 0:t.radius,d=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return de.createElement(de.Fragment,null,de.createElement(Mx,Ma({},n,{map:o})),de.createElement("groundProjectedEnvImpl",{args:a,scale:d,height:u,radius:f}))}function ib(n){return n.ground?de.createElement(r4,n):n.map?de.createElement(Mx,n):n.children?de.createElement(i4,n):de.createElement(nb,n)}function iE(n,e){if(e===SC)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Op||e===L_){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let u=0;u<a.count;u++)o.push(u);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===Op)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class rb extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new u4(t)}),this.register(function(t){return new g4(t)}),this.register(function(t){return new v4(t)}),this.register(function(t){return new y4(t)}),this.register(function(t){return new f4(t)}),this.register(function(t){return new d4(t)}),this.register(function(t){return new h4(t)}),this.register(function(t){return new p4(t)}),this.register(function(t){return new l4(t)}),this.register(function(t){return new m4(t)}),this.register(function(t){return new c4(t)}),this.register(function(t){return new o4(t)}),this.register(function(t){return new _4(t)}),this.register(function(t){return new x4(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=uu.extractUrlBase(e),this.manager.itemStart(e);const a=function(f){r?r(f):console.error(f),s.manager.itemError(e),s.manager.itemEnd(e)},u=new Dr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(f){try{s.parse(f,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},u=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(u.decode(new Uint8Array(e,0,4))===sb){try{o[Tt.KHR_BINARY_GLTF]=new A4(e)}catch(h){r&&r(h);return}s=JSON.parse(o[Tt.KHR_BINARY_GLTF].content)}else s=JSON.parse(u.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const f=new D4(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](f);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let d=0;d<s.extensionsUsed.length;++d){const h=s.extensionsUsed[d],p=s.extensionsRequired||[];switch(h){case Tt.KHR_MATERIALS_UNLIT:o[h]=new a4;break;case Tt.KHR_DRACO_MESH_COMPRESSION:o[h]=new S4(s,this.dracoLoader);break;case Tt.KHR_TEXTURE_TRANSFORM:o[h]=new M4;break;case Tt.KHR_MESH_QUANTIZATION:o[h]=new E4;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}f.setExtensions(o),f.setPlugins(a),f.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function s4(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Tt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class o4{constructor(e){this.parser=e,this.name=Tt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,u=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let f;const d=new Fe(16777215);u.color!==void 0&&d.fromArray(u.color);const h=u.range!==void 0?u.range:0;switch(u.type){case"directional":f=new ux(d),f.target.position.set(0,0,-1),f.add(f.target);break;case"point":f=new lx(d),f.distance=h;break;case"spot":f=new ax(d),f.distance=h,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,f.angle=u.spot.outerConeAngle,f.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,f.target.position.set(0,0,-1),f.add(f.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return f.position.set(0,0,0),f.decay=2,io(f,u),u.intensity!==void 0&&(f.intensity=u.intensity),f.name=t.createUniqueName(u.name||"light_"+e),r=Promise.resolve(f),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(u){return i._getNodeRef(t.cache,a,u)})}}class a4{constructor(){this.name=Tt.KHR_MATERIALS_UNLIT}getMaterialType(){return Oi}extendParams(e,t,i){const r=[];e.color=new Fe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,st))}return Promise.all(r)}}class l4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class u4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Se(a,a)}return Promise.all(s)}}class c4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class f4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Fe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,st)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class d4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class h4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Fe(a[0],a[1],a[2]),Promise.all(s)}}class p4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class m4{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Fe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,st)),Promise.all(s)}}class g4{constructor(e){this.parser=e,this.name=Tt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class v4{constructor(e){this.parser=e,this.name=Tt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let u=i.textureLoader;if(a.uri){const f=i.options.manager.getHandler(a.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return i.loadTextureImage(e,o.source,u);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class y4{constructor(e){this.parser=e,this.name=Tt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let u=i.textureLoader;if(a.uri){const f=i.options.manager.getHandler(a.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return i.loadTextureImage(e,o.source,u);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class _4{constructor(e){this.name=Tt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const u=r.byteOffset||0,f=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,u,f);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}class x4{constructor(e){this.name=Tt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const f of r.primitives)if(f.mode!==er.TRIANGLES&&f.mode!==er.TRIANGLE_STRIP&&f.mode!==er.TRIANGLE_FAN&&f.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],u={};for(const f in o)a.push(this.parser.getDependency("accessor",o[f]).then(d=>(u[f]=d,u[f])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(f=>{const d=f.pop(),h=d.isGroup?d.children:[d],p=f[0].count,m=[];for(const y of h){const S=new ot,M=new B,v=new Nn,A=new B(1,1,1),x=new j_(y.geometry,y.material,p);for(let E=0;E<p;E++)u.TRANSLATION&&M.fromBufferAttribute(u.TRANSLATION,E),u.ROTATION&&v.fromBufferAttribute(u.ROTATION,E),u.SCALE&&A.fromBufferAttribute(u.SCALE,E),x.setMatrixAt(E,S.compose(M,v,A));for(const E in u)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&y.geometry.setAttribute(E,u[E]);Ct.prototype.copy.call(x,y),this.parser.assignFinalMaterial(x),m.push(x)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const sb="glTF",cc=12,rE={JSON:1313821514,BIN:5130562};class A4{constructor(e){this.name=Tt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,cc),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==sb)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-cc,s=new DataView(e,cc);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const u=s.getUint32(o,!0);if(o+=4,u===rE.JSON){const f=new Uint8Array(e,cc+o,a);this.content=i.decode(f)}else if(u===rE.BIN){const f=cc+o;this.body=e.slice(f,f+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class S4{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Tt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},u={},f={};for(const d in o){const h=Ey[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=Ey[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=Xl[p.componentType];f[h]=m.name,u[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){r.decodeDracoFile(d,function(p){for(const m in p.attributes){const y=p.attributes[m],S=u[m];S!==void 0&&(y.normalized=S)}h(p)},a,f)})})}}class M4{constructor(){this.name=Tt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class E4{constructor(){this.name=Tt.KHR_MESH_QUANTIZATION}}class ob extends Au{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=a*2,f=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,y=e*f,S=y-f,M=-2*m+3*p,v=m-p,A=1-M,x=v-p+h;for(let E=0;E!==a;E++){const T=o[S+E+a],P=o[S+E+u]*d,R=o[y+E+a],L=o[y+E]*d;s[E]=A*T+x*P+M*R+v*L}return s}}const w4=new Nn;class T4 extends ob{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return w4.fromArray(s).normalize().toArray(s),s}}const er={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Xl={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},sE={9728:ln,9729:Yt,9984:$c,9985:im,9986:Gl,9987:ts},oE={33071:kn,33648:tu,10497:Mo},k0={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ey={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$s={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},C4={CUBICSPLINE:void 0,LINEAR:wa,STEP:nu},B0={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function b4(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Of({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:es})),n.DefaultMaterial}function fc(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function io(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function R4(n,e,t){let i=!1,r=!1,s=!1;for(let f=0,d=e.length;f<d;f++){const h=e[f];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],u=[];for(let f=0,d=e.length;f<d;f++){const h=e[f];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;u.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(u)]).then(function(f){const d=f[0],h=f[1],p=f[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function P4(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function L4(n){const e=n.extensions&&n.extensions[Tt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+aE(e.attributes):t=n.indices+":"+aE(n.attributes)+":"+n.mode,t}function aE(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function wy(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function I4(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const N4=new ot;class D4{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new s4,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new v2(this.options.manager):this.textureLoader=new E2(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Dr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};fc(s,a,r),io(a,r),Promise.all(i._invokeAll(function(u){return u.afterRoot&&u.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,u=o.length;a<u;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const u=this.associations.get(o);u!=null&&this.associations.set(a,u);for(const[f,d]of o.children.entries())s(d,a.children[f])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Tt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(uu.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=k0[r.type],a=Xl[r.componentType],u=r.normalized===!0,f=new a(r.count*o);return Promise.resolve(new Ut(f,o,u))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],u=k0[r.type],f=Xl[r.componentType],d=f.BYTES_PER_ELEMENT,h=d*u,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let S,M;if(m&&m!==h){const v=Math.floor(p/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let x=t.cache.get(A);x||(S=new f(a,v*m,r.count*m/d),x=new Mf(S,m/d),t.cache.add(A,x)),M=new Eo(x,u,p%m/d,y)}else a===null?S=new f(r.count*u):S=new f(a,p,r.count*u),M=new Ut(S,u,y);if(r.sparse!==void 0){const v=k0.SCALAR,A=Xl[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,T=new A(o[1],x,r.sparse.count*v),P=new f(o[2],E,r.sparse.count*u);a!==null&&(M=new Ut(M.array.slice(),M.itemSize,M.normalized));for(let R=0,L=T.length;R<L;R++){const C=T[R];if(M.setX(C,P[R*u]),u>=2&&M.setY(C,P[R*u+1]),u>=3&&M.setZ(C,P[R*u+2]),u>=4&&M.setW(C,P[R*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return M})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const u=i.manager.getHandler(o.uri);u!==null&&(a=u)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],u=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[u])return this.textureCache[u];const f=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=sE[p.magFilter]||Yt,d.minFilter=sE[p.minFilter]||ts,d.wrapS=oE[p.wrapS]||Mo,d.wrapT=oE[p.wrapT]||Mo,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[u]=f,f}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let u=o.uri||"",f=!1;if(o.bufferView!==void 0)u=i.getDependency("bufferView",o.bufferView).then(function(h){f=!0;const p=new Blob([h],{type:o.mimeType});return u=a.createObjectURL(p),u});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(u).then(function(h){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(S){const M=new Kt(S);M.needsUpdate=!0,p(M)}),t.load(uu.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return f===!0&&a.revokeObjectURL(u),h.userData.mimeType=o.mimeType||I4(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Tt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Tt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const u=s.associations.get(o);o=s.extensions[Tt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,u)}}return r!==void 0&&(o.colorSpace=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let u=this.cache.get(a);u||(u=new fm,_n.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(a,u)),i=u}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let u=this.cache.get(a);u||(u=new $n,_n.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,this.cache.add(a,u)),i=u}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let u=this.cache.get(a);u||(u=i.clone(),s&&(u.vertexColors=!0),o&&(u.flatShading=!0),r&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(a,u),this.associations.set(u,this.associations.get(i))),i=u}e.material=i}getMaterialType(){return Of}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},u=s.extensions||{},f=[];if(u[Tt.KHR_MATERIALS_UNLIT]){const h=r[Tt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),f.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Fe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&f.push(t.assignTexture(a,"map",h.baseColorTexture,st)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(f.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),f.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),f.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ni);const d=s.alphaMode||B0.OPAQUE;if(d===B0.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===B0.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Oi&&(f.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Se(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Oi&&(f.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Oi&&(a.emissive=new Fe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Oi&&f.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,st)),Promise.all(f).then(function(){const h=new o(a);return s.name&&(h.name=s.name),io(h,s),t.associations.set(h,{materials:e}),s.extensions&&fc(r,h,s),h})}createUniqueName(e){const t=wt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Tt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(u){return lE(u,a,t)})}const o=[];for(let a=0,u=e.length;a<u;a++){const f=e[a],d=L4(f),h=r[d];if(h)o.push(h.promise);else{let p;f.extensions&&f.extensions[Tt.KHR_DRACO_MESH_COMPRESSION]?p=s(f):p=lE(new ht,f,t),r[d]={primitive:f,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let u=0,f=o.length;u<f;u++){const d=o[u].material===void 0?b4(this.cache):this.getDependency("material",o[u].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(u){const f=u.slice(0,u.length-1),d=u[u.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const S=d[m],M=o[m];let v;const A=f[m];if(M.mode===er.TRIANGLES||M.mode===er.TRIANGLE_STRIP||M.mode===er.TRIANGLE_FAN||M.mode===void 0)v=s.isSkinnedMesh===!0?new W_(S,A):new Mn(S,A),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),M.mode===er.TRIANGLE_STRIP?v.geometry=iE(v.geometry,L_):M.mode===er.TRIANGLE_FAN&&(v.geometry=iE(v.geometry,Op));else if(M.mode===er.LINES)v=new Fr(S,A);else if(M.mode===er.LINE_STRIP)v=new Ds(S,A);else if(M.mode===er.LINE_LOOP)v=new X_(S,A);else if(M.mode===er.POINTS)v=new Y_(S,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+M.mode);Object.keys(v.geometry.morphAttributes).length>0&&P4(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),io(v,s),M.extensions&&fc(r,v,M),t.assignFinalMaterial(v),h.push(v)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new Es;t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Vt(RC.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Rr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),io(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],u=[];for(let f=0,d=o.length;f<d;f++){const h=o[f];if(h){a.push(h);const p=new ot;s!==null&&p.fromArray(s.array,f*16),u.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[f])}return new Ef(a,u)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],u=[],f=[];for(let d=0,h=i.channels.length;d<h;d++){const p=i.channels[d],m=i.samplers[p.sampler],y=p.target,S=y.node,M=i.parameters!==void 0?i.parameters[m.input]:m.input,v=i.parameters!==void 0?i.parameters[m.output]:m.output;y.node!==void 0&&(s.push(this.getDependency("node",S)),o.push(this.getDependency("accessor",M)),a.push(this.getDependency("accessor",v)),u.push(m),f.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(u),Promise.all(f)]).then(function(d){const h=d[0],p=d[1],m=d[2],y=d[3],S=d[4],M=[];for(let v=0,A=h.length;v<A;v++){const x=h[v],E=p[v],T=m[v],P=y[v],R=S[v];if(x===void 0)continue;x.updateMatrix();let L;switch($s[R.path]){case $s.weights:L=ou;break;case $s.rotation:L=wo;break;case $s.position:case $s.scale:default:L=au;break}const C=x.name?x.name:x.uuid,I=P.interpolation!==void 0?C4[P.interpolation]:wa,F=[];$s[R.path]===$s.weights?x.traverse(function(G){G.morphTargetInfluences&&F.push(G.name?G.name:G.uuid)}):F.push(C);let j=T.array;if(T.normalized){const G=wy(j.constructor),J=new Float32Array(j.length);for(let X=0,ee=j.length;X<ee;X++)J[X]=j[X]*G;j=J}for(let G=0,J=F.length;G<J;G++){const X=new L(F[G]+"."+$s[R.path],E.array,j,I);P.interpolation==="CUBICSPLINE"&&(X.createInterpolant=function(W){const N=this instanceof wo?T4:ob;return new N(this.times,this.values,this.getValueSize()/3,W)},X.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),M.push(X)}}return new lu(r,void 0,M)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let u=0,f=r.weights.length;u<f;u++)a.morphTargetInfluences[u]=r.weights[u]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let f=0,d=a.length;f<d;f++)o.push(i.getDependency("node",a[f]));const u=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),u]).then(function(f){const d=f[0],h=f[1],p=f[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,N4)});for(let m=0,y=h.length;m<y;m++)d.add(h[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],u=r._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});return u&&a.push(u),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(f){return r._getNodeRef(r.cameraCache,s.camera,f)})),r._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){a.push(f)}),this.nodeCache[e]=Promise.all(a).then(function(f){let d;if(s.isBone===!0?d=new cm:f.length>1?d=new Es:f.length===1?d=f[0]:d=new Ct,d!==f[0])for(let h=0,p=f.length;h<p;h++)d.add(f[h]);if(s.name&&(d.userData.name=s.name,d.name=o),io(d,s),s.extensions&&fc(i,d,s),s.matrix!==void 0){const h=new ot;h.fromArray(s.matrix),d.applyMatrix4(h)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Es;i.name&&(s.name=r.createUniqueName(i.name)),io(s,i),i.extensions&&fc(t,s,i);const o=i.nodes||[],a=[];for(let u=0,f=o.length;u<f;u++)a.push(r.getDependency("node",o[u]));return Promise.all(a).then(function(u){for(let d=0,h=u.length;d<h;d++)s.add(u[d]);const f=d=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof _n||p instanceof Kt)&&h.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=f(s),s})}}function U4(n,e,t){const i=e.attributes,r=new Ur;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],u=a.min,f=a.max;if(u!==void 0&&f!==void 0){if(r.set(new B(u[0],u[1],u[2]),new B(f[0],f[1],f[2])),a.normalized){const d=wy(Xl[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new B,u=new B;for(let f=0,d=s.length;f<d;f++){const h=s[f];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(u.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),u.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),u.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const S=wy(Xl[p.componentType]);u.multiplyScalar(S)}a.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Or;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function lE(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(u){n.setAttribute(a,u)})}for(const o in i){const a=Ey[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return io(n,e),U4(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?R4(n,e.targets,t):n})}function O4(){const{progress:n}=YB();return q.jsxs(XB,{center:!0,children:[q.jsxs("div",{className:"text-yellow-100",children:[n," % loaded"]}),q.jsx("div",{className:"flex rounded-full w-44 bg-slate-950 h-2",children:q.jsx("div",{style:{width:`${n.toFixed(2)}%`},className:"bg-yellow-100 rounded-full"})})]})}const F4=()=>{const n=kf(rb,"../../../Portfolio-v1/models/samurai/scene.gltf"),{mouse:e}=Qn();return Su(t=>{const i=new B;t.camera.position.lerp(i.set(-e.x*5,-e.y*5,0),.05),t.camera.lookAt(0,0,50)}),q.jsxs(q.Fragment,{children:[q.jsx("primitive",{object:n.scene,position:[0,-120,0],scale:1}),";"]})};function k4(){const{camera:n,mouse:e}=Qn(),t=new B;return Su(()=>{n.position.lerp(t.set(-e.x*500,0,0),.025),n.lookAt(0,0,0)})}function B4(){return q.jsx("div",{className:"absolute left-0 right-0 top-0 bottom-0",children:q.jsx(K2,{children:q.jsxs(de.Suspense,{fallback:q.jsx(O4,{}),children:[q.jsx(F4,{}),q.jsx(k4,{}),q.jsx(eb,{enableZoom:!1,maxPolarAngle:Math.PI/2.5,minPolarAngle:Math.PI/3.5,maxAzimuthAngle:Math.PI/8,minAzimuthAngle:-Math.PI/8,minDistance:300}),q.jsx(ib,{preset:"sunset"})]})})})}const z4="_alphabetAnimation_163k2_2",H4="_randomRotate_163k2_1",V4="_nameJumpAnimation_163k2_15",G4="_subtleJump_163k2_1",W4="_svgContainer_163k2_26",j4="_dash_163k2_1",X4="_fontsSection_163k2_72",ta={alphabetAnimation:z4,randomRotate:H4,nameJumpAnimation:V4,subtleJump:G4,svgContainer:W4,dash:j4,fontsSection:X4},Y4=()=>q.jsx("div",{className:` absolute top-0 h-screen w-screen z-50 right-0 ${ta.svgContainer}`,children:q.jsxs("svg",{width:"442",height:"342",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 442 342",children:[q.jsx("path",{fill:"none",stroke:"#fff",d:"M442 58c0 0-82-45-160-57-62-10-108 55-164 39C86 31 65 1 34 8 3 15 0 55 0 55"}),q.jsx("path",{id:"svg_1",d:"m442 75c0 0-65-39-120-33-110 8-214 83-259 82-33 0-55-18-52-45 3-21 27-37 53-34 21 2 36 18 34 35-2 14-17 24-34 22-13-1-23-11-21-22 1-9 11-15 22-14 9 1 15 7 14 14-1 6-7 10-14 9-5 0-9-5-9-9",stroke:"#fff",fill:"none"}),q.jsx("path",{id:"svg_3",d:"m442 101c0 0-38-23-124-25-85-2-132 21-136 39s4 27 13 31c7 3 16 0 18-6 2-5-1-12-6-14-5-2-10 0-12 4-1 4 0 8 4 9 3 1 6 0 8-3 1-2 0-5-3-6-2-1-4 0-5 2-1 1 0 3 2 4",stroke:"#fff",fill:"none"}),q.jsx("path",{id:"svg_4",d:"m442 165c0 0-103-62-131-52-28 10 23 43-3 59-26 16-144-4-144-4l-165-36",stroke:"#fff",fill:"none"}),q.jsx("path",{id:"svg_5",d:"m442 228c0 0-40-43-63-50-22-7-23 41-56 45-122 11-323-53-323-53",stroke:"#fff",fill:"none"}),q.jsx("path",{id:"svg_6",d:"m442 278c0 0-22-3-89-18-68-16-127 34-195 35-68 1-157-70-157-70",stroke:"#fff",fill:"none"})]})}),q4=({})=>q.jsxs("div",{className:"z-10 flex items-center bg-[#fff3b0]",children:[q.jsxs("div",{className:"  p-2 z-10 sm:static absolute	w-full  flex-1 flex flex-col items-center justify-center ",children:[q.jsx(Y4,{}),q.jsxs("div",{className:"p-4 md:p-6 sm:p-4 rounded-lg shadow-lg max-w-xl bg-[#fdfcdc] sm:backdrop-blur-2xl bg-opacity-50 sm:bg-opacity-100 ",children:[q.jsxs("h1",{className:"font-bold sm:text-4xl md:text-6xl  text-[#4a4e69]  w-fit",children:[q.jsx("span",{children:"Hi STRANGER"}),q.jsx("div",{className:ta.alphabetAnimation,children:""})]}),q.jsx("div",{className:`${ta.fontsSection}  md:text-3xl sm:text-xl  mt-2 sm:text-[# c9ada7]`,children:"My self Rahil Sheikh"}),q.jsxs("div",{className:`${ta.fontsSection}	 md:text-3xl sm:text-xl    mt-2 sm:text-[# c9ada7] `,children:["Im a front-end developer. Specialized in"," ",q.jsx("div",{"data-underline-color":"#4a4e69",className:ta.nameJumpAnimation,children:"React.Js"})," ","and"," ",q.jsx("div",{className:ta.nameJumpAnimation,children:"Next.Js"})]}),q.jsx("div",{className:`${ta.fontsSection} md:text-3xl sm:text-xl   mt-2 md:text-[#c9ada7]`,children:"Currently working as a Associate Software Developer"})]})]}),q.jsxs("div",{className:"relative w-full sm:w-[50%] h-screen pt-10 flex items-start justify-center",children:[q.jsx(B4,{}),q.jsx("div",{className:"w-[50%] rounded-full aspect-square bg-red-600"})]})]}),J4="/Portfolio-v1/assets/samurai2-4dc4aff3.jpg",Q4="_container_17hn2_1",Z4="_card_17hn2_11",K4="_toLast_17hn2_18",$4="_notfirst_17hn2_22",ez="_firstChild_17hn2_25",vs={container:Q4,card:Z4,toLast:K4,notfirst:$4,firstChild:ez},tz=({onClick:n,children:e})=>q.jsx("div",{onClick:n,className:vs.card,children:e}),nz={right:"	translate3d( 100vw, 0px,0px)",left:"	translate3d( -100vw, 0px,0px)"};function iz({children:n,limit:e=5,clickHandler:t}){if(!Array.isArray(n))return n;const i=n.length,r=de.useRef("a".repeat(i).split("").map((A,x)=>x));let s=0,o=0;const[a,u]=de.useState(0),f=de.useRef(),d=A=>`
			translate3d(${A*30*1.25}px, ${A*25*1.25}px, ${A*-50}px)  rotateZ(${A*5}deg)`,h=(A,x)=>{const E=r.current.indexOf(A);console.log(r.current,A),u(r.current[0]),E==-1?r.current=[...r.current.slice(1),...r.current.slice(0,1)]:r.current=[...r.current.slice(E+1),...r.current.slice(0,E+1)],p(x)},p=A=>{r.current.forEach((x,E)=>{f.current.children[x].classList.add(vs.notfirst),f.current.children[x].classList.remove(vs.firstChild),E==0&&(f.current.children[x].classList.remove(vs.notfirst),f.current.children[x].classList.add(vs.firstChild)),E<e?(f.current,f.current.children[x].classList.remove(vs.toLast),f.current.children[x].style.zIndex=i-E,f.current.children[x].style.transform=d(E)):E===r.current.length-1&&A?f.current.children[x].style.transform=nz[A]:(E==i-2&&A?f.current.children[x].classList.add(vs.toLast):f.current.children[x].classList.remove(vs.toLast),f.current.children[x].style.zIndex=i-e,f.current.children[x].style.transform=`translate3d(100vw, ${e*40*1.25}px, 0px)`)})},m=de.useRef(A=>{const x=f.current.children[r.current[0]],E=A.clientX-s,T=A.clientY-o,P=x;P.style.transform=`translate3d(${E}px, ${T}px, 0) rotateZ(15deg)`,A.stopPropagation()}),y=A=>{s=A.clientX,o=A.clientY,window.addEventListener("mousemove",m.current),window.addEventListener("touchmove",m.current),A.stopPropagation()},S=A=>{window.removeEventListener("mousemove",m.current),window.removeEventListener("touchmove",m.current);const x=f.current.children[r.current[0]];A.stopPropagation(),A.clientX>=window.innerWidth/3*2?h(r.current[0],"right"):A.clientX<=window.innerWidth/3?h(r.current[0],"left"):x.style.transform="translate3d(0px, 0px, 0)"},M=(A,x)=>{t(A),x!=A&&(console.log("ooasasa",A),h(A-1)),u(r.current[0])},v={mousedown:y,mouseup:S};return de.useEffect(()=>{p()},[]),q.jsx("div",{ref:f,className:vs.container,children:n.map((A,x)=>q.jsx(tz,{onClick:()=>M(x,a),...v,children:A}))})}const rz="_nameJumpAnimation_1adxj_2",sz="_subtleJump_1adxj_1",oz="_mask1_1adxj_12",az="_fontStyling_1adxj_21",lz="_fadeIn_1adxj_25",z0={nameJumpAnimation:rz,subtleJump:sz,mask1:oz,fontStyling:az,fadeIn:lz},H0=[{img:"../../../public/ReactAdminDashboard.png",title:"React Admin Dashboard",content:"This is a admin pannel made in React.Js and Tailwind CSS",tags:["Tailwind CSS","React.JS","React Router Dom "],description:"This is a admin pannel made in React.js and Tailwind CSS. The charts used are from Apex Charts. So its an experimental project. The icons Are from Lucid-Ui. Routing is done using React-Router-Dom v6",linkToSite:"https://abdulrahilsheikh.github.io/React-cms-website-v1/"},{img:"../../../public/SamuraiPortfolio.png",title:"Samurai Style Portfolio",content:"This is my Creative Portfolio",tags:["Tailwind CSS","React.JS","React-Three-Fiber "],description:"This is my personal portfolio website. Inpired by samurai theme. All the 3d models are implemented with the help of React-Three-Fiber. And for styling Tailwind CSS is used. ",linkToSite:"https://abdulrahilsheikh.github.io/Portfolio-v1"}],uz=({})=>{const[n,e]=de.useState(H0[0]),t=i=>{e(H0[i])};return q.jsxs("div",{className:"min-h-screen py-8 md:py-20",children:[q.jsxs("div",{className:" text-center font-bold text-3xl md:text-6xl text-[#4a4e69] w-full ",children:[q.jsx("div",{className:`text-red-400 ${z0.nameJumpAnimation}`,children:"."}),"/my-projects"]}),q.jsxs("div",{className:"w-full h-full flex  justify-center ",children:[q.jsxs("div",{className:"hidden  md:w-1/2 md:flex flex-col items-center justify-center relative",children:[q.jsxs("div",{className:`w-2/3 z-10 p-4   rounded flex flex-col  bg-white justify-center bg-opacity-60 gap-2 items-start ${z0.fadeIn}`,children:[q.jsxs("div",{className:"font-bold",children:[n.title," "]}),q.jsx("div",{className:"",children:n.description}),q.jsxs("a",{href:n.linkToSite,target:"_blank",type:"button",className:"self-start  py-2 px-4 flex justify-center items-center  bg-yellow-100 hover:bg-yellow-300 focus:bg-yellow-100 focus:ring-offset-yellow-200 text-[#4a4e69]  transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-full",children:[q.jsx("svg",{width:"20",height:"20",className:"mr-2",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M1344 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h427q21 56 70.5 92t110.5 36h256q61 0 110.5-36t70.5-92h427q40 0 68 28t28 68zm-325-648q-17 40-59 40h-256v448q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-448h-256q-42 0-59-40-17-39 14-69l448-448q18-19 45-19t45 19l448 448q31 30 14 69z"})}),"Go to Site"]})]},n.title),q.jsx("div",{className:`${z0.mask1} -z-1 w-full absolute top-0 left-0 right-0 bottom-0`,children:q.jsx("img",{src:J4,className:"w-full relative top-20 "})})]}),q.jsx("div",{className:"w-full md:w-1/2 h-full m-0",children:q.jsx(iz,{limit:3,clickHandler:t,children:H0.map(i=>q.jsxs("div",{className:"max-w-[15rem] md:max-w-xs rounded overflow-hidden  shadow-lg bg-white",children:[q.jsx("img",{className:" w-full md:h-44 object-contain border-b-[1px] md:border-b-0",src:`../../../Portfolio-v1/${i.img}`,alt:"Sunset in the mountains"}),q.jsxs("div",{className:"px-6 py-4",children:[q.jsx("div",{className:"font-bold md:text-xl mb-2",children:i.title}),q.jsx("p",{className:"text-gray-700 md:text-base",children:i.content})]}),q.jsxs("a",{href:n.linkToSite,target:"_blank",type:"button",className:"w-fit mx-4 md:hidden self-start  py-2 px-4 flex justify-center items-center  bg-yellow-100 hover:bg-yellow-300 focus:bg-yellow-100 focus:ring-offset-yellow-200 text-[#4a4e69]  transition ease-in duration-200 text-center text-sm md:text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-full",children:[q.jsx("svg",{width:"20",height:"20",className:"mr-2",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M1344 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h427q21 56 70.5 92t110.5 36h256q61 0 110.5-36t70.5-92h427q40 0 68 28t28 68zm-325-648q-17 40-59 40h-256v448q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-448h-256q-42 0-59-40-17-39 14-69l448-448q18-19 45-19t45 19l448 448q31 30 14 69z"})}),"Go to Site"]}),q.jsx("div",{className:"px-6 pt-4 pb-2",children:i.tags.map(r=>q.jsxs("span",{className:"inline-block bg-gray-200 rounded-full px-3 py-1 text-xs md:text-sm font-semibold text-gray-700 mr-2 mb-2",children:["#",r]}))})]}))})})]})]})},cz="_nameJumpAnimation_1m4ep_2",fz="_subtleJump_1m4ep_1",dz="_fontSection_1m4ep_12",hz="_scrollMagicRemovePadding_1m4ep_16",dc={nameJumpAnimation:cz,subtleJump:fz,fontSection:dz,scrollMagicRemovePadding:hz},pz="/Portfolio-v1/assets/css-387df8ac.png",mz="/Portfolio-v1/assets/firebase-650ffb5a.png",gz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAFVBMVEVMaXHsSDjyci3/niv/cEP/pyblOTUUyP6yAAAABHRSTlMAx1nHSQpXUQAAAAlwSFlzAAALEwAACxMBAJqcGAAADvxJREFUeNrtnQuSHEkKRBNQxv2PPKbZWUmtzqrKD0QA7q4LVBEPf5gk6942hmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmE6RjgC6KHo4HN/z1Ac1oG+64WtwKmAMeiAg60YOKwPOuBgK2B6UYC+66WtEBzW6YCjrRg4rNMBR1sB0osC9F0vboXgsE4HHG3FwGGdDjjaCoheFKDvenkrBId1OuBoKwYO63TA0VYA9KIAfdcbWyE4rNMBR1sxcFinA462on0vCtB3vbUVgsM6HXC0FQOHdTrgaCua96IAfdebWyE4rNMBR1sxcFinA462onUvCtB3vb0VgsM6HXC0FQOHdTrgaCsa96IAfdcHWyE4rNMBR1sxcFinA462om0vCtB3fbQVgsM6HXC0FQOHdTrgcCiKwzq6A463QnBYR3fA8VYMHNbRHfBiKIrDOrYDXm2F4LCO7YBXWzFwWMd2wMuhKA7ryA54vRWCwzqyA15vxcBhHdkBb4aiOKzjOuDdVggO67gOeLcVA4d1XAe8HYrisI7qgPdbITisozrg/VYMHNZRHfBhKIrDOqYDPm2F4LCO6YBPWzFwWMd0wMehKA7riA74vBWCwzqiAz5vxcBhHdEBJ4aiOKzjOeDMVggO63gOOLMVA4d1PAecGorisI7mgHNbITisozng3FYMHNbRHHByKIrDOpYDzm6F4LCO5YCzWzFwWMdywOmhKA7rSA44vxWCwzqSA85vxcBhHckBF4aiOKzjOODKVggO6zgOuLIVA4d1HAdcGorisI7igGtbITisozjg2lYMHNZRHHBxKIrDOoYDrm6F4LCO4YCrWzFwWMdwwOWhKA7rCA64vhWCwzqCA65vxcBhHcEBN4aiOKz3d8CdrRAc1vs74M5WDBzW+zvg1lAUh/XuDri3FYLDencH3NuKgcN6dwfcHIrisN7bAXe3QnBY7+2Au1sxcFjv7YDbQ1Ec1js74P5WCA7rnR1wfysGDuudHfBgKIrDel8HPNkKwWG9rwOebMXAYb2vAx4NRXFY7+qAZ1shOKx3dcCzrRg4rHd1wMOhKA7rPR3wdCsEh/WeDni6FQOH9Z4OeDwUxWG9owOeb4XgsN7RAc+3YuCw3tEBDkNRHNb7OcBjKwSH9X4O8NiKgcN6Pwe4DEVxWO/mAJ+tEBzWuznAZysGDuvdHOA0FMVhvZcDvLZCcFjv5QCvrRg4rPdygNtQFIf1Tg7w2wrBYb2TA/y2YuCw3skBjkNRHNb7OMBzKwSH9T4O8NyKgcN6Hwe4DkVxWO/iAN+tEBzWuzjAdysGDutdHOA8FMVhvYcDvLdCcFjv4QDvrRg4rPdwgPtQFIf1Dg7w3wrBYb2DA/y3YuCw3sEBAUNRHNbrOyBiKwSH9foOiNiKgcN6fQeEDEVxWK/ugJitEBzWqzsgZisGDuvVHRA0FMVhvbYDorZCcFiv7YCorRg4rNd2QNhQFIf1yg6I2wrBYb2yA+K2YuCwXtkBgUNRHNbrOiByKwSH9boOiNyKgcN6XQeEDkVxWK/qgNitEBzWqzogdisGDutVHRA8FMVhvaYDordCcFiv6YDorRg4rNd0QPhQFIf1ig6I3wrBYb2iA+K3YuCwXtEBE4aiOKzXc8CMrRAc1us5YMZWDBzW6zlgylAUh/VqDpizFYLDejUHzNmKgcN6NQdMGorisF7LAbO2QnBYr+WAWVsxcFiv5YBpQ1Ec1is5YN5WrO9FkR+T/pTKtKEsZ33/MS2jTObNZF/di7bPI0CqvL9MG4nttroA9t1YAasKwPZ9cQX8/AQ7AVgFwM/pr62AfZ9JgNAA395/31cbYCYBLIDv77/UAfbfZzACMB+AX8NfbgASsMQAv4a/3gDzJMAC+P7+Cx1g+2wChAXw7f3XOeCPApgmARbA1wNgaQV8+RCTCCAA399/WQXsX0MHzDPAX6NPYIBpBLAAvr//IgfYvoIAAvD9/Rc5YP/+OegAmX4ALHOA7msIgC+Ag/df4oCjz7ETgAUCWOOAowKYQoCAG+B47pqjAKYQgF0AL+ZuCU7AWWcANACv9m5PYoAZFSDIBng5dk1igBkEABfA66lbEgPMIAAXgHdTz2KACWeAoBrA3k1dsxhgAgGgBfBh6GkKIF4CoAB8GLqmKYBwAgTSAJ9mbklOwBkEIBbA55nnMUD4GQAIgH2eueYxQHQFCJwBzozcEhkgmgC4Ajg18kQGiCZAwArg3MQ1kQGizwCsAjg78VQFEEsAFAB2duKaqQBiJSBIBjg9cMtzAoYTAFQAFwaeygCxBOAAcGXemsoAoWeAoBjg2rxzGSCUAJACsGvzTmaASAmAAHBx3JrLAJEECIQBrk7bshVAIAEIBXB92pqtAOLOAAAA7kw71QkYWgHS3wB3pp3OAHEEtC+AW8PWbAaII6A7APdmbekMEHYGSG8D3Fy2PZ8BwghoXQB33z/UAbc/1E4A5ggg1gG3CyCIAGlsgAej1oQFEERA3wJ4MmnLdgLGnQFtAXi0antGAzQmQJIVQJwDnmEZIoGmBfBw0JbRADEESMsCeDzolAaIkUDHArDHg9aUBgghoCEAHnPOWQAREpB+BvCYs+YsgAgC2hWAy5gt4wkYQ0A3AJzGnNQAAWeA9DKAOY1ZkxoggIBWBeA35awG8JdAKwD8ppzVAP4ESCMDOA5ZsxrAn4A+BeA5ZMtbAN5nQBsAXJfMuQJ8P9vexQGSVQDuFbDviQloUgDeM85rAG8CegDgPmLNawDnM0A6GCBgxIkN4ExAgwKwgBFnNoCvBBoAEDFhTWwAXwKkvAFCBmypC8CVgOoFEDRgTV0AnmdAcQDCBpz3BOxQAZL9/b3OQN3zE1C6AOLmq6kN4EmAFC6AwPFabgN4ngF1CyByv/bkBnAkoCwAoe/v4oDYT7hXdYDkF4CPA2ILwI+AogUQPV3NXgBuBNQEIHy4VgAAq+gAKXAAODmgCgEFC6DE+0+4AnZUAPb8F8D/CLAKBEg5A4Svf/Z/D3aWQLUCKFH/szRgeABYjfov9PdBUssAhdZ/SgmUqoD07x/yM2KCb0EsAKpcfxM1YHUcILkPgKQ/LHgCAWUKwMrVf43/HVIGgJrrH18CRRwgid9/wu+OjbwFa1RA3ve3bL8/fvYZUAIAq1v/8RqoQIBkLQDd5sWSSqBAAZRf/+ASSH8GSs73121yom5By14BKQ8Am/7+cRqwzgBYi/oP1kBuB0hCAei2Kgl/cEDqAui0/pEl0BWAZusfdwtaXgdIsgPAFr9/kAYsbQVke/8tQTSXBNIC0K/+I0sgqQMk0/vbliaaiYCcBWBt1z/oFrReAFjD6y9YAxkdIGkEYFu6aBoCEhZA6/oPK4E+APRf/5ASsGwOkBwHgG5p43wLWrIKSPH+lvj93TXQAwCM+o/RQCoHSIL31y1/EvyGuUwFALX+/iVg1QEwsPV3vwXzOEAWv7+VeX9fDaSpgMUCsK1UdC0BkqQAAOvfvwQsRwUsFYBtBaMrCUgBgOGuv+8tmMEBsk4AVvT9HTWQoAIWvv9WOLqMgPUAYNe/cwnYagfIogPAtvLRRQQsLgDj+vvegtUAAL/+AjSw1AGy5P23NtEVBKwsANZ/QAlYHQCM6x9RAuscINMLQLd2cbgFl1XA7Pe3hu/vooEaALD+wzRgaxwgcw8A3frGphKwpACM6x9ZAvkB4PrH3oILHCDz3t/av/9zDcyvgInvv0FEp50B0wEw1n98CcwmQCYVgG1A0UkSmFwAXP85t+DUM1CmvL+Bvf8zDdjMCphyANgGGJ1BwEQAjPU/rwTmOUDiBWAbbDSegGkFwPWfewtmA4DX32QN2BwHSPABYBt8NJiAKQVgrP/5JZAJAK7/ihKY4ACJfH+u/9NbML4CAgVgfP/HGrAcABjrf5UGoh0gYQLg+vuUQHAFRL0/19+tBNYDwPVfegtapAMk5ADg9eeqAQusgJj35yv7amAtAKz/9SUQ5gDxf3+uf0QJRFWA//tz/UNuQVsFgPH6y6GBmAoQ7/fnu4ZpIAQAZwFw/SNLIOAMFNf35/rHloD5V4CrALj+0begzQbAeP3l0oC3A8RPAKz/KRpwrgC/9+f6TyqBmQBw/ROWgHk6QJwOAK7/xFvQHCvA5/15/c3VwCwAWP9ZNeDmAPF4f67//BLwqgCH9+f6rygBiwfAuP6Zb0EfB8jTAuD1t0wDLhXw+P35Wus0EAsA6z99CdhzB8ijA4Drv7gE7HEFPHp/rv/yWzAOAF5/NTTw0AHy4P35Pik08KwC7r8/1z9JCVgEAMb1r1MCTwiQmwXA9c90Cz4A4N778/pLpoHbZ6Dce3++SDIN2N0KuHUAcP3zlYB5AmBc/3olcM8Bcl0AXP+kt+CtCrj8/rz+8mrACwDWf1EN2HUHyMUDgOufugTscgVce3+uf/YS8ACA61/5FrzoALnw/rz+SmjgWgVceX9OvYQG7BkAxvqvXgJXHCBnC4DrX6gELlTA2ffn+pe6Be8DwOuvhQbsrAPk1AHA+i+nATtZAafen+tfsATuAcD171MCpxwgn9+f61/1FjxTAR/fn9dfXQ3YVQCM9d9LA58rQD68P9e/dgl8BOC9ALj+5Uvgwxkob9+f69/gFnxfAe8EwOuvhQbsLADG+u+pgXcOkNcC4Pq3KYE3FfDy/bn+nUrgDABc/8a3oL1ygBwfALz+umnAXlTAi/fn9Npp4BMArP/uJXDoADl4f65/0xI4qoCD9+f6d70F7TUAxusPQQPfHSB/FwDrv7UGvlXA3+/P9W9eAscAcP1hSsC+OkC+HABcf4Bb0L5UwJ/vz+sPQwPfAWD9Y2ngDwfI7/fn+uOUwO8K+PX+XH+kErA/ATCuP94t+H8C/nt/Xn9wGvgNAOsfUwP/noHy7/tz/SFL4GcF/Hx/rj9oCdhPAIzrj3sL/hD5wesPGQER1j82AVx/hmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYJjz/AHSS4YgPLZfxAAAAAElFTkSuQmCC",vz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAHlBMVEVMaXHkTCXkTCXlTCTkTSbxZSns6+v////uh2TwxbcDObZbAAAABHRSTlMAgL5DxzXuBgAAAAlwSFlzAAALEwAACxMBAJqcGAAABk1JREFUeNrt3YFq2DAMBNDETjLr/394lMKgY13tWNJJ9vkHAo+Le9oa9Th4eHh4kp96bn5GsM5r8zOUrM2tCrGIZXKG7qyDWMQilsGpQ1iFWMQiFraTbl/hiWWGtXcrLcQiVgSsvVvpSSxiBeikm7dSYhErQieFV/jb6xBr0opYA1ijnRRd4YlFrAWxRgs8usITKwtWJZYlViEWsQw6KbqVppp2NsFistw7KbqVEotY62GNF3hwKyUWsdbDqi+wCrGIZdBJN07WG6yTySKWQScFt1JiEWs5rDedFNtKiUWs5bDqka2Vrowlj/L5pXxWxhJlq8e4wA9V+OjJeoxHwyGsFjxZYp6sisN6cFglHZYQC5esZt1JR1rpHTxZobAuJguHBUxWfYlVlknWHQpLYidraSyXZGl2UuS8I9mmHei8k23aQWJJtgIPrfDEgiWrOWAB5510BR5Y4YVYGZJVX2OVRZJ1B8OSyMlaG0scCrxuJ0XOO+mmHWCFl3TTDnLeSVfggRVeiMVkmcw7kq/AA4fDtbGuNZJVY2A13Ll9sBQrfIv2m3/EQnyKYjDvSIpkEStestoKWGUGqxILM+8QazGsmQKvOu/cxOqv8MQamXcSYNUpLFSFJ1Z8rCMKloTCugywzlWxbixWy5+sModViRW/whMrPNZcJ1Wdd4hlNO9sj9XCY9XDrZUSCzTvECsQlsW0A5t3Mk47sHknZ7LqRlglENZDrIWwZjspat5ZHktz3iEW5Df/ml8nBX3stAGWRMS6iRVqpQP4YydMslyxWkCsJ2qyImKJY4EHfb9DrA2wIN/vQLBOV6wrIFYjVtACT6zwFZ5YECzXToqZdyTntJMc64mbrJYZS6OTQiq8JC3wmHmHWLGTpVHgIcOhJJ12IBVeknZSzLyTFgtQ4YVYgGQ5d9LcyXKedjDzTtJpBzLvSNJpB9NKkxZ4CJYQK3SydAr8UCt1XiP2RJt2IH+ctfMX+MJ1UmJZtVJfrEYsRSz3Ar8c1mWKdWbFegDJCosl4aadoVYaC0uIRSw0llaBR7TSPqyA005crF/EgmDVI28rJZY2VsRpZwiryf9Pg2Ndxlj+yx3STjuI5Q7e044iVs2JhSjwiH0FxAqMpddJAcsdVKad8FhKyx3yjoaAZXZ5Czxgmd0mWOKGpTntEAvSSQHzTt45GjDv2I2G155YMQs8oMITi1g2807i0dB/3kk87fjPO4kLPLFCV3gNrJtY4acd/3kn8bTjX+ETTzshsaJ2UuVPUqS1SazWfv66ZxGsT7D7LVaTrk97UmB17yv43y8+TEJBpx2zT/C/eyPfvnsRph3TfQX/eiNnIoUu8ObLHf5+IyehwFj2n+B/eSPfvnu7YH15I2cihZ52HJc7fP6MnISCTjvOyx2kzX9R/gCT5bvcQeHr+wfWSb0/wVfAEmIRC42lXeCdl9kpYLUcWFc2rEosJJbryjFi+WIBO+kiWLcT1pkL64Emy3XekdTTjnMrldQFnlhm/78jeCxogR/8BL81wWF9/IPrnQjr83NpBJa05v53axWwPl7Il2CiHSnfAv9+X0ET8cD6ESoF1puAjWJJj5RfgZ/ehDF05Yt2pHwLvMp+tm4v6b/O5/8weVCs7jdSlCOVMVndV77oQ3kWeOX9bD8ETFSu81WwfrjyRTlS3p3UZuXYN16icp2vhvXNGynKkVoG619XvuhDuRZ46/1sXwImvZPxplhfrnxRjtSKWH+ufNG4zoGd1HEf9f2xOFBbynXa8V3efd9eVsRCF3jffdTEIlZ2LJsC77qPmlghsSqx8FiFWNtgeXZS11bqRUWsbihiDUDZdVLXVuojRax+KGKNSBkWeM9W6gK1Pdbog+quWG8eZIdV4mK9fdB2WDMPOrbCmnyQHdYZDEvhQZtgqTyn2GHVKFhqz1keS/M5hljHWcBYuk8pZz1MT3UBc5E6XI69V/ZIuQbMEOryhfoDVuyxrtSR8gnYAu/ed2AWWFfO6zzMj8jUkUoBVsJBuZfWtJGKGbDwUJZXftbrPHbA0kQKDlZSQgGu/KSR8g/YElAOY2S66xwXsKUiZdopyrJQygFbOFLKYLtATXeKspvU24BtCvWiUyzYEGwCtnmkBsAI1XnlM1KdASNU75XP67w7YIwUDw8Pz/T5Ddsbzk1xP2rjAAAAAElFTkSuQmCC",yz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAMAAACJuGjuAAAAElBMVEXw208yMzD37aOuoURrZTny32T2oZmfAAAACXBIWXMAARlAAAEZQAGA43XUAAAMvUlEQVR42u3d25bjNg5A0VID8/+/PKtrcuvO9MUWQYLUPnnLQxxJW5DsssWPL1JBH1JBYAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJbAsgsElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWBJYAktgSWAJLIElgSWwBJYElsASWAJLAktgCSwJLIElsCSwBJbA0mbFZ/lN//t3YOlNUl8RXT/uD2Ng6RVT1+/2yQusBkct3/xnGqrr9ZbgAuvbI3e9V05Bn9fbTbcF1h6w4gaqvwcXWGANm1WL5hZY7WHFIFV/2gILrHdv1xvQAqszrPGqptECqzGsGlZzaIHVFlbUuZpAC6ymsGpZfS3AeiCsclbVQwusjrBihqvaT0nAaghrEqvSoQVWO1gxz1XhnRZY3WDFNbcE6xGw8ppdzeUQrFawYr6rIllgdYK1xFXNjRZYjWDFtaoA62BY61wVyAKrDayVrsbLAqsLrLWuhssCqwms1a5GywKrB6xV7wfLZIHVA1YDV2NlgdUCVgtXQz8pBasDrB6uhv7dEKwGsOK6jpMF1npYfVwNlAXWeljZCNawG3iwlsPqNLDG3cCDtRpWL1fDLoZgrYaV15GywFoMq9vAGnWbBdZiWNkPVoK1P6yGrsbIAmsprLhaFmBtDit7wkqw9obVdGCNGFlgrYSV17GywFoIq+3AGnAxBAuskpEF1kJYF1hgFcDqfCV0j7UxrDyXFVgLYcXJrsDaH9Zfq1/+chHDmV/IAmsZrByC6l+r48S9lXdGfTcZrFWwovCa9fZCKeN+AAbWtrB+buAtWn5XeACsrL4VeplW+iX0CbAmfH4Zq8YVWOtgxYx3bi8MrfQYozNgTXrnlmtYgbUjrBy+RekZpMfAmvYJZqxgBdYqWFF83/7CS9UsTQHWbrAGv0+oWqYJrDWwcp6rn26V1b/AuiEhJo8rsLaDNfRXG1ZYPQ/W7G8M59RxBdYqWDEbVsxlBdZmsIY91Sar9yRYW8G6MWZy4rgC60GwYuK4AutBsP56zQnjCqxVsN79tOHWxmX5ZwxgbQrr/joFOckVWA+C9ZGzxhVYz4L1Mc8VWI+C9QEWWGCBtcm7QrDAAgusqbACLLAqXgcssFq8DlhggQXWhl/0AwsssMCaDyvBAqsC1jYjC6w1N9XX6SMLrDWw8vSRBdZusDaRBdZ2sBIssAru3jeRBdZ+sLaQBdaGsHaQBdYaWDcf855ggVUBa97PuMDaDFbxiidggXXm5RCsRbAGLAjd+nII1ipYQ5YrDLDAGn4tbH2nBdbesNoOLbBWwRq2iH1PWmBtD6snLbCWwYrrOpgWWMtgDRxZDWmBdQis68pWtsBaByuu0TWiBdY6WKNHVitaYC2ENX5kfdIKsB4Oq2JkdRlbYK2EFdd1Ki2wlsLKq45WgPVYWHUja/nYAmsprI+8DqUF1lpYpSNr5RURrLWwikfWurEF1mJYcV1H0gJrMawJI2sJLbBWw5oxshbQAms1rFmyJt/Hg7Uc1pyL4eyxBdZ6WHFd59ECaz2sqbJm0QKrAayJF8PPb5qC9RRYc2VN+ZkrWC1gxWRZ9ddDsFrAmnubNYMWWD1gzZdVTAusJrAWyCp9whZYXWAtkRVgnQ9r9lvDWlpg9YG1RFbV9RCsRrBWXA2rhhZYnWCtkVUytMBqBWuVrADrcFiLZI3/Iw9YzWBN/+tO0dACqxusRW8OR8sCqx+sRbLGXg7Baghr1Y1WgnU4rANutMBqCWv/Gy2wmsJaNbQCrMNhrRpaAdbpsBYNrQDrdFiLhlaAdTysNUMrwDoe1hpaAdb5sJZcDwOsB8BaMbQCrAfAWkDr9ielYG0Ba8FvpcF6BqzptBKsh8CaTSvAegqsybQCrMfAmkorwXoQrJm0EqwnwfpKK9tfDMHaENa0sZVgPQ3WJFoJ1uNgzaEVYD0P1gxbCdYjYdXTCrCeCauaVoL1VFjFtgKs58KqpJVgPRlWIa0A69GwPj6ixlaC9XBYVWMrwHo8rBJaCRZYFbTAAquGVoAF1p/38atHFlhHwhpMCyywSmgFWGBV3GslWGBV0AILrBpaARZY35dggdV1aCVYYFUMLbDAGrpd718LwXoErNuywAKrRFaCBVaFLLDAqpEFFlglsgIssCo+dQALrB8HFljdLoZggVVyMUywwKoYWWCBVTKywAILLLA2uhaCBVbJyAJrd1gRYIE1HlbWjr+Y9EEWWL1gfX6NOMECayisP7+dHmAdVq6E9fePHhKsVuMmtoYVU95lgvXO+b4xrO9+o1V3MQTrjTMxd4X1r5/+pYnVZlyNONEXwcp5H7mCteKu9+29nuNfNcDq9BlBbLHXf3oVrJX19iZ+PA3WtwcmN4P1k+cqZIDV6JOnGPkfK4eV0/+y7W+F757wsQ+sXz0GpkKW72O9e2BywV6/KliV3GYFWG/Pl5i/168SVhWyfIP0xpGJ9nv99w1Hk4H1GFg/O+GzPawXnrEXTWA95HeFWXEwZp3Orz26MVq4egasXx6ZmDuwXnu9LD6kJVv4BFi/ccJn39P5jSfNZoOB9YDHGEXVscgJe/29BxjntDNy3P/Cl/PGVfH7tBsv9vaRHfPXnTtPMTocVuW7qfrT+Q7dWOvq8IfbRuGuiOq9fvMx/rnU1dGwXj0yMcvV77zS/dUhbg6tm6//cSysN45M7Xu1l/b6kJWScureu/nSu8CK0t1xb79n7TwcMLRivukvp46rV45E/e3PsBUpY8G4Onb1ryj+wHjCciDjVtF9mdaQBQs/ToQVtQfi/o6fcO/8tq1YdXf35eRx9RvHYdZafiPXlP+6Sb/3CceoRaEPXGx8zAn3A1uR81YfHSvrc5tijqojYcXI4xD/3OuROfd0zmt4323Ut1s38nU+TKxfHYnPxv43Z58j/2+j4o/Gb967X9zpDqvscMzf63lt2lsfzLa/ec9jYAVYRlbJXt9VVhwJq/vIipOm78A/UfaHFefs9XjOwNrhk/c853SOxwysLf5WmOeczvmUgbXHH6EPOp3zIQNrj6/N5DmnczxkYO0BKw46neMZA2uXL/oddDpvJev9L9pv8tXkPOh0zgdcCLeBFSft9jz/Qnj4jyma7vbI8wfWPj//6ncwsuJRyae42ugHq3nQbo/TL4Q7wYqTdvsOsu799Hqnn9ifc53YQta9DdzpoSB5zm7fQNbNDdzqaTN5yIVwB1l3N3Cv52PlGfcfG8i6feIc++C13hfC7p863B/Imz0qssmxiMPOk4KBfOozSJufz83/BjrgxNnuqckNZI1clCsPdbXj47jzIFcdb+HHPKL5zAUE+u/3vjdag86bLZc8yYNcdbscjprHey7SlCe5anU5HLZ5R67+tZmr0z6f2xnWopM8D9uewtNm2xVWV5zkedj2VG7exmtC577XiY5Da/BVfufFxuOE26suQ2v0NN4Z1tQjkadtUPFZszWsiUMrDjxXSrduc1iTDkTGmWO4cOt2hzXjQMxkNZ9W0dbtD6v8QMSpc7j0pDkBVumBiFPncPEsPgNW1YHIjHVbVG2rduNOgVVBa6Gq+rFVvXHnwBq15lIbVpWTOMo37iRYA4/DhD2/7JI45/p+GKwhxyEzjp3F086Y42DdPQ6NZtX3J0zudMIcCevN45D9RtX3G/WurszZJ8ypsF48DvN3/L2typfm1IpNOxnWPw9E/hDU5yKS225W/uRUWbpl58P6x5H4vlO3q8OWPQeWwBJYElgCS2BJYAksgSWBJbAElgSWwBJYElgCS2BJYAksgSWBJbAElgSWwBJYAksCS2AJLAksgSWwJLAElsCSwBJYAksCS2AJLAksgSWwpPuw/iON78t/Ae856L+13cm9AAAAAElFTkSuQmCC",_z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAGFBMVEVMaXHBv75xpVNjoj9joT+9vrlZljZsrEj95rw4AAAABnRSTlMA/kSQz5zFHIrZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFgUlEQVR42u3dC1LcMBREUX0e1v53nApJJTD4oydjCamvl3Cqu60ZBjsELi6Zq0DgwEoY1F6pGAj1WFtGofLKZdtQqJ2sshGt6haWjWhVXvaORbQqg/Ubi2hVBusdi2jVWb1jbZxMr48N/7A4mVZZ/cEiWlVWf7GIVo3VXyyidbXtH7GI1tn56gWL40OF1T8sinht9R+Lc/zZtL9iMVtXVh+wmK0rq49YaF1YfcJi5M+tPmOhdWr1goXWmdUrFlonVl+w0Pp6Fj3GQuvQagcLrSOrPSx1rUOrXSzxDz7mwtLWOrbax1LWysWLpfsxMRU/lqrWqdUhlugtsbRhSWpZK5agVi7NWBuD5cAyBqseS+yWaPewpGYrl5tYQlqp3MbaKKEDyyhhPZbIyNeUsAJLY7bsm7CMEtZjCRSxroRVWOsX0b4RayNYDqzFZ6t8K9baRczlm7UoYb3VyndE+3asdYvoCFY11kawHFqLFjE/YbVqEcszWCYfLPVoPWW14sbn57CyeLC0o5UftFouWk8Ga7WN9wbLqWXSwXIma6lo+YPl1DLlYHmTtVC0GoLl1VonWvZ8spaJVirPJ2uZaFkHq2WiVXoka5FjfO5itcgnxNInWUtEK3WyWiJa1itZC0QrdbNa4PSQSz+tRAt1otXYwkYtWqgz8aVrsjZaqDLx1jlZJtlCwWil3lYzT3zunixTbGFztJJeC5ut5u1hHpCsaY9aNgIrMVnL9/BOC29ogbV8D0uhhx0ODrewNjmsG1ZT9jCPStaMPbRRWJvavov1MI3DymKTdQvLxCbrFtYmNln3sJLWZN3DymCt28M8FCtJ7ftNrCy17zexDKxVRyuB1W/f72IlsBZdeBuMZUr7DlZHrE3pZngbK4G15MJnsGbCmmjhbTjWBtaSWGU8VgILLG2s9AOwMlhgPYI1zUErgzUX1gYWWGCBBdaiWAkssMACCyywwOJbB7DAAgusJf9gARZY6lgGFlg/9Aiv8+UfWH0PWmCB9UOxJvqdJFhTYU30c2UDC6yfedAS+k0pWF3PDkK/gwer69lB6Jg1Hkvqn6SlsPJgrATWolhpMFYAiyf3yD8xZOwDEqfDykOxEliL7vvQJ+DO91jXoVjTPTB4JNZ0j6K2gVizWY17eP6MT6JO47AmfNfAuB5O+BaLPCxZ81mNez3KlC85tEFYU76mKA/CClNeY7AmfdXomB5O+tK+NCRZIaj1UK6FI96NPPErbNOAZIVpL+uONfFrt/tHK82LFbona2Kr5omXm/cR0UpBMFp6835n4hWD1Xp6EJz3G9ESnPfmaGkGqzFaphmsjtFKQTNaqsFqOmuZaLDajvGqwWqJlskGqyVassFqiJYJnrHajw+6wfIfH0w4WO4imnCw3BtvUt9j3YyWiR4bmjbelEvo3XjTXXd/EU07WL4imvC6u4toyuvuLaKJl9BXRPESuor4pl5CTxHf5EvoKGKUL6FDK+oeR/2zFeUHy6EVGazqkY+RwaqerTqsIHFVYBUGq3a2arByCGhVYslYXY78NZaFgFYllpTVhVa8uh0mLazTA8QVlprVqdYFlp7ViVaMp6OVg+LVhqVpdXjc+o0VsarTOsOyEND6glWwqtI6xpK22tWK8aiH4lZ7WodYOQS09rEKVntatosVsao4y+9jYbWrFfe0Ekh739jEHSxDaF8rftWigkc3xfhFiwoeasUXLcPqeObjZy3m6mS4PlvFN1ROtF6wMDkZLoLluAiW43r7ZMWN0NFDPOp7yGI5ekgLHVhoOHoIRj0Wk+XoIVhgPXPS4mYI1jMLD5ZjtMACCyywZrodggXWM2cHsMACC6yZzg5ggQUWWGCBBRZYYD2DxV93wHpGCywHF1gOL7C4NK5fq6RZUU3FDHAAAAAASUVORK5CYII=",xz="/Portfolio-v1/assets/nextjs-03efab1b.png",Az="/Portfolio-v1/assets/ninjaStart-94c4e38b.svg",Sz="/Portfolio-v1/assets/ninjaStartYellow-cae8fdfa.svg",Mz="/Portfolio-v1/assets/node-js-930bb05b.png",Ez="/Portfolio-v1/assets/react-27da88bf.png",wz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAElBMVEVMaXHNZpnNZpnPZZrOZ5jNZ5kHkvYwAAAABXRSTlMAyIkdTWh3sWYAAAAJcEhZcwAACxMAAAsTAQCanBgAAAiNSURBVHja7Z3bmqowDIXNwfd/5f2ps2eAJm16AIqs/3JGERdJmqZpfTwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgIoiqKq94/QXCrCRiJqJnBiJmlVvLpMp5jRLN7qnYy5iebRDfSDBp12lhYbcQqlenm9jXOKH+6/Wl5iU6WKivlUt5F6U+cgl8rwKGUjczrj6l6EPsxXI/pd5TGk1TdHlPGOlL1apVKjjvk8xAITdQiqone45g9N3pFDVPWczP4OsZ1UHFA6GLO2LUqMZUWfTKpqUxoxpXjpLLRq2QUQ0uE8gl/TA0/O1QUNnasl5BqkhtYI+nLlcLWgH/269IR5cSS+g8pVI/pGs74M6F3+uIVZRq/yImX8QNS1IdsppwjZhVkuqgdSq6QuqQHwIPW6Lapg7XGwIPXG6ZP77nPfDIdU+ZPoHPeuCxS8Q8uRfKPFJNP9nReaRKhsLZag48kVTJzfBVXPCEdhaeuvKnU60HJ3ejl3DBU9pYdOr6O0/kgYZWdIVwdU5HBs/cGOJqxZPczQW0Oqfp7qJazeGCl9BqFhecKnN3tDrDBa2Cx1RNfzyPVlbBYyqtdBqt5m8zklm0sstoc5X7aI7Ybks1WY+y7YQ0hVTTFfvo/FZXr+Q/Xeu7nh2w3F7CCXfs9HYFa19JQucqdexsWB2BRTJdl1NuM+Te6E6NDpPtJJx0Ryb1jkHaEF8Km+2m3bzaH965qvlBSrsSad6N9zIgb+BY77tEDiyYege5Hd97LvLZ87WQ6HU2SGyT3PS7e0eIFeg63X2jwc9xJPTaoLebH9MIsYL7CXZr9tp++l6Zv46a67TKNeCgCz1qAiLjJjvV21pHHTlDh1UBeGTJQWI7ocYeZiTHzWxldM1B1B39XiK1qSTWrmrvce9YXtK9yki6olH/VXJmDwSHFsF43lpumpNI4GHLoXc0zUIdB+6Ljq2uWmrN0bIS8DA92itk0pJuwMNO6IqQOZc2Ax7GI+Yfc6sljQYvkaH8cYpae3j/bzkrMB8sZ+byPEUsO4Pg0UrVmG4gdNNZYpkmPdAVjcXB7NUDoZtPXMYzXXFQdUiri/1cTGf+ni6dkVDzTvVLt34jNXZOXsBSPWXJ3zSuXl/MbduoqUqSc1XeZK8HJoLDfZFbjj0sV45o+Sz5rN4DHrqWl5oVsf4Oi1RTOHraakry+iPTaVuutueljuqUF6vY2qOb+6LzGpVMX2yJ9OwZKGW/1mIp0n5eW602H6ReAfFzar8OPqt/iFxbF/x7v/zZgHWw5N+3FtNiJPmTZEZZt3Y7rrrdLVeygLEYVf9bxucl26kPLUI6GUFLKI35bI4FEjjDeMypCz1yGS1qnItJ6sVuTi8hZMgvyYcFV0+eow6eb5XLuk3ODnZk/ZPtcY5Nb9sMJdXHzQ6wL63PUqXc88U5KTc+RtursJMidPcQDJir1GWp3krrSl/JZQVbLXQjqqeV18+fHOW8r1ymqVhyZc7llOgcOR3o1tdkPz9Q/5ji7aD387s2u5RZJLJclounUjABtWcxOQ00MEcqNggYo+WAUG+51/Ip5BsdOFw355x+pe+kbaXLjWC8U+LFEaWSckFGTLFuWWJaRVZkQ64zpuKZykViBSri3E3n9qmSecPc5IN1NrJ84LRXWk9WBy1l7lkyludF73JcsQtxrRPZUUvMkQPbtNKwNOeEdnruzrxXw0ylhazqiXvL9T9NqTSsZ94JHyX5l19SVh9Q/Z15fEnMTut/M69cBcAa2thJR317ZEer98PqGth0eK+HkXYtZ6KcCRzqJ2Ga+44Z05LNX/vaW3SoaZl5gvjGo8F1CKvu4hcRfa20M2XiYVFLAjtOpWqi8/veuBOusljxDbQxG6cxfpiZ0IjnMVSc64pdKM6nBepptbLdJl/SAQtqqfvRwsw4FLL8Ba7MqC258wvIHyVaXUm6g1bifu/Bj/M1lnLN7/cFFOiU4YzvkmHWrZ5EXWKlo99PRqXP4ryXS+U5WV/Iz7A0FUK2H68jpnjU4YZGNf33NqzH6M5M1J1kixuwlmE/tayNYQ2aDlOzWab+tywRkTE+eWKJP456AWu1NCEZ59XE/ttL6tI4kFpB3UubxBaLCzVytSJPYopJP4NshsLNnfbUh7nJsNxQZQ5vWhBLzUD9eps6nsOri3A6hOoeKzXaYlgSOaKQimJR4oSka7HEKT6zbX3uWsaYRa0mJyxb1UYstt2Nkr+uU1t1gvt6JVXMIVbGry+32JVSbJHIEoutCL8srK0dyg7u6rug+1z6N6R/nkndOCpBqVaPVp0MgTYCitPdZmv1unF1f/NjdaPda/A/js99HuhatjlpTc5wF1mHNi6uwv4Nj5IOyGtViQZtiv1IVenFqVlJSFbJzgDt9XdnzsuZjoXd9n1wg21yxRKJ2D2MmeP331+VC1rpruvr40jyheyDZGfW6q9pqCOGPiJvn+uQmhoXfDzEM0DNr0yXdoA7753sPJE6rdYWIAHboNgyoO7TbHaqVly1Qr+8nJR2XP7F9fepBo8J4apeAa0zjtXlAmUnGdtQPJq6n4zQ/EK5Bgc8usBvrIacsEJZLUsv22Wi14lEF/0x+9QJNa4VlcbK+Y4c7aPGsEK/V7wM0/pVUtX8cItQ9KXv1k39MqWqpjlHHpRzES/0xNLjprbzEusxVHpCK2tClkus763VoySD05F8S63Mue/PrCyzD40ftyS83eykrdtz51mBbUPyuCsEs9rNtFged4YhVUeNBlJ1q0UKpWKeSDCq7Nxv0cIBpdIJIFk6KYTyFHsf2fJBIRMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACE+QcbvsyU6EZU7wAAAABJRU5ErkJggg==",Tz="/Portfolio-v1/assets/tailwind-e5e18457.png",Cz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAD1BMVEVMaXEAeswAeswAecwAesxCkbBkAAAABHRSTlMA7Z1dw5z8dwAAAAlwSFlzAAALEgAACxIB0t1+/AAACXRJREFUeNrt3d1ynLgWgFG0N+//zFN2ZaaSc5LYgP5Z311uHDeslgSm1cchSZKk95Z6Xb8AOPW6fgFQHI+3VQAAAAAAAAAAAAAAAEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAIAAAAAAAAAAAAAAAAAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAAAAAAAAAAAAAAAAAAAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAPY/AZ/Fjz7/AcArTnxEZObxuzLzE8M7AZRZq3ny/3Dm/w/Ch4N9AeRPHfMXXU/+TwyaGhgIoBxrVQNA3JPe0AAA/QCUJ+NcBgBrA4jH01yTYWAggHgTgKiyymlAAIAeAGKeeQiA/sc+cqKZCIDeR77UvsTNAsBCAGKuyQiAvoe9tLnDVXEQAKAlgJhtPgKg5zEvLW9wJwCzA2h8oyuXB5B7A2juu85CAIBGAHqMbwWAaQH0md8KAB3LCdc3BYApAfRb35aFAcS2AHq+sgLAdAD6vrACwGQAyrQzEwA9jnSZd2oCoMeB7r+2DQAmAjDiVQUA0wAY86RrAWAWADnz7ARA86McU09PALQ+yOM+6hAAzABg4N3tAsB4AGXyCQqAxod46J+3AoDRAAa/oALAYAA5+wgFQNMDPPzTzgWAoQBGP+ASRoChAAYPAHefEQagFoBY8O0PQEUAQ2eA+ycOgEoA7s8AH5vBfexC92PHyKxOE4AeAG4OAL/b/6tEp+EfgNEA/rhyuzAOPPyE2Mhdwp7u3BkXD3bLrULLrXf/394e2eHtv/hewdFtomwynGWFH5krfzBkKwDXZ4Cv37pf7y9QYZsIAOpMZ20u3LPx2x+AYQDy+UuMBr85AJ2WAM8/ZlZrnygAhgCIpz95h02idgKQR7PfJRu+/QEYBKA8+9mbbBT5XgD54BRttFXsTgCa3ryPZm9/AMZcBcb98SXLCcDyAMrdH59bfWHEawHk3VcazX91AOYE8DkJZDkBeCuAM4/9vjUMgEv/xQnAvABm+sM0AHuOAAAYAQAwAgDwyhtBAGwGIAB4N4AE4N0ADgBeDiAA2Ozi61h2DgCgSrnsEADAEADzHGkAxgBIALYCcP2zoQHAuwHMIgCAUQAmEQDAkBsB8wgAYMiNgGYP+QKwzAYRkwwCAAwFMH4QAGDcKnCKQQCAgavAGQgAMHgOGE0AgOFzwPHVloEArADg8W7xAcDSACrsFh4FgIUB1Nj6eMBFIQATDQEjCAAw1RDQfz0IQL2OWvVcDAAw3RDQdyYAYKIrwREzAQBzDgHdCAAw5Sqg32IAgHmHgC6LAQDmuxfQlQAA864DuxAAYPZJoPF6EID5J4GmBABYYRJoSACANSaBZmsBAFaZBA67hS8CoBzHQgQAWExA7buDACy1DKj/9CAACwqoeUEAwIoCKi4FAFhTQLV5AIBVBVQaBABYVkCdQQCAhQXUGAQAWFlAhUEAgGXvCNV5VQA0FZDTTwMAvHwaAODlAgDYYRoAYGIAXa4HAZgZQIdBIAGYGUCPG8MATA3gLDGpAAB2mQcSgLkBnGfkhAIA2GcpEADMDqAxgQBgegBtCRQA5gfQ8oIgAVgAQMvlYACwBIB2BAoAawBoRSABWAVAo1tDAcAyANoQKACsA+DjkiDHTgIAbLcYKACsBaD2TJAArAagMoECwHIAqi4GEoAFAdRcDBQAlgRQjUAAsCiASouBBGBZAHUIFADWBVCDQACwMoDnBBKAtQE8JlAAWBzAQwIBwPIAHhFIADYA8OQB0gLADgDuDwIA7AHg9iAQAGwC4OYgkADsAuDeN1AAsBGAWwIKAPsAuCMAgJ0A3BAQAOwEoDRbBACw6dUgAHsBOAF4OYDLQwAAewEojS4DANj1QgCAzQAEAMsBKDWPZwFgNQBR94C2uRMEQLO3f1b+TxOAhQD8uxVYAPBKANHgkAKwDICfn+FIAN4G4H8e4QkA3gUgHu7aBMDSAOL5vl2VALgPMADA7x/grPM/uxE0PYA/Pr+bALwBQNTZsqPOqwWgN4C/7+5SQcDVvwaeAHQE8OWnNx4LuDoDeCKoI4DvfHgnOg8AAPQDEDWvyysNAB4L7wbg21u7Rc8BAIBOAK58dDN7vVSfDOoF4OInd/Pu8b3+uRAAegBo9758OgH4dHAHALf2dY0+5x+A9gBubt5yfRooTaEB0Pf8Xx8E7u0RY4+geQFcGgRu7hJlm7jmAB59/2t+92mNu/8LANOuAf4jUFq9+w87hXYBUI6H/d3As6+QsVdwj8vA43GZ8buPj5V4+NUhdgvvciOo0lf8ZGZElM8iIvP5z/V9AV0AlGPWTgAmvRXcJ18a1euPQTknAF8b1+2vgVOef18c2e95gFh9AABgv0nAl0d3fSJo8QEAgO0mgTgB6PtQ6Lr3AADYcBkQAPQGUNZdAQKwnYACQH8AEy0D4gRgAIBpBMQJwBAAkwjIE4BBAKYQcOsVArDPSrAAMBDAeAHlBGAkgCcP8Y47/wDsck8wTgCGAxi4FCwnABMAGLYQKCcAUwAYsxDIcgIwCYAR00DWG7MAWHAQqLn9GADrDQIPzxkAaw8Cj18VAI1+ty4E8vkexAAsPA/U2IQcgHbzQGMCWeVsAbAogaz0ZVQALEkgq30XGQDNCeTEpx+ABa8IsupZAmCtYeA7u4sBMB2ASgaqn30AFjLQ4uwD0N/ALQQZ0erUrAzgLJea59eOCzvBZcOTvzyAlfvYEzD/tifgj+0Dm/8eAEwwjMUvdR2vAHi7PwAAAAAAAAAAAAAAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgADQ1AAcj/f167cQ6XUdkiRJkl7YP9DRC5/Lexz/AAAAAElFTkSuQmCC",bz=()=>{const n=kf(rb,"../../../Portfolio-v1/models/handpainted_sword/scene.gltf");return q.jsxs(q.Fragment,{children:[q.jsx("primitive",{object:n.scene,position:[-2.5,-15,0],scale:1}),";"]})};function Rz(){const{camera:n,mouse:e}=Qn(),t=new B;return Su(()=>{n.position.lerp(t.set(-e.x*5,0,0),.075),n.lookAt(0,0,0)})}function Pz(){return q.jsx("div",{className:"absolute left-0 right-0 top-0 bottom-0",children:q.jsx(K2,{children:q.jsxs(de.Suspense,{fallback:null,children:[q.jsx(bz,{}),q.jsx(Rz,{}),q.jsx(eb,{enableZoom:!1,maxPolarAngle:Math.PI/2.5,minPolarAngle:Math.PI/3.5,maxAzimuthAngle:Math.PI/8,minAzimuthAngle:-Math.PI/8,minDistance:40}),q.jsx(ib,{preset:"sunset"})]})})})}const Ki=({img:n,title:e,rating:t})=>q.jsxs("div",{className:"h-48 w-36  rounded  group ",children:[q.jsx("div",{className:"h-[33%] bg-[#fdfcdc] flex items-end justify-center  overflow-hidden relative group-hover:translate-x-2 transition-all rounded-t-md  shadow ",children:q.jsx("img",{src:n,className:"h-20 relative translate-y-1/2"})}),q.jsx("div",{className:"h-[34%] bg-[#fdfcdc] flex items-start justify-center overflow-hidden relative group-hover:-translate-x-2 transition-all   shadow ",children:q.jsx("img",{src:n,className:"h-20 relative -translate-y-1/2"})}),q.jsxs("div",{className:"h-[33%] bg-[#fdfcdc] flex  flex-col gap-2 w-full items-center justify-center overflow-hidden relative group-hover:translate-x-2 transition-all rounded-b-md shadow ",children:[q.jsx("div",{className:"font-bold",children:e}),q.jsx("div",{className:"flex gap-1",children:"8".repeat(5).split("").map((i,r)=>q.jsx("img",{src:r+1<=t?Az:Sz,className:"h-4"}))})]})]}),Lz=({})=>{const[n,e]=de.useState(!1);return q.jsxs("div",{className:"relative min-h-screen bg-[#fff3b0] pt-4 md:pt-24 ",children:[q.jsx("div",{className:"w-full md:hidden flex justify-center",children:q.jsxs("div",{className:"transition-all  font-bold  text-3xl text-[#4a4e69] w-fit ",children:[q.jsx("div",{className:`text-red-400 ${dc.nameJumpAnimation}`,children:"."}),"/my-skills"]})}),!n&&q.jsx(Np,{children:q.jsx("div",{className:`hidden md:block absolute top-0 left-0 right-0 h-fit ${dc.scrollMagicRemovePadding}`,children:q.jsx(Dp,{duration:500,pin:{pushFollowers:!1},triggerHook:0,offset:0,children:t=>q.jsx("div",{className:"w-full",children:q.jsxs("div",{className:`transition-all ${t>0?"relative left-full right-0 -translate-x-full":"relative left-1/2 -translate-x-1/2"}  font-bold text-6xl text-[#4a4e69] w-fit `,children:[q.jsx("div",{className:`text-red-400 ${dc.nameJumpAnimation}`,children:"."}),"/my-skills"]})})})})}),q.jsxs("div",{className:`flex gap-4 ${dc.fontSection}`,children:[q.jsxs("div",{className:"md:w-1/2 ",children:[q.jsx("div",{className:"pt-4 md:pt-0 w-full text-center text-[#4a4e69]  text-2xl",children:"MY CODING ARSENAL"}),q.jsxs("div",{className:"w-full  flex items-center gap-6 justify-around p-4 md:py-8 md:pl-10   flex-wrap",children:[q.jsx(Ki,{rating:4,img:vz,title:"Html-5"}),q.jsx(Ki,{rating:4,img:pz,title:"Css"}),q.jsx(Ki,{rating:5,img:yz,title:"Javascript"}),q.jsx(Ki,{rating:4,img:Cz,title:"Typescript"}),q.jsx(Ki,{rating:5,img:Ez,title:"React.Js"}),q.jsx(Ki,{rating:4,img:xz,title:"Next.Js"}),q.jsx(Ki,{rating:3,img:Tz,title:"Tailwind CSS"}),q.jsx(Ki,{rating:4,img:wz,title:"SCSS"}),q.jsx(Ki,{rating:4,img:Mz,title:"Node.JS"}),q.jsx(Ki,{rating:4,img:gz,title:"Gitlab"}),q.jsx(Ki,{rating:3,img:mz,title:"Firbase"}),q.jsx(Ki,{rating:2,img:_z,title:"Mongodb"})]})]}),q.jsx("div",{className:"hidden md:block  relative w-[50%] h-screen pt-10 ",children:q.jsx(Np,{children:q.jsx("div",{className:` w-full h-full ${dc.scrollMagicDefault}`,children:q.jsx(Dp,{duration:500,pin:{pushFollowers:!1},triggerHook:0,offset:-100,children:t=>(!n&&t==1&&e(!0),n&&t<1&&e(!1),q.jsxs("div",{className:" w-[48vw_!important] flex items-start justify-center h-screen",children:[q.jsx(Pz,{}),q.jsx("div",{className:"w-[50%] rounded-full aspect-square bg-red-600"})]}))})})})})]})]})},Iz=({hidePopUp:n})=>q.jsx("div",{className:"fixed z-50 bg-opacity-60  bg-slate-900  top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4",children:q.jsxs("div",{className:"flex justify-center flex-col bg-yellow-100 p-8 text-center rounded gap-4",children:[q.jsx("div",{className:"text-[#4a4e69]",children:"For better experience, please view on desktop "}),q.jsxs("button",{onClick:n,className:"mx-auto w-fit md:hidden self-start  py-2 px-4 flex justify-center items-center  bg-yellow-100 hover:bg-yellow-300 focus:bg-yellow-100 focus:ring-offset-yellow-200 text-[#4a4e69]  transition ease-in duration-200 text-center text-sm md:text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-full",children:[q.jsx("svg",{width:"20",height:"20",className:"mr-2",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M1344 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h427q21 56 70.5 92t110.5 36h256q61 0 110.5-36t70.5-92h427q40 0 68 28t28 68zm-325-648q-17 40-59 40h-256v448q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-448h-256q-42 0-59-40-17-39 14-69l448-448q18-19 45-19t45 19l448 448q31 30 14 69z"})}),"View Mobile Version"]})]})});function Nz(){const[n,e]=de.useState(window.innerWidth<768);return q.jsxs("div",{children:[n&&q.jsx(Iz,{hidePopUp:()=>e(!1)}),q.jsx(q4,{}),q.jsx(IL,{}),q.jsx(Lz,{}),q.jsx(uz,{}),q.jsx(qL,{})]})}V0.createRoot(document.getElementById("root")).render(q.jsx(Si.StrictMode,{children:q.jsx(Nz,{})}));
